var TagAppEmbed =
    TagAppEmbed ||
    (function (t, e) {
        function a(t) {
            for (var e = "", a = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789", d = 0; d < t; d++)
                e += a.charAt(Math.floor(62 * Math.random()));
            return e;
        }
        return {
          init: function () {

    const classList = [
        "tagembed-socialwall",
        "tagembed-widget",
        "taggbox-socialwall",
        "taggbox",
        "tagshop-socialwall"
    ];

    classList.forEach(className => {

        const elements = document.getElementsByClassName(className);

        for (let n = 0; n < elements.length; n++) {

            const el = elements[n];

            if (
                !el.getAttribute("data-is-load") ||
                el.getAttribute("data-is-load") === "0"
            ) {

                const url = "https://widget.tagembed.com/embed.json";
                const renderId = `root_${a(5)}`;

                el.setAttribute("data-render-id", renderId);
                el.setAttribute("data-is-load", 0);
                el.setAttribute("id", `co_${renderId}`);

                window.isTagEmbd = true;

                fetch(url)
                    .then(res => res.json())
                    .then(res => {

                        const { css, script } = res;

                        const wrapper = document.createElement("div");
                        wrapper.setAttribute("id", renderId);

                        const parent = document.getElementById(`co_${renderId}`);
                        if (parent) {

                            parent.appendChild(wrapper);

                            const link = document.createElement("link");
                            link.type = "text/css";
                            link.rel = "stylesheet";
                            link.href = css;
                            document.head.appendChild(link);

                            const scriptTag = document.createElement("script");
                            scriptTag.src = script;
                            document.body.appendChild(scriptTag);
                        }
                    });
            }
        }

    });
}
        };
    })(window);
TagAppEmbed.init();
