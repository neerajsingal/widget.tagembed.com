"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[2563],{82603:(e,t,a)=>{a.d(t,{Z:()=>u});var n,i=a(96011),r=a.n(i),l=a(296),o=a(52867),s=a(66345),d=a(63246),c=a(14313),v=a(28322),u=function(e,t,a,i,u,h,p){var g=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;return w=>{var b,m;if(g||!s.sb&&!s.eg){var{wall:f}=l.A.getState().appData,k=l.A.getState().appData.postData,_=4===f.ThemeInfo.id&&1==f.ThemeStyle.row,y=(0,v.AM)(o.wV);if(y&&y.headers&&Object.keys(y.headers).length>0)(y.headers.tag||p)&&(y.headers.tag=1),p?y.headers.selectedkeyword=p:y.headers.keywords&&(y.headers.keywords.length>0?y.headers.keywords="".concat(y.headers.keywords):y.headers.selectedkeyword="".concat(y.headers.keywords)),y.headers.action=1;else if(p){var x={tag:1,selectedkeyword:"".concat(p),action:1};y.headers=x}else{x={action:1};y.headers=x}var j=(null===k||void 0===k||null===(b=k.filteredDataObject[i])||void 0===b?void 0:b.length)||0,S=null!==k&&void 0!==k&&k.filteredDataObject?Object.keys(k.filteredDataObject):[];S.length>0&&0==i&&S.map((e=>{var t;j+=(null===k||void 0===k||null===(t=k.filteredDataObject[e])||void 0===t?void 0:t.length)||0}));var D=(null===k||void 0===k||null===(m=k.tagfilteredDataObject[p])||void 0===m?void 0:m.length)||0,I=null!==k&&void 0!==k&&k.filterCountTags?Object.keys(k.filterCountTags):[];I.length>0&&""==p&&I.map((e=>{var t;D+=(null===k||void 0===k||null===(t=k.filteredDataObject[e])||void 0===t?void 0:t.length)||0})),D<a&&p||j<a&&j!=i?(n&&n.cancel(),n=r().CancelToken.source(),y.cancelToken=n.token,w({type:d.dC,payload:!0}),w({type:d.Sg,payload:{appendData:{after:k.appendData.after,networkID:i,heightEvent:h,tagName:p},filterNetworkId:i,newData:[],hasMoreData:{[i]:{hasMoreData:!0,after:k.appendData.after}},tagName:p}}),u&&(new c.A).get("".concat(s.iT).concat(e,"/").concat(t,"/").concat(a,"/").concat(i,"/1/").concat(u),y).then((e=>{var t,n=(t=e).data.data;w({type:d.Sg,payload:{appendData:{after:t.data.after,networkID:i,heightEvent:h,tagName:p},filterNetworkId:i,newData:n,hasMoreData:{[i]:{hasMoreData:!(_&&Object.keys(t.data.data).length<a)&&1==t.data.hasPost,after:t.data.after}},tagName:p,isFilter:!0}}),w({type:d.dC,payload:!1})})).catch((e=>{w({type:d.dC,payload:!1})}))):(w({type:d.Sg,payload:{appendData:{after:k.appendData.after,networkID:i,heightEvent:h,tagName:p},filterNetworkId:i,newData:[],hasMoreData:{[i]:{hasMoreData:!0,after:k.appendData.after}},tagName:p}}),w({type:d.dC,payload:!1}))}}}},81572:(e,t,a)=>{a.r(t),a.d(t,{default:()=>r});var n=a(44414),i=(e,t,a)=>(0,n.jsx)("div",{className:"tb_avg_rating_ico__ tb__icon tb-star-outline",style:{color:e,fontSize:a,minWidth:a+"px"},children:(0,n.jsx)("div",{className:"tb_avg_rating_ico_fill__ tb__icon tb-star-fill",style:{color:e,width:10*t+"%",fontSize:a},children:(0,n.jsx)("div",{})})});const r=e=>{var{rating:t,size:a,color:r}=e,l=t>5?5:t,o=Math.trunc(5-l),s=Math.trunc(l),d=String(l).split(".")[1];return(0,n.jsxs)("div",{className:"tb_avg_rating__","aria-label":"Rating: 1 out of ".concat(l," stars"),children:[s?[...Array(s)].map(((e,t)=>(0,n.jsx)("div",{"data-index":t,className:"tb_avg_rating_ico__ tb__icon tb-star-fill",style:{color:r||"#F8B90C",fontSize:a,minWidth:a+"px"},children:(0,n.jsx)("div",{})},t))):null,d>0?i(r||"#F8B90C",d,a):null,o?[...Array(o)].map(((e,t)=>(0,n.jsx)("div",{className:"tb_avg_rating_ico__ tb__icon tb-star-outline",style:{fontSize:a,minWidth:a+"px"},children:(0,n.jsx)("div",{})},t))):null]})}},92663:(e,t,a)=>{a.r(t),a.d(t,{default:()=>d});var n=a(9950),i=a(91697),r=a(66345),l=a(76506),o=a(44414),s=(0,n.lazy)((()=>a.e(620).then(a.bind(a,20620))));const d=e=>{var{networkId:t,networkClass:a,iconStyle:d,link:c,tabStart:v}=e,u=505===(null===d||void 0===d?void 0:d.default)||[7,4,36].includes(t),h=c&&r.yR?(0,l.C9)(c):"#",p=(0,o.jsx)(n.Suspense,{fallback:null,children:(0,o.jsx)(s,{networkId:t,networkClass:a})}),g=(0,o.jsx)("span",{className:"".concat(a," tb__icon tb-").concat((0,i.EC)(t)),"aria-label":"post network ".concat((0,i.Oi)(t))});return c?(0,o.jsx)("a",{role:"tab",href:h,target:"_blank",rel:"noreferrer",tabIndex:0,className:u?void 0:"".concat(a," tb__icon tb-").concat((0,i.EC)(t)),"aria-selected":"true","aria-controls":u?void 0:"post network ".concat((0,i.Oi)(t)),"aria-label":u?void 0:"post network ".concat((0,i.Oi)(t)),children:u?p:null}):u?p:g}},82563:(e,t,a)=>{a.r(t),a.d(t,{default:()=>S});var n=a(89379),i=a(9950),r=a(10300),l=a(52867),o=a(80415),s=a(66345),d=a(78213),c=a(82603),v=a(81572),u=a(76506),h=a(92663),p=a(93152),g=a(44414);class w extends i.PureComponent{constructor(e){super(e),this.toggleDropdown=()=>{var{activeId:e}=this.state,{reviewFilters:t}=this.props;if((0,l.no)()&&this.props.onSitePopup(!0),0!==e&&t.length>0){var a=t.filter((t=>t.Network.id===e));a&&a.length>0&&window.open(a[0].Network.link,"_blank")}else this.setState((e=>({isOpen:!this.state.isOpen})))},this.handleClickOutside=e=>{this.dropdownRef.current&&!this.dropdownRef.current.contains(e.target)&&this.setState((e=>({isOpen:!1})))},this.totalReviewNetworks=e=>t=>{var a,{network:n,activeId:i}=(0,u.pD)(e);this.props.changeFilterStatus&&this.props.changeFilterStatus(2);var r=Math.floor(Date.now()/1e3),{appendData:l,wall:o}=this.props,s=o.ThemeStyle.totalPosts;this.props.filterPostDataAppendWebFilter(null===o||void 0===o||null===(a=o.ThemeInfo)||void 0===a?void 0:a.webId,r,s,i,l.after,l.heightEvent,null,1),this.setState({network:n,activeId:i,networkID:i})},this.getReviewLogo=e=>{switch(e){case"Overall":return"";case"Facebook":return"facebook";case"Google Review":return"google";case"Yelp":return"yelp";case"Etsy":return"etsy";case"Amazon":return"amazon";case"Tripadvisor":return"tripadvisor";case"Review Hub":return s.MH?"tagbox":"tagembed";case"AliExpress":return"aliexpress";case"Airbnb":return"airbnb";case"Trustpilot Reviews":return"trustpilot";case"UGC Uploader":return"snapup";case"Booking.com":return"booking"}},this.bannerNetworkButton=e=>{var t,a,{reviewFilters:n,onSitePopup:i}=this.props;if((0,l.qK)(e))return 1==(null===n||void 0===n||null===(t=n.reviewFilters)||void 0===t?void 0:t.length)&&29==(null===n||void 0===n||null===(a=n.reviewFilters[0])||void 0===a?void 0:a.id)?i(!0):void this.toggleDropdown()},this.state={getNetwork:[],networkID:null,isOpen:!1,activeId:0,network:{name:"",avgRate:0,totalReviews:0,color:this.props.wall.Banner[0].title.style.font}},this.dropdownRef=i.createRef()}componentDidMount(){document.addEventListener("click",this.handleClickOutside);var{network:e,activeId:t}=(0,u.pD)(this.props.reviewFilters.reviewFilters);this.setState({network:e,activeId:t,networkID:t})}componentDidUpdate(e){if(e.Banner!==this.props.Banner){var{network:t,activeId:a}=(0,u.pD)(this.props.reviewFilters.reviewFilters);this.setState({network:t,activeId:a,networkID:a})}}componentWillUnmount(){document.removeEventListener("click",this.handleClickOutside)}render(){var e,t,a,n,{reviewFilters:r,wall:d,onSitePopup:c}=this.props,{isOpen:p,network:w,activeId:b}=this.state,{Banner:m}=d,f={color:m[0].subTitle.style.color,fontFamily:m[0].subTitle.style.font,fontSize:"".concat(Number(m[0].subTitle.style.size),"px")},k={color:m[0].title.style.color,fontFamily:m[0].title.style.font,fontSize:"".concat(Number(m[0].title.style.size),"px")},_={backgroundColor:m[0].button.style.background,color:m[0].button.style.color,fontSize:"".concat(Number(m[0].button.style.size),"px")};return(0,g.jsx)("div",{className:"tb_rv_container",style:{padding:d.CardStyle.style.margin/2},children:(0,g.jsxs)("div",{className:"tb_rv_wrapper",style:{borderRadius:d.CardStyle.style.radius,backgroundColor:m[0].background.primaryColor},children:[null!==r&&void 0!==r&&r.reviewFilters&&(null===r||void 0===r?void 0:r.reviewFilters.length)>1?(0,g.jsx)("div",{className:"tb_rv_scrollable",children:(0,g.jsx)("div",{className:"tb_rv_filter_wrap",children:(0,g.jsxs)("div",{className:"tb_rv_filter_wrap_in",children:[Object.keys(null===r||void 0===r?void 0:r.reviewFilters).length?(0,g.jsx)("div",{className:"tb_fil_soc_btn".concat(0===b?" tb_fil_active":""),onClick:this.totalReviewNetworks(null===r||void 0===r?void 0:r.reviewFilters),children:(0,g.jsx)("div",{className:"tb_fil_btn_txt",children:d.ThemeStyle.language.text.all})}):null,Object.keys(null===r||void 0===r?void 0:r.reviewFilters).length&&(null===r||void 0===r?void 0:r.reviewFilters.map(((e,t)=>(0,g.jsx)("div",{className:"tb_fil_soc_btn".concat(b===e.id?" tb_fil_active":""),onClick:this.totalReviewNetworks([e]),children:(0,g.jsxs)(i.Suspense,{fallback:(0,g.jsx)(g.Fragment,{}),children:[" ",(0,g.jsx)(h.default,{networkClass:"tb_review_filter_ico",networkId:e.id,iconStyle:e.icon})]})},t))))]})})}):null,(0,g.jsxs)("div",{className:"tb_rv_banner_wrap",style:{minHeight:m.banner_height},children:[(0,g.jsxs)("div",{className:"tb_rv_rating",children:[(0,g.jsx)("div",{className:"tb_rv_head_text",children:"Overall"!==w.name?(0,g.jsx)("div",{className:"tb_rv_head_logo",children:(0,g.jsx)("img",{className:"tb_rv_head_log_img",alt:this.getReviewLogo(w.name),"data-name":this.getReviewLogo(w.name),src:"".concat(o.th,"media/review-logo/").concat(this.getReviewLogo(w.name),".svg?v=1"),height:40,width:50,style:{marginTop:"Trustpilot Reviews"===w.name?-6:""}})}):null}),(0,g.jsxs)("div",{className:"tb_rv_rating_wrap",children:[29!==b||2!=(null===d||void 0===d||null===(e=d.SnapUp)||void 0===e||null===(t=e.Form)||void 0===t?void 0:t.type)?(0,g.jsxs)(g.Fragment,{children:[" ",(0,g.jsx)("div",{className:"tb_rv_review_count ".concat(s.MH?"tb-cTBfont-".concat(m[0].title.variant):""),style:s.MH?k:{color:m[0].subTitle.color},children:w.avgRate}),(0,g.jsx)("div",{className:"tb_rv_rview_star",children:(0,g.jsx)(v.default,{size:!1,rating:w.avgRate,color:m[0].star.color})})," "]}):null,(0,g.jsxs)("div",{className:"tb_rv_review_total_post tb-cTBfont-".concat(s.MH?m[0].title.variant:m[0].subTitle.styl.variant),style:s.MH?k:f,children:[(0,u.sl)(w.totalReviews)," ",m[0].subTitle.variant?m[0].subTitle.variant:"reviews"," "]})]})]}),(0,g.jsxs)("div",{className:"tb_rv_banner_btn_wrap",ref:this.dropdownRef,children:[(0,g.jsx)("div",{className:"tb_rv_banner_btn tb-cTBfont-".concat(m[0].button.style.variant),tabIndex:0,onKeyDown:e=>{this.bannerNetworkButton(e)},onClick:e=>{this.bannerNetworkButton(e)},style:_,children:1==(null===r||void 0===r||null===(a=r.reviewFilters)||void 0===a?void 0:a.length)&&29==(null===r||void 0===r||null===(n=r.reviewFilters[0])||void 0===n?void 0:n.id)&&"Follow"==m[0].button.text?"Write a Review":m[0].button.text}),p&&!(0,l.no)()&&(0,g.jsxs)("div",{className:"tb_rv_dropdown_ ".concat(p?"tb_rv_dd_show":""),children:[(0,g.jsx)("div",{className:"tb_rv_dropdown_title",children:"Where do you want to leave a review?"}),Object.keys(r).length&&(null===r||void 0===r?void 0:r.reviewFilters.map(((e,t)=>{var a;return(0,g.jsxs)("div",{className:"tb_rv_dropdown_list",onClick:t=>e.link?29==e.id?c(t):window.open(29==e.id?"".concat((0,l.dq)()).concat(d.ThemeInfo.webId,"?").concat(d.ThemeInfo.webId!=d.ThemeInfo.wallId?"website=true&":"","onsite-upload"):e.link,"_blank"):null,children:[(0,g.jsx)(h.default,{networkClass:"tb_rv_dd_ico",networkId:e.id,iconStyle:null===(a=d.CardStyle)||void 0===a?void 0:a.icon}),e.name&&String(e.name).includes("Google")?"Google":String(e.name).includes("UGC Upload")?"SnapUp":e.name]},t)})))]})]})]})]})})}}const b=(0,r.Ng)(null,{filterPostDataAppendWebFilter:c.Z,onSitePopup:p.b8})(w);var m=a(28322),f=i.lazy((()=>a.e(912).then(a.bind(a,60912)))),k=i.lazy((()=>a.e(4189).then(a.bind(a,34189)))),_=i.lazy((()=>a.e(3820).then(a.bind(a,63820)))),y=i.lazy((()=>Promise.all([a.e(8092),a.e(4079),a.e(3556),a.e(4759),a.e(6618)]).then(a.bind(a,6618)))),x=i.lazy((()=>Promise.all([a.e(8400),a.e(8674)]).then(a.bind(a,30629))));class j extends i.PureComponent{constructor(){super(),this.updateContainerSize=()=>{if(this.containerRef.current){if(s.aD){var{wall:e}=this.props,{Banner:t,Ticker:a}=e;this.setState({cardHeight:window.innerHeight-(a.height+t.status?t.height:0)})}this.setState({containerSize:{width:this.containerRef.current.offsetWidth,height:this.containerRef.current.offsetHeight}})}},this.onLoadSpotLight=()=>{var{postData:e}=this.props;if(e.completeDataObject&&Object.keys(e.completeDataObject).length>0){var t=null;Object.entries(e.completeDataObject).forEach((e=>{var[a,n]=e;1==(null===n||void 0===n?void 0:n.highlight)&&null==t&&(t=n)})),t&&Object.keys(t).length>0&&(0,d.ar)(t)}},this.updateHeaderHeight=e=>{this.setState({CusBannerHeight:e})},this.state={containerSize:{width:null,height:null},CusBannerHeight:0,cardHeight:0,parentID:""},this.containerRef=i.createRef()}componentDidMount(){var e,t;(this.updateContainerSize(),window.addEventListener("resize",this.updateContainerSize),this.observer=new IntersectionObserver((e=>{var[t]=e;t.isIntersecting&&((0,l.KL)(),this.observer.disconnect())}),{threshold:.002}),null!==this&&void 0!==this&&null!==(e=this.containerRef)&&void 0!==e&&e.current)&&this.observer.observe(null===this||void 0===this||null===(t=this.containerRef)||void 0===t?void 0:t.current);s.aD&&!s.Vn&&this.onLoadSpotLight()}componentWillUnmount(){window.removeEventListener("resize",this.updateContainerSize)}componentDidUpdate(){var e,t=document.querySelector(".tb_app_container"),a=l.wV?l.wV:null===t||void 0===t||null===(e=t.parentNode)||void 0===e?void 0:e.id;this.setState({parentID:a})}render(){var e,t,a,r,d,c,v,u,{wall:h,webFilters:p,reviewFilters:w,languageSetting:j,postData:S,filter_tags:D}=this.props,{containerSize:I,parentID:N,cardHeight:F}=this.state,{SnapUp:C,ThemeInfo:T,Banner:R,ThemeStyle:B,CustomBanner:O,Ticker:z}=h,H=null===T||void 0===T?void 0:T.id,M=(null===C||void 0===C?void 0:C.ruleStatus)&&(![63,64,50,82].includes(H)||s.aD),E=![55,52,60,16,47,57,61,86,62,50,81,80,84,82].includes(H),P=!s.aD&&1===(null===B||void 0===B?void 0:B.filterStatus)&&(!p||p.length>1),A=!!(D&&D.length>0),L=!(!s.aD||null===h||void 0===h||null===(e=h.spotlight)||void 0===e||!e.status),U=""!=p&&p&&p.length?p.map((e=>{var{Network:t}=e;return null===t||void 0===t?void 0:t.id})):null;!s.HY&&null!==h&&void 0!==h&&null!==(t=h.Background)&&void 0!==t&&t.image&&h.Background.image.includes(o.vr)&&(h.Background.image=String(h.Background.image).replace(o.Vy,""));var W=m.EP?{backgroundColor:"transparent"}:1===(null===h||void 0===h||null===(a=h.Background)||void 0===a?void 0:a.status)&&84!==H?{backgroundImage:null!==h&&void 0!==h&&null!==(r=h.Background)&&void 0!==r&&r.url?"url(".concat(null===h||void 0===h||null===(d=h.Background)||void 0===d?void 0:d.url,")"):"",backgroundColor:null===h||void 0===h||null===(c=h.Background)||void 0===c?void 0:c.color}:null,G=!![63,64].includes(H)&&1==(null===(v=h.Reviews)||void 0===v?void 0:v.themeStatus)||s.aD||s.Vn||s.MH,V=s.aD&&!s.Vn&&(null===z||void 0===z?void 0:z.status),Y=V&&1==(null===z||void 0===z?void 0:z.position),q=V&&2==(null===z||void 0===z?void 0:z.position),K=!!(R&&Object.keys(R).length>0),X=!s.aD&&E&&(P||A)&&!K,Z=K?(0,l.Gv)(R)?R:R[0]:{},Q=!!R&&Object.keys(R).length&&1===(null===Z||void 0===Z?void 0:Z.status)&&[0,1].includes(null===Z||void 0===Z?void 0:Z.position)&&![57,84,87,82].includes(H)&&!L,J=((null===R||void 0===R?void 0:R.status)&&2==(null===R||void 0===R?void 0:R.position)&&!L&&[57,84,87,82].includes(H),K&&1===(null===Z||void 0===Z?void 0:Z.status)&&6==(null===Z||void 0===Z?void 0:Z.type)||8==(null===Z||void 0===Z?void 0:Z.type)&&0===(null===B||void 0===B?void 0:B.filterStatus)&&![57,84,87,82].includes(H)),$=M&&!m.EP&&(![4,20,5,19,3,83,16,47,60,79,80,81,84].includes(T.id)||[47,16,60,81,80].includes(T.id)&&(0,l.Fr)()||!T.IsUser);return(0,g.jsxs)("div",{className:"tb_app_container",ref:this.containerRef,"data-embed-id":null===h||void 0===h||null===(u=h.ThemeInfo)||void 0===u?void 0:u.webId,children:[Y?(0,g.jsx)(i.Suspense,{fallback:(0,g.jsx)(g.Fragment,{}),children:(0,g.jsx)(k,{Ticker:z})}):null,Q&&!m.EP?(0,g.jsx)(i.Suspense,{fallback:(0,g.jsx)(g.Fragment,{}),children:(0,g.jsx)(f,{Banner:R,CustomBanner:O,updateHeaderHeight:this.updateHeaderHeight})}):null,(0,g.jsxs)("div",{className:"tb_app_wrapper",style:W,children:[J&&Q&&!m.EP&&!m.EP||(0,l.no)()?(0,g.jsx)(i.Suspense,{fallback:(0,g.jsx)(g.Fragment,{}),children:(0,g.jsx)(b,{isHeader:!1,reviewFilters:w,languageSetting:j,bannerType:null===Z||void 0===Z?void 0:Z.bannerType,appendData:S.appendData,wall:h,postData:S})}):null,J||Q&&![49,52,85].includes(T.id)&&T.IsUser||!$?null!==T&&void 0!==T&&T.isRevieview?(0,g.jsxs)(i.Suspense,{fallback:(0,g.jsx)(g.Fragment,{}),children:[" ",(0,g.jsx)(x,{ThemeInfo:T,SnapUp:C})," "]}):null:(0,g.jsxs)(i.Suspense,{fallback:(0,g.jsx)(g.Fragment,{}),children:[" ",(0,g.jsx)(x,{ThemeInfo:T,SnapUp:C})," "]}),X&&!m.EP?(0,g.jsxs)(i.Suspense,{fallback:(0,g.jsx)(g.Fragment,{}),children:[" ",(0,g.jsx)(_,{type:2,webFilters:p,filter_tags:D,appendData:S.appendData,wall:h,postData:S})]}):"",!G||L||null!==T&&void 0!==T&&T.isRevieview?null:(0,g.jsx)(i.Suspense,{fallback:(0,g.jsx)(g.Fragment,{}),children:(0,g.jsx)(y,(0,n.A)((0,n.A)({},this.props),{},{cardHeight:F,brandingNetworks:U,containerSize:I,parentID:N,CusBannerHeight:this.state.CusBannerHeight}))}),T.IsUser&&Q&&![49,52,85].includes(T.id)&&$?(0,g.jsxs)(i.Suspense,{fallback:(0,g.jsx)(g.Fragment,{}),children:[" ",(0,g.jsx)(x,{ThemeInfo:T,SnapUp:C})," "]}):null]}),q?(0,g.jsx)(i.Suspense,{fallback:(0,g.jsx)(g.Fragment,{}),children:(0,g.jsx)(k,{Ticker:z})}):null]})}}const S=(0,r.Ng)((e=>({renderId:e.renderId})),null)(j)},76506:(e,t,a)=>{a.d(t,{C9:()=>g,Cq:()=>p,HI:()=>u,Ph:()=>_,S2:()=>f,TW:()=>j,Uy:()=>c,fF:()=>w,hZ:()=>b,hz:()=>h,p5:()=>y,pD:()=>S,pj:()=>x,sl:()=>k,um:()=>v,wG:()=>m});var n=a(66345),i=a(80415),r=a(296),l=a(68553),o=[],s=!1,d=new Headers({"Content-Type":"application/json",Authorization:"Bearer ".concat(n.$x),Productdomain:n.QR}),c=e=>{var t;return null===(t=document.getElementById("tb_onsite_btn_id"))||void 0===t?void 0:t.classList.toggle("tb_onsite_btn_disabled",1===e)},v=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(n.aD||"reviewHub"==e)return window.parent.postMessage({type:e,owerId:a},"*");var i={1:()=>window.onShowDemoPost(1),2:()=>window.hendleFeeds("addFeeds"),3:()=>window.hendleFeeds("manageFeeds")};null===(t=i[e])||void 0===t||t.call(i)},u=e=>{try{o.push(e)}catch(t){console.log(t)}},h=e=>e&&""!==e&&!e.includes("ui-avatars"),p=e=>{if(!e)return"0 Byte";var t=Math.floor(Math.log(e)/Math.log(1024));return{size:Math.round(e/Math.pow(1024,t),2),sizeText:["Bytes","KB","MB","GB","TB"][t]}},g=e=>e.startsWith("http://")||e.startsWith("https://")?e:"https://"+e,w=e=>{var t,{wall:a}=r.A.getState().appData,n=[1778189].includes(null===a||void 0===a||null===(t=a.ThemeInfo)||void 0===t?void 0:t.ownerId)?"fr":"en";if(!e||isNaN(e))return"fr"===n?"date invalide":"invalid date";var i=new Date(1e3*e),l=new Date-i;if(isNaN(l)||l<0)return"fr"===n?"date invalide":"invalid date";var o={en:{justNow:"just now",year:"year",years:"years",month:"month",months:"months",week:"week",weeks:"weeks",day:"day",days:"days",hour:"hour",hours:"hours",minute:"minute",minutes:"minutes",prefix:"",suffix:" ago"},fr:{justNow:"\xe0 l\u2019instant",year:"an",years:"ans",month:"mois",months:"mois",week:"semaine",weeks:"semaines",day:"jour",days:"jours",hour:"heure",hours:"heures",minute:"minute",minutes:"minutes",prefix:"il y a ",suffix:""}},s=o[n]||o.en,d=[{single:s.year,plural:s.years,ms:31536e6},{single:s.month,plural:s.months,ms:2592e6},{single:s.week,plural:s.weeks,ms:6048e5},{single:s.day,plural:s.days,ms:864e5},{single:s.hour,plural:s.hours,ms:36e5},{single:s.minute,plural:s.minutes,ms:6e4}];if(l<6e4)return s.justNow;var c=d.find((e=>{var{ms:t}=e;return l>=t})),v=Math.floor(l/c.ms);return"".concat(s.prefix).concat(v," ").concat(v>1?c.plural:c.single).concat(s.suffix)},b=e=>3==e?i.lY:i.TF,m=e=>e&&String(e)?unescape(e).split("/").pop().split("/").slice(-1).join().split(".").shift():"",f=["localhost","widget","wall_id="].every((e=>(0,n.vq)(e)))?"taggbox_main":["".concat(n.Xg,".").concat(n.IF),"".concat(n.Xg).concat(n.t6).concat(n.IF),"".concat(n.Xg,"s.").concat(n.IF)].some((e=>(0,n.vq)(e)))?"tag_main__root":n.HY?"taggShopRoot":"taggbox_main",k=e=>{e=e||0;var t=Math.floor(Math.log10(e)/3)||0;if(0===t)return e.toString();var a=(e/Math.pow(1e3,t)).toFixed(2),n=parseFloat(a)+["","K","M","B","T"][t];return a&&"NaN"!=a?n:0},_=e=>n.MH?e:atob(e),y=(e,t,a)=>e&&e.length>0?e.findIndex((e=>e.id===t)):a,x=()=>{try{var{wall:e}=r.A.getState().appData,{webId:t,wallId:a,ownerId:i}=e.ThemeInfo;s||(window.addEventListener("beforeunload",(()=>{if(0!==o.length){var e=o.reduce(((e,t)=>e+t),0);e>0?fetch(n.KQ,{method:"POST",headers:d,body:JSON.stringify({action:1,model:null!==l.Ex&&void 0!==l.Ex&&l.Ex.includes("website")?"website":"wall",playCount:o.length,wall:n.aD?a:t,playTime:e,owner:i}),keepalive:!0}).finally((()=>(o=[],s=!1))):(o=[],s=!1)}})),s=!0)}catch(c){console.error(c)}},j=e=>new Promise(((t,a)=>Object.assign(new Image,{onload:function(){t({width:this.naturalWidth,height:this.naturalHeight})},onerror:e=>a(new Error("Image loading error: ".concat(e.message))),src:e}))),S=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{var a=0,n=0,i="",l=0,o="",s=[];if(t)return e.map((e=>{a+=e.averageReviews*e.totalReviews,n+=e.totalReviews,i="Overall",l=0,o=e.color,s=(null===e||void 0===e?void 0:e.reviewList)||[]})),{network:{name:i,avgRate:isNaN(a/n)?0:(a/n).toFixed(1),totalReviews:n,color:o,reviewList:s},activeId:l};var d,{wall:c}=r.A.getState().appData,v=null===c||void 0===c||null===(d=c.Banner)||void 0===d?void 0:d.title_font_color;return e.map((t=>{var r;a+=t.averageReviews*t.totalReviews,n+=t.totalReviews,i=e.length>1?"Overall":t.name,l=e.length>1?0:t.id,v=e.length>1?null===c||void 0===c||null===(r=c.Banner)||void 0===r?void 0:r.title_font_color:t.color,s=e.length>1?(e=>{try{var t=new Map;return e.forEach((e=>{e.Network.reviewList.forEach((e=>{t.set(e.rating,(t.get(e.rating)||0)+e.count)}))})),Array.from(t,(e=>{var[t,a]=e;return{rating:t,count:a}}))}catch(a){}})(e):(null===t||void 0===t?void 0:t.reviewList)||[]})),{network:{name:i,avgRate:isNaN(a/n)?0:(a/n).toFixed(1),totalReviews:n,color:v,reviewList:s},activeId:l}}catch(u){console.log("ex",u)}}},91697:(e,t,a)=>{a.d(t,{EC:()=>n,Oi:()=>r,Yo:()=>i});var n=e=>({0:"manual-upload",1:"twitter",2:"instagram",3:"facebook",4:"google",5:"pinterest",6:"flickr",7:"youtube",8:"vimeo",10:"linkedin",11:"tumblr",12:"rss",13:"star",15:"workplace",18:"instagram",19:"yelp",20:"slack",21:"yammer",23:"airbnb",25:"soundcloud",26:"giphy",27:"deviantart",28:"tiktok",29:"onsite-upload",30:"vkontakte",32:"chrome",33:"collabration",34:"amazon",35:"tripadvisor",36:"star",37:"aliexpress",47:"reddit"}[e]||""),i=e=>({0:"#313A53",1:"#29a9e1",2:"#000000",3:"#1b74e4",4:"#4081ed",5:"#e60022",6:"#0a63dc",7:"#FF0000",8:"#1eb8eb",10:"#0a66c2",11:"#36465d",12:"#f78422",13:"#FABF04",15:"#4767ab",18:"#000000",19:"#be362e",20:"#510d4e",21:"#0078d4",23:"#ff7977",25:"#ff7700",26:"#000000",27:"#00e59b",28:"#000000",29:"#613983",30:"#0077FF",32:"#4c8bf5",33:"#4e69ed",34:"#4e69ed",35:"#60c196",36:"#00e9ff",37:"#E52F20",47:"#E52F20"}[e]||""),r=e=>({0:"Manual Upload",1:"Twitter",2:"Instagram",3:"Facebook",4:"Google",5:"Pinterest",6:"Flickr",7:"YouTube",8:"Vimeo",10:"LinkedIn",11:"Tumblr",12:"RSS",13:"Star",15:"Workplace",18:"Instagram",19:"Yelp",20:"Slack",21:"Yammer",23:"Airbnb",25:"Soundcloud",26:"Giphy",27:"Deviantart",28:"Tiktok",29:"Review Hub",30:"Vkontakte",32:"Chrome Extension",33:"Collab with Creators",34:"Amazon",35:"Tripadvisor",36:"Review Hub",37:"Aliexpress",47:"Reddit"}[e]||"")}}]);