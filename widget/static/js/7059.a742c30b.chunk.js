"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[7059],{87059:(t,e,n)=>{n.r(e),n.d(e,{default:()=>it});var o=n(9950),i=n(10300),r=n(53556);function s(t,e,n){return Array.prototype.slice.call(t,e,n)}function a(t){return t.bind.apply(t,[null].concat(s(arguments,1)))}function c(t){return requestAnimationFrame(t)}function u(t,e){return typeof e===t}var l=Array.isArray;function d(t){return l(t)?t:[t]}function p(t,e){d(t).forEach(e)}a(u,"function"),a(u,"string"),a(u,"undefined");var f=Object.keys;function m(t){return s(arguments,1).forEach((function(e){!function(t,e,n){if(t){var o=f(t);o=n?o.reverse():o;for(var i=0;i<o.length;i++){var r=o[i];if("__proto__"!==r&&!1===e(t[r],r))break}}}(e,(function(n,o){t[o]=e[o]}))})),t}var v=Math.min;var h="move",_="moved",b="updated",y="drag",g="dragged",S="scroll",x="scrolled";function w(t){var e=t?t.event.bus:document.createDocumentFragment(),n=function(){var t=[];function e(t,e,n){p(t,(function(t){t&&p(e,(function(e){e.split(" ").forEach((function(e){var o=e.split(".");n(t,o[0],o[1])}))}))}))}return{bind:function(n,o,i,r){e(n,o,(function(e,n,o){var s="addEventListener"in e,a=s?e.removeEventListener.bind(e,n,i,r):e.removeListener.bind(e,i);s?e.addEventListener(n,i,r):e.addListener(i),t.push([e,n,o,i,a])}))},unbind:function(n,o,i){e(n,o,(function(e,n,o){t=t.filter((function(t){return!!(t[0]!==e||t[1]!==n||t[2]!==o||i&&t[3]!==i)||(t[4](),!1)}))}))},dispatch:function(t,e,n){var o,i=!0;return"function"===typeof CustomEvent?o=new CustomEvent(e,{bubbles:i,detail:n}):(o=document.createEvent("CustomEvent")).initCustomEvent(e,i,!1,n),t.dispatchEvent(o),o},destroy:function(){t.forEach((function(t){t[4]()})),t.length=0}}}();return t&&t.event.on("destroy",n.destroy),m(n,{bus:e,on:function(t,o){n.bind(e,d(t).join(" "),(function(t){o.apply(o,l(t.detail)?t.detail:[])}))},off:a(n.unbind,e),emit:function(t){n.dispatch(e,t,s(arguments,1))}})}function C(t,e,n,o){var i,r,s=Date.now,a=0,u=!0,l=0;function d(){if(!u){if(a=t?v((s()-i)/t,1):1,n&&n(a),a>=1&&(e(),i=s(),o&&++l>=o))return p();c(d)}}function p(){u=!0}function f(){r&&cancelAnimationFrame(r),a=0,r=0,u=!0}return{start:function(e){!e&&f(),i=s()-(e?a*t:0),u=!1,c(d)},rewind:function(){i=s(),a=0,n&&n(a)},pause:p,cancel:f,set:function(e){t=e},isPaused:function(){return u}}}var j="slide";function P(t,e,n){return Array.prototype.slice.call(t,e,n)}function k(t){return t.bind(null,...P(arguments,1))}function A(t,e){return typeof e===t}function T(t){return!I(t)&&A("object",t)}const E=Array.isArray;k(A,"function"),k(A,"string");const D=k(A,"undefined");function I(t){return null===t}function O(t,e){var n;(n=t,E(n)?n:[n]).forEach(e)}const L=Object.keys;function N(t,e,n){if(t){let o=L(t);o=n?o.reverse():o;for(let n=0;n<o.length;n++){const i=o[n];if("__proto__"!==i&&!1===e(t[i],i))break}}return t}function V(t){return P(arguments,1).forEach((e=>{N(e,((n,o)=>{t[o]=e[o]}))})),t}function z(t,e,n){T(e)?N(e,((e,n)=>{z(t,n,e)})):O(t,(t=>{I(n)||""===n?function(t,e){O(t,(t=>{O(e,(e=>{t&&t.removeAttribute(e)}))}))}(t,e):t.setAttribute(e,String(n))}))}const{min:F,max:M,floor:H,ceil:$,abs:U}=Math;const q={speed:1,autoStart:!0,pauseOnHover:!0,pauseOnFocus:!0},B={startScroll:"Start auto scroll",pauseScroll:"Pause auto scroll"};function R(t,e,n){const{on:o,off:i,bind:r,unbind:s}=w(t),{translate:a,getPosition:c,toIndex:u,getLimit:l}=e.Move,{setIndex:d,getIndex:p}=e.Controller,{orient:f}=e.Direction,{toggle:m}=e.Elements,{Live:v}=e,{root:P}=t,k=function(t,e){var n;return function(){n||(n=C(e||0,(function(){t(),n=null}),null,1)).start()}}(e.Arrows.update,500);let A,E,I,L,N,H,$={};function U(){t.is("fade")||A||!1===n.autoScroll||(A=C(0,Q),function(){$.pauseOnHover&&r(P,"mouseenter mouseleave",(t=>{I="mouseenter"===t.type,K()}));$.pauseOnFocus&&r(P,"focusin focusout",(t=>{L="focusin"===t.type,K()}));$.useToggleButton&&r(m,"click",(()=>{E?G():J()}));o(b,W),o([h,y,S],(()=>{N=!0,J(!1)})),o([_,g,x],(()=>{N=!1,K()}))}(),$.autoStart&&("complete"===document.readyState?G():r(window,"load",G)))}function R(){A&&(A.cancel(),A=null,H=void 0,i([h,y,S,_,x]),s(P,"mouseenter mouseleave focusin focusout"),s(m,"click"))}function W(){const{autoScroll:t}=n;!1!==t?($=V({},$,T(t)?t:{}),U()):R(),A&&!D(H)&&a(H)}function G(){Y()&&(A.start(!0),v.disable(!0),L=I=E=!1,X())}function J(){E||(E=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],X(),Y()||(A.pause(),v.disable(!1)))}function K(){E||(I||L||N?J(!1):G())}function Q(){const o=c(),i=function(e){const n=$.speed||1;e+=f(n),t.is(j)&&(e=function(t,e,n){const o=F(e,n),i=M(e,n);return F(M(o,t),i)}(e,l(!1),l(!0)));return e}(o);o!==i?(a(i),function(o){const{length:i}=t,r=(u(o)+i)%i;r!==p()&&(d(r),e.Slides.update(),e.Pagination.update(),"nearby"===n.lazyLoad&&e.LazyLoad.check())}(H=c())):(J(!1),$.rewind&&t.go($.speed>0?0:e.Controller.getEnd())),k()}function X(){if(m){const i=E?"startScroll":"pauseScroll";e="is-active",o=!E,(t=m)&&O(e,(e=>{e&&t.classList[o?"add":"remove"](e)})),z(m,"aria-label",n.i18n[i]||B[i])}var t,e,o}function Y(){return!A||A.isPaused()}return{setup:function(){const{autoScroll:t}=n;$=V({},q,T(t)?t:{})},mount:U,destroy:R,play:G,pause:J,isPaused:Y}}var W=n(66345),G=n(15537),J=n(78262),K=n(3720),Q=n(44414);const X=o.lazy((()=>n.e(8120).then(n.bind(n,68120)))),Y=t=>{var e;let{Post:n,ThemeStyle:i,CardStyle:r,index:s,inView:a}=t;const c=!(![3,5].includes(n.type)||1!=i.autoPlay),u=!(!i.interactive||!W.Vn),l=!n.hotspot,d=W.aD&&W.Vn?1===i.autoPlay:W.aD,p=null!==(e=r.style.ratio)&&void 0!==e?e:1;return(0,Q.jsxs)("div",{className:"tb_c_m_media_wrap",children:[u?(0,Q.jsx)(o.Suspense,{fallback:(0,Q.jsx)(Q.Fragment,{}),children:(0,Q.jsx)(X,{Post:n,ThemeStyle:i,interactiveCount:i.interactiveCount})}):null,W.Vn?(0,Q.jsx)(G.default,{Post:n,IconClass:"tb_c_m_media_icon",show:l,isCenter:!1,hideVideo:d}):null,c?(0,Q.jsx)(K.A,{VideoClass:"tb_c_m_video",Post:n,size:p,isCover:!0,controls:!1,autoPlay:d,muted:!0,observer:!1,index:s,inView:a}):(0,Q.jsx)(J.A,{ImageClass:"tb_c_m_image",Post:n,size:p,hotspot:!0,observer:!1,index:s,inView:a})]})};var Z=n(56071);const tt=t=>{let{clickToShowPopUp:e,postSizeInPx:n,Post:o,CardStyle:i,index:r,ThemeInfo:s,cardHeight:a,ThemeStyle:c}=t;const u=1!==o.type,l=(null===n||void 0===n?void 0:n.adjustWidth)<250;return(0,Q.jsx)(Z.A,{children:t=>{let{ref:n,inView:a}=t;return(0,Q.jsx)("div",{id:`tb-hs-post-${o.id}`,ref:n,className:"tb_c_m_post_wrapper"+(l?" tb_c_m_post_wrapper2x":""),"tb-network":o.network.id,"tb-product":o.isShopIcon?1:o.isHotspot?2:0,style:{padding:i.style.margin/2},children:(0,Q.jsx)("div",{className:"tb_c_m_post_in",onClick:e(r,o),children:(0,Q.jsx)("div",{className:"tb_c_m_post_media_wrapp",children:u?(0,Q.jsx)(Y,{Post:o,CardStyle:i,ThemeInfo:s,ThemeStyle:c,index:r,inView:a}):""})})})}})};n(61038);var et=n(21850),nt=n(52867);class ot extends o.Component{constructor(t){super(t),this.state={parent_id:"",postData:[]},this.inputRefs={}}componentDidMount(){setTimeout((()=>{const t=document.querySelectorAll(".splide__slide");t&&t.forEach((t=>{t.removeAttribute("aria-hidden"),t.removeAttribute("role")}))}),100);const{postData:t,heightUpdate:e}=this.props;this.setState({postData:t})}render(){const{postData:t,completeDataObject:e,CardStyle:n,ThemeStyle:o,ThemeInfo:i,cardNumber:s,containerSize:a,clickToShowPopUp:c,onClickToCTA:u,postSizeInPx:l,parentID:d}=this.props,p=d,f=o.slide.autoSlide,m=o.slide.slideDuration,v=o.autoScrollStatus;var h=t;h=h.length<12?Array(15-h.length).fill(h).flat():h;const _=2==o.row?[1,2]:[1],b=W.Vn||(null===_||void 0===_?void 0:_.length)>1?{}:{clones:0},y=Math.ceil(h.length/2),g=_.length>1?h.slice(0,y):h,S=h.slice(y),x=Math.max((a.width/280).toFixed(),1),w=(0,nt.Ci)(a.width,o.column,x),C=1!=v?!Object.keys(b).length&&"loop":"loop",j={start:0,type:"loop",rewind:!1,speed:1e3,interval:1===f?1e3*parseInt(m):5e3,perPage:w,perMove:1,gap:0,autoplay:1===f,padding:0,pagination:!1,pauseOnHover:!1,arrows:!1,autoScroll:{speed:2==o.row?-1:1,pauseOnHover:!1}},P={...b,type:1!==v&&C,rewind:!0,perPage:w,perMove:1,gap:0,padding:0,pagination:!1,arrows:!1,pauseOnHover:!1,autoScroll:{speed:1,pauseOnHover:!1}};return(0,Q.jsx)(Q.Fragment,{children:(0,Q.jsx)("div",{className:"tb_c_m_post_container",children:_.map(((t,s)=>{const a=2==t,f=a?S:g,m=a?P:j;return(0,Q.jsx)(r.eB,{hasTrack:!1,id:`slider_${t}`,className:`tb_c_m_post_slider slider_${t}`,options:m,extensions:{AutoScroll:R},ref:t=>this.inputRefs[p]=t,onMove:this.autoScrollSlider,children:(0,Q.jsx)(r.v9,{children:(null===f||void 0===f?void 0:f.length)>0&&f.map(((t,s)=>{const a=e[t];return(0,Q.jsx)(r.Nn,{className:`tb_${s}`,children:(0,Q.jsx)("div",{className:"tb_c_m_col_wrap",children:(0,Q.jsx)(tt,{parentID:d,CardStyle:n,ThemeStyle:o,ThemeInfo:i,Post:a,index:s,clickToShowPopUp:c,onClickToCTA:u,postSizeInPx:l},t)})},`tb_${s}_${s}`)}))})},s)}))})})}}const it=(0,i.Ng)((t=>({loaderData:t.loaderData})),(t=>({nextData:(e,n,o,i,r,s,a,c)=>t((0,et.wF)(e,n,o,i,r,s,a,c))})))(ot)}}]);