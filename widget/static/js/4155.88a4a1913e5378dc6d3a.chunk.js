"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[4155],{34155:(e,t,i)=>{i.r(t),i.d(t,{default:()=>m});var s=i(9950),a=i(66345),n=i(56071),o=i(17857),d=i(44414),r=s.lazy((()=>i.e(3226).then(i.bind(i,63226)))),l=s.lazy((()=>Promise.all([i.e(8740),i.e(2466),i.e(5757)]).then(i.bind(i,71320))));const c=e=>{var{CardStyle:t,clickToShowPopUp:i,index:s,ThemeStyle:c,Post:p,postSize:h}=e,{style:m}=t,_=1!==(null===p||void 0===p?void 0:p.type);return(0,d.jsx)(n.A,{children:e=>{var{ref:n,inView:u}=e,v={width:"".concat(h,"%"),padding:m.margin/2,opacity:u?1:0,transition:u?"opacity .7s ease-in-out":""};return(0,d.jsx)("div",{id:"tb_g_p_post-".concat(p.id),className:"tb_g_p_post_wrapper",style:v,"post-id":p.referenceId?p.referenceId:p.id,"feed-id":p.feedId,ref:n,children:(0,d.jsx)("div",{className:"tb_g_p_post_in",onClick:i(s,p),children:(0,d.jsxs)("div",{className:"tb_g_p_post_media_wrapp",children:[_?(0,d.jsx)(r,{Post:p,CardStyle:t,ThemeStyle:c,index:s,inView:u}):"",a.Vn?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"tb_g_p_post_details",children:[(0,d.jsx)("div",{className:"tb_g_p_contant_wrapper",children:t.content.status||1==p.type?(0,d.jsx)(l,{contentClass:"tb_g_p_content",Content:p.content,CardStyle:t,Lines:t.content.lines}):""}),(0,d.jsx)(o.default,{className:"tb_g_p",Post:p,CardStyle:t,inView:u})]}),(0,d.jsx)("div",{className:"tb_g_p_post_overlay",children:(0,d.jsx)("div",{})})]}):null]})})})}})};var p=i(52867);class h extends s.PureComponent{constructor(e){super(e),this.timeoutId=null,this.onLoadData=()=>{var{postData:e,ThemeStyle:t}=this.props;if(clearTimeout(this.timeoutId),a.Vn)this.setState({modifiedData:e,currentIndex:0});else{var i=parseInt(t.column.desktop,10),s=e.slice(0,i);this.setState({modifiedData:s,currentIndex:i-1,replaceId:0},(()=>this.onFlipPost()))}},this.onFlipPost=()=>{var{ThemeStyle:e,postData:t}=this.props,{currentIndex:i,replaceId:s,modifiedData:a}=this.state,n=parseInt(e.column.desktop,10);this.timeoutId=setTimeout((()=>{var e=i+1;e>=t.length&&(e=0);var o=(s+1)%n,d=[...a];d[s]=t[e],this.setState({modifiedData:d,currentIndex:e,replaceId:o},(()=>this.onFlipPost()))}),1e3*e.slide.slideDuration)},this.state={modifiedData:[],currentIndex:0,replaceId:0}}componentDidMount(){this.onLoadData()}componentDidUpdate(e){e.postData!==this.props.postData&&this.onLoadData()}componentWillUnmount(){clearTimeout(this.timeoutId)}render(){var{postData:e,completeDataObject:t,CardStyle:i,ThemeStyle:s,ProductSetting:a,ThemeInfo:n,clickToShowPopUp:o,onClickPopUpSlider:r,containerSize:l}=this.props,h={32:8,18:6,12:4,8:4}[s.column.desktop]||4,m=(0,p.Cv)(l.width,h),_=e.length,{modifiedData:u}=this.state;return(0,d.jsx)("div",{tabIndex:"0","aria-label":"There are ".concat(e.length>0?e.length:0," posts in the feed"),role:"feed",className:"tb_g_p_post_container",children:(null===u||void 0===u?void 0:u.length)>0&&u.map(((e,l)=>{if(l>=_)return null;var p=t[e];return(0,d.jsx)(c,{Post:p,ThemeInfo:n,index:l,CardStyle:i,ThemeStyle:s,ProductSetting:a,clickToShowPopUp:o,onClickPopUpSlider:r,postSize:m},"sqr_crd_".concat(l,"_").concat(e.id))}))})}}const m=h}}]);