"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[7059],{87059:(t,e,n)=>{n.r(e),n.d(e,{default:()=>rt});var o=n(89379),i=n(9950),r=n(10300),a=n(53556);function s(t,e,n){return Array.prototype.slice.call(t,e,n)}function c(t){return t.bind.apply(t,[null].concat(s(arguments,1)))}function u(t){return requestAnimationFrame(t)}function l(t,e){return typeof e===t}var d=Array.isArray;function p(t){return d(t)?t:[t]}function f(t,e){p(t).forEach(e)}c(l,"function"),c(l,"string"),c(l,"undefined");var m=Object.keys;function v(t){return s(arguments,1).forEach((function(e){!function(t,e,n){if(t){var o=m(t);o=n?o.reverse():o;for(var i=0;i<o.length;i++){var r=o[i];if("__proto__"!==r&&!1===e(t[r],r))break}}}(e,(function(n,o){t[o]=e[o]}))})),t}var h=Math.min;var _="move",b="moved",y="updated",g="drag",S="dragged",x="scroll",w="scrolled";function C(t){var e=t?t.event.bus:document.createDocumentFragment(),n=function(){var t=[];function e(t,e,n){f(t,(function(t){t&&f(e,(function(e){e.split(" ").forEach((function(e){var o=e.split(".");n(t,o[0],o[1])}))}))}))}return{bind:function(n,o,i,r){e(n,o,(function(e,n,o){var a="addEventListener"in e,s=a?e.removeEventListener.bind(e,n,i,r):e.removeListener.bind(e,i);a?e.addEventListener(n,i,r):e.addListener(i),t.push([e,n,o,i,s])}))},unbind:function(n,o,i){e(n,o,(function(e,n,o){t=t.filter((function(t){return!!(t[0]!==e||t[1]!==n||t[2]!==o||i&&t[3]!==i)||(t[4](),!1)}))}))},dispatch:function(t,e,n){var o,i=!0;return"function"===typeof CustomEvent?o=new CustomEvent(e,{bubbles:i,detail:n}):(o=document.createEvent("CustomEvent")).initCustomEvent(e,i,!1,n),t.dispatchEvent(o),o},destroy:function(){t.forEach((function(t){t[4]()})),t.length=0}}}();return t&&t.event.on("destroy",n.destroy),v(n,{bus:e,on:function(t,o){n.bind(e,p(t).join(" "),(function(t){o.apply(o,d(t.detail)?t.detail:[])}))},off:c(n.unbind,e),emit:function(t){n.dispatch(e,t,s(arguments,1))}})}function j(t,e,n,o){var i,r,a=Date.now,s=0,c=!0,l=0;function d(){if(!c){if(s=t?h((a()-i)/t,1):1,n&&n(s),s>=1&&(e(),i=a(),o&&++l>=o))return p();u(d)}}function p(){c=!0}function f(){r&&cancelAnimationFrame(r),s=0,r=0,c=!0}return{start:function(e){!e&&f(),i=a()-(e?s*t:0),c=!1,u(d)},rewind:function(){i=a(),s=0,n&&n(s)},pause:p,cancel:f,set:function(e){t=e},isPaused:function(){return c}}}var P="slide";function A(t,e,n){return Array.prototype.slice.call(t,e,n)}function k(t){return t.bind(null,...A(arguments,1))}function T(t,e){return typeof e===t}function E(t){return!O(t)&&T("object",t)}const D=Array.isArray;k(T,"function"),k(T,"string");const I=k(T,"undefined");function O(t){return null===t}function L(t,e){var n;(n=t,D(n)?n:[n]).forEach(e)}const N=Object.keys;function V(t,e,n){if(t){let o=N(t);o=n?o.reverse():o;for(let n=0;n<o.length;n++){const i=o[n];if("__proto__"!==i&&!1===e(t[i],i))break}}return t}function z(t){return A(arguments,1).forEach((e=>{V(e,((n,o)=>{t[o]=e[o]}))})),t}function F(t,e,n){E(e)?V(e,((e,n)=>{F(t,n,e)})):L(t,(t=>{O(n)||""===n?function(t,e){L(t,(t=>{L(e,(e=>{t&&t.removeAttribute(e)}))}))}(t,e):t.setAttribute(e,String(n))}))}const{min:M,max:H,floor:U,ceil:q,abs:B}=Math;const R={speed:1,autoStart:!0,pauseOnHover:!0,pauseOnFocus:!0},W={startScroll:"Start auto scroll",pauseScroll:"Pause auto scroll"};function G(t,e,n){const{on:o,off:i,bind:r,unbind:a}=C(t),{translate:s,getPosition:c,toIndex:u,getLimit:l}=e.Move,{setIndex:d,getIndex:p}=e.Controller,{orient:f}=e.Direction,{toggle:m}=e.Elements,{Live:v}=e,{root:h}=t,A=function(t,e){var n;return function(){n||(n=j(e||0,(function(){t(),n=null}),null,1)).start()}}(e.Arrows.update,500);let k,T,D,O,N,V,U={};function q(){t.is("fade")||k||!1===n.autoScroll||(k=j(0,X),function(){U.pauseOnHover&&r(h,"mouseenter mouseleave",(t=>{D="mouseenter"===t.type,Q()}));U.pauseOnFocus&&r(h,"focusin focusout",(t=>{O="focusin"===t.type,Q()}));U.useToggleButton&&r(m,"click",(()=>{T?J():K()}));o(y,G),o([_,g,x],(()=>{N=!0,K(!1)})),o([b,S,w],(()=>{N=!1,Q()}))}(),U.autoStart&&("complete"===document.readyState?J():r(window,"load",J)))}function B(){k&&(k.cancel(),k=null,V=void 0,i([_,g,x,b,w]),a(h,"mouseenter mouseleave focusin focusout"),a(m,"click"))}function G(){const{autoScroll:t}=n;!1!==t?(U=z({},U,E(t)?t:{}),q()):B(),k&&!I(V)&&s(V)}function J(){Z()&&(k.start(!0),v.disable(!0),O=D=T=!1,Y())}function K(){T||(T=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],Y(),Z()||(k.pause(),v.disable(!1)))}function Q(){T||(D||O||N?K(!1):J())}function X(){const o=c(),i=function(e){const n=U.speed||1;e+=f(n),t.is(P)&&(e=function(t,e,n){const o=M(e,n),i=H(e,n);return M(H(o,t),i)}(e,l(!1),l(!0)));return e}(o);o!==i?(s(i),function(o){const{length:i}=t,r=(u(o)+i)%i;r!==p()&&(d(r),e.Slides.update(),e.Pagination.update(),"nearby"===n.lazyLoad&&e.LazyLoad.check())}(V=c())):(K(!1),U.rewind&&t.go(U.speed>0?0:e.Controller.getEnd())),A()}function Y(){if(m){const i=T?"startScroll":"pauseScroll";e="is-active",o=!T,(t=m)&&L(e,(e=>{e&&t.classList[o?"add":"remove"](e)})),F(m,"aria-label",n.i18n[i]||W[i])}var t,e,o}function Z(){return!k||k.isPaused()}return{setup:function(){const{autoScroll:t}=n;U=z({},R,E(t)?t:{})},mount:q,destroy:B,play:J,pause:K,isPaused:Z}}var J=n(66345),K=n(15537),Q=n(78262),X=n(3720),Y=n(44414);const Z=i.lazy((()=>n.e(8120).then(n.bind(n,68120)))),$=t=>{let{Post:e,ThemeStyle:n,CardStyle:o,index:r,inView:a}=t;const s=!(![3,5].includes(e.type)||1!=n.autoPlay),c=!(!n.interactive||!J.Vn),u=!e.hotspot,l=J.aD&&J.Vn?1===n.autoPlay:J.aD,d=o.style.ratio||1;return(0,Y.jsxs)("div",{className:"tb_c_m_media_wrap",children:[c?(0,Y.jsx)(i.Suspense,{fallback:(0,Y.jsx)(Y.Fragment,{}),children:(0,Y.jsx)(Z,{Post:e,ThemeStyle:n,interactiveCount:n.interactiveCount})}):null,J.Vn?(0,Y.jsx)(K.default,{Post:e,IconClass:"tb_c_m_media_icon",show:u,isCenter:!1,hideVideo:l}):null,s?(0,Y.jsx)(X.A,{VideoClass:"tb_c_m_video",Post:e,size:d,isCover:!0,controls:!1,autoPlay:l,muted:!0,observer:!1,index:r,inView:a}):(0,Y.jsx)(Q.A,{ImageClass:"tb_c_m_image",Post:e,size:d,hotspot:!0,observer:!1,index:r,inView:a})]})};var tt=n(56071);const et=t=>{let{clickToShowPopUp:e,postSizeInPx:n,Post:o,CardStyle:i,index:r,ThemeInfo:a,cardHeight:s,ThemeStyle:c}=t;const u=1!==o.type,l=(null===n||void 0===n?void 0:n.adjustWidth)<250;return(0,Y.jsx)(tt.A,{children:t=>{let{ref:n,inView:s}=t;return(0,Y.jsx)("div",{id:"tb-hs-post-".concat(o.id),ref:n,className:"tb_c_m_post_wrapper".concat(l?" tb_c_m_post_wrapper2x":""),"tb-network":o.network.id,"tb-product":o.isShopIcon?1:o.isHotspot?2:0,style:{padding:i.style.margin/2},children:(0,Y.jsx)("div",{className:"tb_c_m_post_in",onClick:e(r,o),children:(0,Y.jsx)("div",{className:"tb_c_m_post_media_wrapp",children:u?(0,Y.jsx)($,{Post:o,CardStyle:i,ThemeInfo:a,ThemeStyle:c,index:r,inView:s}):""})})})}})};n(61038);var nt=n(21850),ot=n(52867);class it extends i.Component{constructor(t){super(t),this.state={parent_id:"",postData:[]},this.inputRefs={}}componentDidMount(){setTimeout((()=>{const t=document.querySelectorAll(".splide__slide");t&&t.forEach((t=>{t.removeAttribute("aria-hidden"),t.removeAttribute("role")}))}),100);const{postData:t,heightUpdate:e}=this.props;this.setState({postData:t})}render(){const{postData:t,completeDataObject:e,CardStyle:n,ThemeStyle:i,ThemeInfo:r,cardNumber:s,containerSize:c,clickToShowPopUp:u,onClickToCTA:l,postSizeInPx:d,parentID:p}=this.props,f=p,m=i.slide.autoSlide,v=i.slide.slideDuration,h=i.autoScrollStatus;var _=t;_=_.length<12?Array(15-_.length).fill(_).flat():_;const b=2==i.row?[1,2]:[1],y=J.Vn||(null===b||void 0===b?void 0:b.length)>1?{}:{clones:0},g=Math.ceil(_.length/2),S=b.length>1?_.slice(0,g):_,x=_.slice(g),w=Math.max((c.width/280).toFixed(),1),C=(0,ot.Ci)(c.width,i.column,w),j=1!=h?!Object.keys(y).length&&"loop":"loop",P={start:0,type:"loop",rewind:!1,speed:1e3,interval:1===m?1e3*parseInt(v):5e3,perPage:C,perMove:1,gap:0,autoplay:1===m,padding:0,pagination:!1,pauseOnHover:!1,arrows:!1,autoScroll:{speed:2==i.row?-1:1,pauseOnHover:!1}},A=(0,o.A)((0,o.A)({},y),{},{type:1!==h&&j,rewind:!0,perPage:C,perMove:1,gap:0,padding:0,pagination:!1,arrows:!1,pauseOnHover:!1,autoScroll:{speed:1,pauseOnHover:!1}});return(0,Y.jsx)(Y.Fragment,{children:(0,Y.jsx)("div",{className:"tb_c_m_post_container",children:b.map(((t,o)=>{const s=2==t,c=s?x:S,m=s?A:P;return(0,Y.jsx)(a.eB,{hasTrack:!1,id:"slider_".concat(t),className:"tb_c_m_post_slider slider_".concat(t),options:m,extensions:{AutoScroll:G},ref:t=>this.inputRefs[f]=t,onMove:this.autoScrollSlider,children:(0,Y.jsx)(a.v9,{children:(null===c||void 0===c?void 0:c.length)>0&&c.map(((t,o)=>{const s=e[t];return(0,Y.jsx)(a.Nn,{className:"tb_".concat(o),children:(0,Y.jsx)("div",{className:"tb_c_m_col_wrap",children:(0,Y.jsx)(et,{parentID:p,CardStyle:n,ThemeStyle:i,ThemeInfo:r,Post:s,index:o,clickToShowPopUp:u,onClickToCTA:l,postSizeInPx:d},t)})},"tb_".concat(o,"_").concat(o))}))})},o)}))})})}}const rt=(0,r.Ng)((t=>({loaderData:t.loaderData})),(t=>({nextData:(e,n,o,i,r,a,s,c)=>t((0,nt.wF)(e,n,o,i,r,a,s,c))})))(it)}}]);