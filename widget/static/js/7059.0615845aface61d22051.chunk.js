"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[7059],{87059:(e,t,n)=>{n.r(t),n.d(t,{default:()=>ie});var o=n(89379),r=n(9950),i=n(10300),a=n(53556);function s(e,t,n){return Array.prototype.slice.call(e,t,n)}function c(e){return e.bind.apply(e,[null].concat(s(arguments,1)))}function u(e){return requestAnimationFrame(e)}function l(e,t){return typeof t===e}var d=Array.isArray;function p(e){return d(e)?e:[e]}function f(e,t){p(e).forEach(t)}c(l,"function"),c(l,"string"),c(l,"undefined");var v=Object.keys;function m(e){return s(arguments,1).forEach(function(t){!function(e,t,n){if(e){var o=v(e);o=n?o.reverse():o;for(var r=0;r<o.length;r++){var i=o[r];if("__proto__"!==i&&!1===t(e[i],i))break}}}(t,function(n,o){e[o]=t[o]})}),e}var h=Math.min;var _="move",b="moved",y="updated",g="drag",S="dragged",x="scroll",w="scrolled";function C(e){var t=e?e.event.bus:document.createDocumentFragment(),n=function(){var e=[];function t(e,t,n){f(e,function(e){e&&f(t,function(t){t.split(" ").forEach(function(t){var o=t.split(".");n(e,o[0],o[1])})})})}return{bind:function(n,o,r,i){t(n,o,function(t,n,o){var a="addEventListener"in t,s=a?t.removeEventListener.bind(t,n,r,i):t.removeListener.bind(t,r);a?t.addEventListener(n,r,i):t.addListener(r),e.push([t,n,o,r,s])})},unbind:function(n,o,r){t(n,o,function(t,n,o){e=e.filter(function(e){return!!(e[0]!==t||e[1]!==n||e[2]!==o||r&&e[3]!==r)||(e[4](),!1)})})},dispatch:function(e,t,n){var o,r=!0;return"function"===typeof CustomEvent?o=new CustomEvent(t,{bubbles:r,detail:n}):(o=document.createEvent("CustomEvent")).initCustomEvent(t,r,!1,n),e.dispatchEvent(o),o},destroy:function(){e.forEach(function(e){e[4]()}),e.length=0}}}();return e&&e.event.on("destroy",n.destroy),m(n,{bus:t,on:function(e,o){n.bind(t,p(e).join(" "),function(e){o.apply(o,d(e.detail)?e.detail:[])})},off:c(n.unbind,t),emit:function(e){n.dispatch(t,e,s(arguments,1))}})}function j(e,t,n,o){var r,i,a=Date.now,s=0,c=!0,l=0;function d(){if(!c){if(s=e?h((a()-r)/e,1):1,n&&n(s),s>=1&&(t(),r=a(),o&&++l>=o))return p();u(d)}}function p(){c=!0}function f(){i&&cancelAnimationFrame(i),s=0,i=0,c=!0}return{start:function(t){!t&&f(),r=a()-(t?s*e:0),c=!1,u(d)},rewind:function(){r=a(),s=0,n&&n(s)},pause:p,cancel:f,set:function(t){e=t},isPaused:function(){return c}}}var P="slide";function A(e,t,n){return Array.prototype.slice.call(e,t,n)}function k(e){return e.bind(null,...A(arguments,1))}function T(e,t){return typeof t===e}function E(e){return!O(e)&&T("object",e)}var D=Array.isArray;k(T,"function"),k(T,"string");var I=k(T,"undefined");function O(e){return null===e}function L(e,t){var n;(n=e,D(n)?n:[n]).forEach(t)}var N=Object.keys;function V(e,t,n){if(e){var o=N(e);o=n?o.reverse():o;for(var r=0;r<o.length;r++){var i=o[r];if("__proto__"!==i&&!1===t(e[i],i))break}}return e}function z(e){return A(arguments,1).forEach(t=>{V(t,(n,o)=>{e[o]=t[o]})}),e}function F(e,t,n){E(t)?V(t,(t,n)=>{F(e,n,t)}):L(e,e=>{O(n)||""===n?function(e,t){L(e,e=>{L(t,t=>{e&&e.removeAttribute(t)})})}(e,t):e.setAttribute(t,String(n))})}var{min:M,max:H,floor:U,ceil:q,abs:B}=Math;var R={speed:1,autoStart:!0,pauseOnHover:!0,pauseOnFocus:!0},W={startScroll:"Start auto scroll",pauseScroll:"Pause auto scroll"};function G(e,t,n){var o,r,i,a,s,c,{on:u,off:l,bind:d,unbind:p}=C(e),{translate:f,getPosition:v,toIndex:m,getLimit:h}=t.Move,{setIndex:A,getIndex:k}=t.Controller,{orient:T}=t.Direction,{toggle:D}=t.Elements,{Live:O}=t,{root:N}=e,V=function(e,t){var n;return function(){n||(n=j(t||0,function(){e(),n=null},null,1)).start()}}(t.Arrows.update,500),U={};function q(){e.is("fade")||o||!1===n.autoScroll||(o=j(0,X),function(){U.pauseOnHover&&d(N,"mouseenter mouseleave",e=>{i="mouseenter"===e.type,Q()});U.pauseOnFocus&&d(N,"focusin focusout",e=>{a="focusin"===e.type,Q()});U.useToggleButton&&d(D,"click",()=>{r?J():K()});u(y,G),u([_,g,x],()=>{s=!0,K(!1)}),u([b,S,w],()=>{s=!1,Q()})}(),U.autoStart&&("complete"===document.readyState?J():d(window,"load",J)))}function B(){o&&(o.cancel(),o=null,c=void 0,l([_,g,x,b,w]),p(N,"mouseenter mouseleave focusin focusout"),p(D,"click"))}function G(){var{autoScroll:e}=n;!1!==e?(U=z({},U,E(e)?e:{}),q()):B(),o&&!I(c)&&f(c)}function J(){Z()&&(o.start(!0),O.disable(!0),a=i=r=!1,Y())}function K(){r||(r=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],Y(),Z()||(o.pause(),O.disable(!1)))}function Q(){r||(i||a||s?K(!1):J())}function X(){var o=v(),r=function(t){var n=U.speed||1;t+=T(n),e.is(P)&&(t=function(e,t,n){var o=M(t,n),r=H(t,n);return M(H(o,e),r)}(t,h(!1),h(!0)));return t}(o);o!==r?(f(r),function(o){var{length:r}=e,i=(m(o)+r)%r;i!==k()&&(A(i),t.Slides.update(),t.Pagination.update(),"nearby"===n.lazyLoad&&t.LazyLoad.check())}(c=v())):(K(!1),U.rewind&&e.go(U.speed>0?0:t.Controller.getEnd())),V()}function Y(){if(D){var e=r?"startScroll":"pauseScroll";o="is-active",i=!r,(t=D)&&L(o,e=>{e&&t.classList[i?"add":"remove"](e)}),F(D,"aria-label",n.i18n[e]||W[e])}var t,o,i}function Z(){return!o||o.isPaused()}return{setup:function(){var{autoScroll:e}=n;U=z({},R,E(e)?e:{})},mount:q,destroy:B,play:J,pause:K,isPaused:Z}}var J=n(66345),K=n(15537),Q=n(78262),X=n(3720),Y=n(44414),Z=r.lazy(()=>n.e(8120).then(n.bind(n,68120)));const $=e=>{var{Post:t,ThemeStyle:n,CardStyle:o,index:i,inView:a}=e,s=!(![3,5].includes(t.type)||1!=n.autoPlay),c=!(!n.interactive||!J.Vn),u=!t.hotspot,l=J.aD&&J.Vn?1===n.autoPlay:J.aD,d=o.style.ratio||1;return(0,Y.jsxs)("div",{className:"tb_c_m_media_wrap",children:[c?(0,Y.jsx)(r.Suspense,{fallback:(0,Y.jsx)(Y.Fragment,{}),children:(0,Y.jsx)(Z,{Post:t,ThemeStyle:n,interactiveCount:n.interactiveCount})}):null,J.Vn?(0,Y.jsx)(K.default,{Post:t,IconClass:"tb_c_m_media_icon",show:u,isCenter:!1,hideVideo:l}):null,s?(0,Y.jsx)(X.A,{VideoClass:"tb_c_m_video",Post:t,size:d,isCover:!0,controls:!1,autoPlay:l,muted:!0,observer:!1,index:i,inView:a}):(0,Y.jsx)(Q.A,{ImageClass:"tb_c_m_image",Post:t,size:d,hotspot:!0,observer:!1,index:i,inView:a})]})};var ee=n(56071);const te=e=>{var{clickToShowPopUp:t,postSizeInPx:n,Post:o,CardStyle:r,index:i,ThemeInfo:a,cardHeight:s,ThemeStyle:c}=e,u=1!==o.type,l=(null===n||void 0===n?void 0:n.adjustWidth)<250;return(0,Y.jsx)(ee.A,{children:e=>{var{ref:n,inView:s}=e;return(0,Y.jsx)("div",{id:"tb-hs-post-".concat(o.id),ref:n,className:"tb_c_m_post_wrapper".concat(l?" tb_c_m_post_wrapper2x":""),"tb-network":o.network.id,"tb-product":o.isShopIcon?1:o.isHotspot?2:0,style:{padding:r.style.margin/2},children:(0,Y.jsx)("div",{className:"tb_c_m_post_in",onClick:t(i,o),children:(0,Y.jsx)("div",{className:"tb_c_m_post_media_wrapp",children:u?(0,Y.jsx)($,{Post:o,CardStyle:r,ThemeInfo:a,ThemeStyle:c,index:i,inView:s}):""})})})}})};n(61038);var ne=n(21850),oe=n(52867);class re extends r.Component{constructor(e){super(e),this.state={parent_id:"",postData:[]},this.inputRefs={}}componentDidMount(){setTimeout(()=>{var e=document.querySelectorAll(".splide__slide");e&&e.forEach(e=>{e.removeAttribute("aria-hidden"),e.removeAttribute("role")})},100);var{postData:e,heightUpdate:t}=this.props;this.setState({postData:e})}render(){var{postData:e,completeDataObject:t,CardStyle:n,ThemeStyle:r,ThemeInfo:i,cardNumber:s,containerSize:c,clickToShowPopUp:u,onClickToCTA:l,postSizeInPx:d,parentID:p}=this.props,f=p,v=r.slide.autoSlide,m=r.slide.slideDuration,h=r.autoScrollStatus,_=e;_=_.length<12?Array(15-_.length).fill(_).flat():_;var b=2==r.row?[1,2]:[1],y=J.Vn||(null===b||void 0===b?void 0:b.length)>1?{}:{clones:0},g=Math.ceil(_.length/2),S=b.length>1?_.slice(0,g):_,x=_.slice(g),w=Math.max((c.width/280).toFixed(),1),C=(0,oe.Ci)(c.width,r.column,w),j=1!=h?!Object.keys(y).length&&"loop":"loop",P={start:0,type:"loop",rewind:!1,speed:1e3,interval:1===v?1e3*parseInt(m):5e3,perPage:C,perMove:1,gap:0,autoplay:1===v,padding:0,pagination:!1,pauseOnHover:!1,arrows:!1,autoScroll:{speed:2==r.row?-1:1,pauseOnHover:!1}},A=(0,o.A)((0,o.A)({},y),{},{type:1!==h&&j,rewind:!0,perPage:C,perMove:1,gap:0,padding:0,pagination:!1,arrows:!1,pauseOnHover:!1,autoScroll:{speed:1,pauseOnHover:!1}});return(0,Y.jsx)(Y.Fragment,{children:(0,Y.jsx)("div",{className:"tb_c_m_post_container",children:b.map((e,o)=>{var s=2==e,c=s?x:S,v=s?A:P;return(0,Y.jsx)(a.eB,{hasTrack:!1,id:"slider_".concat(e),className:"tb_c_m_post_slider slider_".concat(e),options:v,extensions:{AutoScroll:G},ref:e=>this.inputRefs[f]=e,onMove:this.autoScrollSlider,children:(0,Y.jsx)(a.v9,{children:(null===c||void 0===c?void 0:c.length)>0&&c.map((e,o)=>{var s=t[e];return(0,Y.jsx)(a.Nn,{className:"tb_".concat(o),children:(0,Y.jsx)("div",{className:"tb_c_m_col_wrap",children:(0,Y.jsx)(te,{parentID:p,CardStyle:n,ThemeStyle:r,ThemeInfo:i,Post:s,index:o,clickToShowPopUp:u,onClickToCTA:l,postSizeInPx:d},e)})},"tb_".concat(o,"_").concat(o))})})},o)})})})}}const ie=(0,i.Ng)(e=>({loaderData:e.loaderData}),e=>({nextData:(t,n,o,r,i,a,s,c)=>e((0,ne.wF)(t,n,o,r,i,a,s,c))}))(re)}}]);