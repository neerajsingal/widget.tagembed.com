/*! For license information please see 1128.5cf1c7e7d3eada5daa02.chunk.js.LICENSE.txt */
(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[1128],{906:(e,t,r)=>{"use strict";r.d(t,{OX:()=>$a,zp:()=>as});var n,i,o,a,s,l,u,c,p,h,d,f=r(89379),v=r(53986),g=r(9950),m=r(11942),y=r(10467),b={},_=[],w=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,P=Array.isArray;function S(e,t){for(var r in t)e[r]=t[r];return e}function A(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function F(e,t,r){var i,o,a,s={};for(a in t)"key"==a?i=t[a]:"ref"==a?o=t[a]:s[a]=t[a];if(arguments.length>2&&(s.children=arguments.length>3?n.call(arguments,2):r),"function"==typeof e&&null!=e.defaultProps)for(a in e.defaultProps)void 0===s[a]&&(s[a]=e.defaultProps[a]);return C(e,s,i,o,null)}function C(e,t,r,n,a){var s={type:e,props:t,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:null==a?++o:a,__i:-1,__u:0};return null==a&&null!=i.vnode&&i.vnode(s),s}function O(e){return e.children}function k(e,t){this.props=e,this.context=t}function E(e,t){if(null==t)return e.__?E(e.__,e.__i+1):null;for(var r;t<e.__k.length;t++)if(null!=(r=e.__k[t])&&null!=r.__e)return r.__e;return"function"==typeof e.type?E(e):null}function x(e){var t,r;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(r=e.__k[t])&&null!=r.__e){e.__e=e.__c.base=r.__e;break}return x(e)}}function T(e){(!e.__d&&(e.__d=!0)&&a.push(e)&&!U.__r++||s!=i.debounceRendering)&&((s=i.debounceRendering)||l)(U)}function U(){for(var e,t,r,n,o,s,l,c=1;a.length;)a.length>c&&a.sort(u),e=a.shift(),c=a.length,e.__d&&(r=void 0,o=(n=(t=e).__v).__e,s=[],l=[],t.__P&&((r=S({},n)).__v=n.__v+1,i.vnode&&i.vnode(r),z(t.__P,r,n,t.__n,t.__P.namespaceURI,32&n.__u?[o]:null,s,null==o?E(n):o,!!(32&n.__u),l),r.__v=n.__v,r.__.__k[r.__i]=r,q(s,r,l),r.__e!=o&&x(r)));U.__r=0}function D(e,t,r,n,i,o,a,s,l,u,c){var p,h,d,f,v,g,m=n&&n.__k||_,y=t.length;for(l=I(r,t,m,l,y),p=0;p<y;p++)null!=(d=r.__k[p])&&(h=-1==d.__i?b:m[d.__i]||b,d.__i=p,g=z(e,d,h,i,o,a,s,l,u,c),f=d.__e,d.ref&&h.ref!=d.ref&&(h.ref&&V(h.ref,null,d),c.push(d.ref,d.__c||f,d)),null==v&&null!=f&&(v=f),4&d.__u||h.__k===d.__k?l=R(d,l,e):"function"==typeof d.type&&void 0!==g?l=g:f&&(l=f.nextSibling),d.__u&=-7);return r.__e=v,l}function I(e,t,r,n,i){var o,a,s,l,u,c=r.length,p=c,h=0;for(e.__k=new Array(i),o=0;o<i;o++)null!=(a=t[o])&&"boolean"!=typeof a&&"function"!=typeof a?(l=o+h,(a=e.__k[o]="string"==typeof a||"number"==typeof a||"bigint"==typeof a||a.constructor==String?C(null,a,null,null,null):P(a)?C(O,{children:a},null,null,null):null==a.constructor&&a.__b>0?C(a.type,a.props,a.key,a.ref?a.ref:null,a.__v):a).__=e,a.__b=e.__b+1,s=null,-1!=(u=a.__i=j(a,r,l,p))&&(p--,(s=r[u])&&(s.__u|=2)),null==s||null==s.__v?(-1==u&&(i>c?h--:i<c&&h++),"function"!=typeof a.type&&(a.__u|=4)):u!=l&&(u==l-1?h--:u==l+1?h++:(u>l?h--:h++,a.__u|=4))):e.__k[o]=null;if(p)for(o=0;o<c;o++)null!=(s=r[o])&&0==(2&s.__u)&&(s.__e==n&&(n=E(s)),G(s,s));return n}function R(e,t,r){var n,i;if("function"==typeof e.type){for(n=e.__k,i=0;n&&i<n.length;i++)n[i]&&(n[i].__=e,t=R(n[i],t,r));return t}e.__e!=t&&(t&&e.type&&!r.contains(t)&&(t=E(e)),r.insertBefore(e.__e,t||null),t=e.__e);do{t=t&&t.nextSibling}while(null!=t&&8==t.nodeType);return t}function N(e,t){return t=t||[],null==e||"boolean"==typeof e||(P(e)?e.some(function(e){N(e,t)}):t.push(e)),t}function j(e,t,r,n){var i,o,a=e.key,s=e.type,l=t[r];if(null===l&&null==e.key||l&&a==l.key&&s==l.type&&0==(2&l.__u))return r;if(n>(null!=l&&0==(2&l.__u)?1:0))for(i=r-1,o=r+1;i>=0||o<t.length;){if(i>=0){if((l=t[i])&&0==(2&l.__u)&&a==l.key&&s==l.type)return i;i--}if(o<t.length){if((l=t[o])&&0==(2&l.__u)&&a==l.key&&s==l.type)return o;o++}}return-1}function B(e,t,r){"-"==t[0]?e.setProperty(t,null==r?"":r):e[t]=null==r?"":"number"!=typeof r||w.test(t)?r:r+"px"}function L(e,t,r,n,i){var o,a;e:if("style"==t)if("string"==typeof r)e.style.cssText=r;else{if("string"==typeof n&&(e.style.cssText=n=""),n)for(t in n)r&&t in r||B(e.style,t,"");if(r)for(t in r)n&&r[t]==n[t]||B(e.style,t,r[t])}else if("o"==t[0]&&"n"==t[1])o=t!=(t=t.replace(c,"$1")),a=t.toLowerCase(),t=a in e||"onFocusOut"==t||"onFocusIn"==t?a.slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=r,r?n?r.u=n.u:(r.u=p,e.addEventListener(t,o?d:h,o)):e.removeEventListener(t,o?d:h,o);else{if("http://www.w3.org/2000/svg"==i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!=t&&"height"!=t&&"href"!=t&&"list"!=t&&"form"!=t&&"tabIndex"!=t&&"download"!=t&&"rowSpan"!=t&&"colSpan"!=t&&"role"!=t&&"popover"!=t&&t in e)try{e[t]=null==r?"":r;break e}catch(e){}"function"==typeof r||(null==r||!1===r&&"-"!=t[4]?e.removeAttribute(t):e.setAttribute(t,"popover"==t&&1==r?"":r))}}function M(e){return function(t){if(this.l){var r=this.l[t.type+e];if(null==t.t)t.t=p++;else if(t.t<r.u)return;return r(i.event?i.event(t):t)}}}function z(e,t,r,n,o,a,s,l,u,c){var p,h,d,f,v,g,m,y,b,_,w,F,C,E,x,T,U,I=t.type;if(null!=t.constructor)return null;128&r.__u&&(u=!!(32&r.__u),a=[l=t.__e=r.__e]),(p=i.__b)&&p(t);e:if("function"==typeof I)try{if(y=t.props,b="prototype"in I&&I.prototype.render,_=(p=I.contextType)&&n[p.__c],w=p?_?_.props.value:p.__:n,r.__c?m=(h=t.__c=r.__c).__=h.__E:(b?t.__c=h=new I(y,w):(t.__c=h=new k(y,w),h.constructor=I,h.render=K),_&&_.sub(h),h.props=y,h.state||(h.state={}),h.context=w,h.__n=n,d=h.__d=!0,h.__h=[],h._sb=[]),b&&null==h.__s&&(h.__s=h.state),b&&null!=I.getDerivedStateFromProps&&(h.__s==h.state&&(h.__s=S({},h.__s)),S(h.__s,I.getDerivedStateFromProps(y,h.__s))),f=h.props,v=h.state,h.__v=t,d)b&&null==I.getDerivedStateFromProps&&null!=h.componentWillMount&&h.componentWillMount(),b&&null!=h.componentDidMount&&h.__h.push(h.componentDidMount);else{if(b&&null==I.getDerivedStateFromProps&&y!==f&&null!=h.componentWillReceiveProps&&h.componentWillReceiveProps(y,w),!h.__e&&null!=h.shouldComponentUpdate&&!1===h.shouldComponentUpdate(y,h.__s,w)||t.__v==r.__v){for(t.__v!=r.__v&&(h.props=y,h.state=h.__s,h.__d=!1),t.__e=r.__e,t.__k=r.__k,t.__k.some(function(e){e&&(e.__=t)}),F=0;F<h._sb.length;F++)h.__h.push(h._sb[F]);h._sb=[],h.__h.length&&s.push(h);break e}null!=h.componentWillUpdate&&h.componentWillUpdate(y,h.__s,w),b&&null!=h.componentDidUpdate&&h.__h.push(function(){h.componentDidUpdate(f,v,g)})}if(h.context=w,h.props=y,h.__P=e,h.__e=!1,C=i.__r,E=0,b){for(h.state=h.__s,h.__d=!1,C&&C(t),p=h.render(h.props,h.state,h.context),x=0;x<h._sb.length;x++)h.__h.push(h._sb[x]);h._sb=[]}else do{h.__d=!1,C&&C(t),p=h.render(h.props,h.state,h.context),h.state=h.__s}while(h.__d&&++E<25);h.state=h.__s,null!=h.getChildContext&&(n=S(S({},n),h.getChildContext())),b&&!d&&null!=h.getSnapshotBeforeUpdate&&(g=h.getSnapshotBeforeUpdate(f,v)),T=p,null!=p&&p.type===O&&null==p.key&&(T=H(p.props.children)),l=D(e,P(T)?T:[T],t,r,n,o,a,s,l,u,c),h.base=t.__e,t.__u&=-161,h.__h.length&&s.push(h),m&&(h.__E=h.__=null)}catch(e){if(t.__v=null,u||null!=a)if(e.then){for(t.__u|=u?160:128;l&&8==l.nodeType&&l.nextSibling;)l=l.nextSibling;a[a.indexOf(l)]=null,t.__e=l}else for(U=a.length;U--;)A(a[U]);else t.__e=r.__e,t.__k=r.__k;i.__e(e,t,r)}else null==a&&t.__v==r.__v?(t.__k=r.__k,t.__e=r.__e):l=t.__e=W(r.__e,t,r,n,o,a,s,u,c);return(p=i.diffed)&&p(t),128&t.__u?void 0:l}function q(e,t,r){for(var n=0;n<r.length;n++)V(r[n],r[++n],r[++n]);i.__c&&i.__c(t,e),e.some(function(t){try{e=t.__h,t.__h=[],e.some(function(e){e.call(t)})}catch(e){i.__e(e,t.__v)}})}function H(e){return"object"!=typeof e||null==e||e.__b&&e.__b>0?e:P(e)?e.map(H):S({},e)}function W(e,t,r,o,a,s,l,u,c){var p,h,d,f,v,g,m,y=r.props,_=t.props,w=t.type;if("svg"==w?a="http://www.w3.org/2000/svg":"math"==w?a="http://www.w3.org/1998/Math/MathML":a||(a="http://www.w3.org/1999/xhtml"),null!=s)for(p=0;p<s.length;p++)if((v=s[p])&&"setAttribute"in v==!!w&&(w?v.localName==w:3==v.nodeType)){e=v,s[p]=null;break}if(null==e){if(null==w)return document.createTextNode(_);e=document.createElementNS(a,w,_.is&&_),u&&(i.__m&&i.__m(t,s),u=!1),s=null}if(null==w)y===_||u&&e.data==_||(e.data=_);else{if(s=s&&n.call(e.childNodes),y=r.props||b,!u&&null!=s)for(y={},p=0;p<e.attributes.length;p++)y[(v=e.attributes[p]).name]=v.value;for(p in y)if(v=y[p],"children"==p);else if("dangerouslySetInnerHTML"==p)d=v;else if(!(p in _)){if("value"==p&&"defaultValue"in _||"checked"==p&&"defaultChecked"in _)continue;L(e,p,null,v,a)}for(p in _)v=_[p],"children"==p?f=v:"dangerouslySetInnerHTML"==p?h=v:"value"==p?g=v:"checked"==p?m=v:u&&"function"!=typeof v||y[p]===v||L(e,p,v,y[p],a);if(h)u||d&&(h.__html==d.__html||h.__html==e.innerHTML)||(e.innerHTML=h.__html),t.__k=[];else if(d&&(e.innerHTML=""),D("template"==t.type?e.content:e,P(f)?f:[f],t,r,o,"foreignObject"==w?"http://www.w3.org/1999/xhtml":a,s,l,s?s[0]:r.__k&&E(r,0),u,c),null!=s)for(p=s.length;p--;)A(s[p]);u||(p="value","progress"==w&&null==g?e.removeAttribute("value"):null!=g&&(g!==e[p]||"progress"==w&&!g||"option"==w&&g!=y[p])&&L(e,p,g,y[p],a),p="checked",null!=m&&m!=e[p]&&L(e,p,m,y[p],a))}return e}function V(e,t,r){try{if("function"==typeof e){var n="function"==typeof e.__u;n&&e.__u(),n&&null==t||(e.__u=e(t))}else e.current=t}catch(e){i.__e(e,r)}}function G(e,t,r){var n,o;if(i.unmount&&i.unmount(e),(n=e.ref)&&(n.current&&n.current!=e.__e||V(n,null,t)),null!=(n=e.__c)){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(e){i.__e(e,t)}n.base=n.__P=null}if(n=e.__k)for(o=0;o<n.length;o++)n[o]&&G(n[o],t,r||"function"!=typeof e.type);r||A(e.__e),e.__c=e.__=e.__e=void 0}function K(e,t,r){return this.constructor(e,r)}function X(e,t,r){var o,a,s,l;t==document&&(t=document.documentElement),i.__&&i.__(e,t),a=(o="function"==typeof r)?null:r&&r.__k||t.__k,s=[],l=[],z(t,e=(!o&&r||t).__k=F(O,null,[e]),a||b,b,t.namespaceURI,!o&&r?[r]:a?null:t.firstChild?n.call(t.childNodes):null,s,!o&&r?r:a?a.__e:t.firstChild,o,l),q(s,e,l)}function $(e,t,r){var i,o,a,s,l=S({},e.props);for(a in e.type&&e.type.defaultProps&&(s=e.type.defaultProps),t)"key"==a?i=t[a]:"ref"==a?o=t[a]:l[a]=void 0===t[a]&&null!=s?s[a]:t[a];return arguments.length>2&&(l.children=arguments.length>3?n.call(arguments,2):r),C(e.type,l,i||e.key,o||e.ref,null)}function Y(e){return"object"===typeof e&&null!==e&&("nodeType"in e&&e.nodeType===Node.ELEMENT_NODE)}n=_.slice,i={__e:function(e,t,r,n){for(var i,o,a;t=t.__;)if((i=t.__c)&&!i.__)try{if((o=i.constructor)&&null!=o.getDerivedStateFromError&&(i.setState(o.getDerivedStateFromError(e)),a=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(e,n||{}),a=i.__d),a)return i.__E=i}catch(t){e=t}throw e}},o=0,k.prototype.setState=function(e,t){var r;r=null!=this.__s&&this.__s!=this.state?this.__s:this.__s=S({},this.state),"function"==typeof e&&(e=e(S({},r),this.props)),e&&S(r,e),null!=e&&this.__v&&(t&&this._sb.push(t),T(this))},k.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),T(this))},k.prototype.render=O,a=[],l="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,u=function(e,t){return e.__v.__b-t.__v.__b},U.__r=0,c=/(PointerCapture)$|Capture$/i,p=0,h=M(!1),d=M(!0);const Q=function(e,t){return void 0===t&&(t=document),"string"===typeof e?t.querySelector(e):Y(e)?e:null};const Z=function(e){for(var t;e&&!e.dir;)e=e.parentNode;return null==(t=e)?void 0:t.dir};var J=r(42512);function ee(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var te=0;function re(e){return"__private_"+te+++"_"+e}var ne=re("updateUI");class ie extends J.A{constructor(){super(...arguments),Object.defineProperty(this,ne,{writable:!0,value:void 0})}getTargetPlugin(e){var t;if("function"===typeof(null==e?void 0:e.addTarget))(t=e)instanceof ie||console.warn(new Error("The provided plugin is not an instance of UIPlugin. This is an indication of a bug with the way Uppy is bundled.",{cause:{targetPlugin:t,UIPlugin:ie}}));else if("function"===typeof e){var r=e;this.uppy.iteratePlugins(e=>{e instanceof r&&(t=e)})}return t}mount(e,t){var r=t.id,n=Q(e);if(n){this.isTargetDOMEl=!0;var i=document.createElement("div");return i.classList.add("uppy-Root"),ee(this,ne)[ne]=function(e){var t,r=null;return function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=i,r||(r=Promise.resolve().then(()=>(r=null,e(...t)))),r}}(e=>{this.uppy.getPlugin(this.id)&&(X(this.render(e),i),this.afterUpdate())}),this.uppy.log("Installing ".concat(r," to a DOM element '").concat(e,"'")),this.opts.replaceTargetContent&&(n.innerHTML=""),X(this.render(this.uppy.getState()),i),this.el=i,n.appendChild(i),i.dir=this.opts.direction||Z(i)||"ltr",this.onMount(),this.el}var o=this.getTargetPlugin(e);if(o)return this.uppy.log("Installing ".concat(r," to ").concat(o.id)),this.parent=o,this.el=o.addTarget(t),this.onMount(),this.el;this.uppy.log("Not installing ".concat(r));var a="Invalid target option given to ".concat(r,".");throw a+="function"===typeof e?" The given target is not a Plugin class. Please check that you're not specifying a React Component instead of a plugin. If you are using @uppy/* packages directly, make sure you have only 1 version of @uppy/core installed: run `npm ls @uppy/core` on the command line and verify that all the versions match and are deduped correctly.":"If you meant to target an HTML element, please make sure that the element exists. Check that the <script> tag initializing Uppy is right before the closing </body> tag at the end of the page. (see https://github.com/transloadit/uppy/issues/1042)\n\nIf you meant to target a plugin, please confirm that your `import` statements or `require` calls are correct.",new Error(a)}render(e){throw new Error("Extend the render method to add your plugin to a DOM element")}update(e){var t,r;null!=this.el&&(null==(t=(r=ee(this,ne))[ne])||t.call(r,e))}unmount(){var e;this.isTargetDOMEl&&(null==(e=this.el)||e.remove());this.onUnmount()}onMount(){}onUnmount(){}}const oe=ie;function ae(e,t,r,n){return 0===r||e===t?e:0===n?t:e+(t-e)*Math.pow(2,-n/r)}const se={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete"};var le=r(48738);function ue(e){var t,r=[],n="indeterminate";for(var{progress:i}of Object.values(e)){var{preprocess:o,postprocess:a}=i;null==t&&(o||a)&&({mode:n,message:t}=o||a),"determinate"===(null==o?void 0:o.mode)&&r.push(o.value),"determinate"===(null==a?void 0:a.mode)&&r.push(a.value)}return{mode:n,message:t,value:r.reduce((e,t)=>e+t/r.length,0)}}var ce=r(40127);function pe(e){var t,r=(t=e,{hours:Math.floor(t/3600)%24,minutes:Math.floor(t/60)%60,seconds:Math.floor(t%60)}),n=0===r.hours?"":"".concat(r.hours,"h"),i=0===r.minutes?"":"".concat(0===r.hours?r.minutes:" ".concat(r.minutes.toString(10).padStart(2,"0")),"m"),o=0!==r.hours?"":"".concat(0===r.minutes?r.seconds:" ".concat(r.seconds.toString(10).padStart(2,"0")),"s");return"".concat(n).concat(i).concat(o)}var he=()=>" ".concat("\xb7"," ");function de(e){var{newFiles:t,isUploadStarted:r,recoveredState:n,i18n:i,uploadState:o,isSomeGhost:a,startUpload:s}=e,l=le("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--upload",{"uppy-c-btn-primary":o===se.STATE_WAITING},{"uppy-StatusBar-actionBtn--disabled":a}),u=i(t&&r&&!n?"uploadXNewFiles":"uploadXFiles",{smart_count:t});return F("button",{type:"button",className:l,"aria-label":i("uploadXFiles",{smart_count:t}),onClick:s,disabled:a,"data-uppy-super-focusable":!0},u)}function fe(e){var{i18n:t,uppy:r}=e;return F("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--retry","aria-label":t("retryUpload"),onClick:()=>r.retryAll().catch(()=>{}),"data-uppy-super-focusable":!0,"data-cy":"retry"},F("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"8",height:"10",viewBox:"0 0 8 10"},F("path",{d:"M4 2.408a2.75 2.75 0 1 0 2.75 2.75.626.626 0 0 1 1.25.018v.023a4 4 0 1 1-4-4.041V.25a.25.25 0 0 1 .389-.208l2.299 1.533a.25.25 0 0 1 0 .416l-2.3 1.533A.25.25 0 0 1 4 3.316v-.908z"})),t("retry"))}function ve(e){var{i18n:t,uppy:r}=e;return F("button",{type:"button",className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",title:t("cancel"),"aria-label":t("cancel"),onClick:()=>r.cancelAll(),"data-cy":"cancel","data-uppy-super-focusable":!0},F("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16"},F("g",{fill:"none",fillRule:"evenodd"},F("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),F("path",{fill:"#FFF",d:"M9.283 8l2.567 2.567-1.283 1.283L8 9.283 5.433 11.85 4.15 10.567 6.717 8 4.15 5.433 5.433 4.15 8 6.717l2.567-2.567 1.283 1.283z"}))))}function ge(e){var{isAllPaused:t,i18n:r,isAllComplete:n,resumableUploads:i,uppy:o}=e,a=r(t?"resume":"pause");return F("button",{title:a,"aria-label":a,className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",type:"button",onClick:function(){n||(i?t?o.resumeAll():o.pauseAll():o.cancelAll())},"data-cy":"togglePauseResume","data-uppy-super-focusable":!0},F("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16"},F("g",{fill:"none",fillRule:"evenodd"},F("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),F("path",{fill:"#FFF",d:t?"M6 4.25L11.5 8 6 11.75z":"M5 4.5h2v7H5v-7zm4 0h2v7H9v-7z"}))))}function me(e){var{i18n:t,doneButtonHandler:r}=e;return F("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--done",onClick:r,"data-uppy-super-focusable":!0},t("done"))}function ye(){return F("svg",{className:"uppy-StatusBar-spinner","aria-hidden":"true",focusable:"false",width:"14",height:"14"},F("path",{d:"M13.983 6.547c-.12-2.509-1.64-4.893-3.939-5.936-2.48-1.127-5.488-.656-7.556 1.094C.524 3.367-.398 6.048.162 8.562c.556 2.495 2.46 4.52 4.94 5.183 2.932.784 5.61-.602 7.256-3.015-1.493 1.993-3.745 3.309-6.298 2.868-2.514-.434-4.578-2.349-5.153-4.84a6.226 6.226 0 0 1 2.98-6.778C6.34.586 9.74 1.1 11.373 3.493c.407.596.693 1.282.842 1.988.127.598.073 1.197.161 1.794.078.525.543 1.257 1.15.864.525-.341.49-1.05.456-1.592-.007-.15.02.3 0 0",fillRule:"evenodd"}))}function be(e){var{progress:t}=e,{value:r,mode:n,message:i}=t;return F("div",{className:"uppy-StatusBar-content"},F(ye,null),"determinate"===n?"".concat(Math.round(100*r),"% ").concat("\xb7"," "):"",i)}function _e(e){var{numUploads:t,complete:r,totalUploadedSize:n,totalSize:i,totalETA:o,i18n:a}=e,s=t>1;return F("div",{className:"uppy-StatusBar-statusSecondary"},s&&a("filesUploadedOfTotal",{complete:r,smart_count:t}),F("span",{className:"uppy-StatusBar-additionalInfo"},s&&he(),a("dataUploadedOfTotal",{complete:ce(n),total:ce(i)}),he(),a("xTimeLeft",{time:pe(o)})))}function we(e){var{i18n:t,complete:r,numUploads:n}=e;return F("div",{className:"uppy-StatusBar-statusSecondary"},t("filesUploadedOfTotal",{complete:r,smart_count:n}))}function Pe(e){var{i18n:t,newFiles:r,startUpload:n}=e,i=le("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--uploadNewlyAdded");return F("div",{className:"uppy-StatusBar-statusSecondary"},F("div",{className:"uppy-StatusBar-statusSecondaryHint"},t("xMoreFilesAdded",{smart_count:r})),F("button",{type:"button",className:i,"aria-label":t("uploadXFiles",{smart_count:r}),onClick:n},t("upload")))}function Se(e){var{i18n:t,supportsUploadProgress:r,totalProgress:n,showProgressDetails:i,isUploadStarted:o,isAllComplete:a,isAllPaused:s,newFiles:l,numUploads:u,complete:c,totalUploadedSize:p,totalSize:h,totalETA:d,startUpload:f}=e,v=l&&o;if(!o||a)return null;var g=t(s?"paused":"uploading");return F("div",{className:"uppy-StatusBar-content","aria-label":g,title:g},s?null:F(ye,null),F("div",{className:"uppy-StatusBar-status"},F("div",{className:"uppy-StatusBar-statusPrimary"},r?"".concat(g,": ").concat(n,"%"):g),s||v||!i?null:r?F(_e,{numUploads:u,complete:c,totalUploadedSize:p,totalSize:h,totalETA:d,i18n:t}):F(we,{i18n:t,complete:c,numUploads:u}),v?F(Pe,{i18n:t,newFiles:l,startUpload:f}):null))}function Ae(e){var{i18n:t}=e;return F("div",{className:"uppy-StatusBar-content",role:"status",title:t("complete")},F("div",{className:"uppy-StatusBar-status"},F("div",{className:"uppy-StatusBar-statusPrimary"},F("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"15",height:"11",viewBox:"0 0 15 11"},F("path",{d:"M.414 5.843L1.627 4.63l3.472 3.472L13.202 0l1.212 1.213L5.1 10.528z"})),t("complete"))))}function Fe(e){var{error:t,i18n:r,complete:n,numUploads:i}=e;return F("div",{className:"uppy-StatusBar-content",title:r("uploadFailed")},F("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"11",height:"11",viewBox:"0 0 11 11"},F("path",{d:"M4.278 5.5L0 1.222 1.222 0 5.5 4.278 9.778 0 11 1.222 6.722 5.5 11 9.778 9.778 11 5.5 6.722 1.222 11 0 9.778z"})),F("div",{className:"uppy-StatusBar-status"},F("div",{className:"uppy-StatusBar-statusPrimary"},r("uploadFailed"),F("button",{className:"uppy-u-reset uppy-StatusBar-details","aria-label":r("showErrorDetails"),"data-microtip-position":"top-right","data-microtip-size":"medium",onClick:function(){var e="".concat(r("uploadFailed")," \n\n ").concat(t);alert(e)},type:"button"},"?")),F(we,{i18n:r,complete:n,numUploads:i})))}var{STATE_ERROR:Ce,STATE_WAITING:Oe,STATE_PREPROCESSING:ke,STATE_UPLOADING:Ee,STATE_POSTPROCESSING:xe,STATE_COMPLETE:Te}=se;function Ue(e){var{newFiles:t,allowNewUpload:r,isUploadInProgress:n,isAllPaused:i,resumableUploads:o,error:a,hideUploadButton:s,hidePauseResumeButton:l,hideCancelButton:u,hideRetryButton:c,recoveredState:p,uploadState:h,totalProgress:d,files:f,supportsUploadProgress:v,hideAfterFinish:g,isSomeGhost:m,doneButtonHandler:y,isUploadStarted:b,i18n:_,startUpload:w,uppy:P,isAllComplete:S,showProgressDetails:A,numUploads:C,complete:O,totalSize:k,totalETA:E,totalUploadedSize:x}=e;var T=function(){switch(h){case xe:case ke:var e=ue(f);return"determinate"===e.mode?100*e.value:d;case Ce:return null;case Ee:return v?d:null;default:return d}}(),U=function(){if(p)return!1;switch(h){case Oe:return s||0===t;case Te:return g;default:return!1}}(),D=null!=T?T:100,I=!a&&t&&!n&&!i&&r&&!s,R=!u&&h!==Oe&&h!==Te,N=o&&!l&&h===Ee,j=a&&!S&&!c,B=y&&h===Te,L=le("uppy-StatusBar-progress",{"is-indeterminate":function(){switch(h){case xe:case ke:var{mode:e}=ue(f);return"indeterminate"===e;case Ee:return!v;default:return!1}}()});return F("div",{className:le("uppy-StatusBar","is-".concat(h),{"has-ghosts":m}),"aria-hidden":U},F("div",{className:L,style:{width:"".concat(D,"%")},role:"progressbar","aria-label":"".concat(D,"%"),"aria-valuetext":"".concat(D,"%"),"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":T}),(()=>{switch(h){case ke:case xe:return F(be,{progress:ue(f)});case Te:return F(Ae,{i18n:_});case Ce:return F(Fe,{error:a,i18n:_,numUploads:C,complete:O});case Ee:return F(Se,{i18n:_,supportsUploadProgress:v,totalProgress:d,showProgressDetails:A,isUploadStarted:b,isAllComplete:S,isAllPaused:i,newFiles:t,numUploads:C,complete:O,totalUploadedSize:x,totalSize:k,totalETA:E,startUpload:w});default:return null}})(),F("div",{className:"uppy-StatusBar-actions"},p||I?F(de,{newFiles:t,isUploadStarted:b,recoveredState:p,i18n:_,isSomeGhost:m,startUpload:w,uploadState:h}):null,j?F(fe,{i18n:_,uppy:P}):null,N?F(ge,{isAllPaused:i,i18n:_,isAllComplete:S,resumableUploads:o,uppy:P}):null,R?F(ve,{i18n:_,uppy:P}):null,B?F(me,{i18n:_,doneButtonHandler:y}):null))}Ue.defaultProps={doneButtonHandler:void 0,hideAfterFinish:!1,hideCancelButton:!1,hidePauseResumeButton:!1,hideRetryButton:!1,hideUploadButton:void 0,showProgressDetails:void 0};const De={strings:{uploading:"Uploading",complete:"Complete",uploadFailed:"Upload failed",paused:"Paused",retry:"Retry",cancel:"Cancel",pause:"Pause",resume:"Resume",done:"Done",filesUploadedOfTotal:{0:"%{complete} of %{smart_count} file uploaded",1:"%{complete} of %{smart_count} files uploaded"},dataUploadedOfTotal:"%{complete} of %{total}",xTimeLeft:"%{time} left",uploadXFiles:{0:"Upload %{smart_count} file",1:"Upload %{smart_count} files"},uploadXNewFiles:{0:"Upload +%{smart_count} file",1:"Upload +%{smart_count} files"},upload:"Upload",retryUpload:"Retry upload",xMoreFilesAdded:{0:"%{smart_count} more file added",1:"%{smart_count} more files added"},showErrorDetails:"Show error details"}};function Ie(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var Re=0;function Ne(e){return"__private_"+Re+++"_"+e}function je(e,t,r,n){if(e)return se.STATE_ERROR;if(t)return se.STATE_COMPLETE;if(r)return se.STATE_WAITING;for(var i=se.STATE_WAITING,o=Object.keys(n),a=0;a<o.length;a++){var{progress:s}=n[o[a]];if(s.uploadStarted&&!s.uploadComplete)return se.STATE_UPLOADING;s.preprocess&&(i=se.STATE_PREPROCESSING),s.postprocess&&i!==se.STATE_PREPROCESSING&&(i=se.STATE_POSTPROCESSING)}return i}var Be={target:"body",hideUploadButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideCancelButton:!1,showProgressDetails:!1,hideAfterFinish:!0,doneButtonHandler:null},Le=Ne("lastUpdateTime"),Me=Ne("previousUploadedBytes"),ze=Ne("previousSpeed"),qe=Ne("previousETA"),He=Ne("computeSmoothETA"),We=Ne("onUploadStart");class Ve extends oe{constructor(e,t){super(e,(0,f.A)((0,f.A)({},Be),t)),Object.defineProperty(this,He,{value:Ge}),Object.defineProperty(this,Le,{writable:!0,value:void 0}),Object.defineProperty(this,Me,{writable:!0,value:void 0}),Object.defineProperty(this,ze,{writable:!0,value:void 0}),Object.defineProperty(this,qe,{writable:!0,value:void 0}),this.startUpload=()=>this.uppy.upload().catch(()=>{}),Object.defineProperty(this,We,{writable:!0,value:()=>{var{recoveredState:e}=this.uppy.getState();if(Ie(this,ze)[ze]=null,Ie(this,qe)[qe]=null,e)return Ie(this,Me)[Me]=Object.values(e.files).reduce((e,t)=>{var{progress:r}=t;return e+r.bytesUploaded},0),void this.uppy.emit("restore-confirmed");Ie(this,Le)[Le]=performance.now(),Ie(this,Me)[Me]=0}}),this.id=this.opts.id||"StatusBar",this.title="StatusBar",this.type="progressindicator",this.defaultLocale=De,this.i18nInit(),this.render=this.render.bind(this),this.install=this.install.bind(this)}render(e){var{capabilities:t,files:r,allowNewUpload:n,totalProgress:i,error:o,recoveredState:a}=e,{newFiles:s,startedFiles:l,completeFiles:u,isUploadStarted:c,isAllComplete:p,isAllErrored:h,isAllPaused:d,isUploadInProgress:f,isSomeGhost:v}=this.uppy.getObjectOfFilesPerState(),g=a?Object.values(r):s,m=!!t.resumableUploads,y=!1!==t.uploadProgress,b=0,_=0;l.forEach(e=>{b+=e.progress.bytesTotal||0,_+=e.progress.bytesUploaded||0});var w=Ie(this,He)[He]({uploaded:_,total:b,remaining:b-_});return Ue({error:o,uploadState:je(o,p,a,e.files||{}),allowNewUpload:n,totalProgress:i,totalSize:b,totalUploadedSize:_,isAllComplete:!1,isAllPaused:d,isAllErrored:h,isUploadStarted:c,isUploadInProgress:f,isSomeGhost:v,recoveredState:a,complete:u.length,newFiles:g.length,numUploads:l.length,totalETA:w,files:r,i18n:this.i18n,uppy:this.uppy,startUpload:this.startUpload,doneButtonHandler:this.opts.doneButtonHandler,resumableUploads:m,supportsUploadProgress:y,showProgressDetails:this.opts.showProgressDetails,hideUploadButton:this.opts.hideUploadButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,hideCancelButton:this.opts.hideCancelButton,hideAfterFinish:this.opts.hideAfterFinish,isTargetDOMEl:this.isTargetDOMEl})}onMount(){var e=this.el;Z(e)||(e.dir="ltr")}install(){var{target:e}=this.opts;e&&this.mount(e,this),this.uppy.on("upload",Ie(this,We)[We]),Ie(this,Le)[Le]=performance.now(),Ie(this,Me)[Me]=this.uppy.getFiles().reduce((e,t)=>e+t.progress.bytesUploaded,0)}uninstall(){this.unmount(),this.uppy.off("upload",Ie(this,We)[We])}}function Ge(e){var t;if(0===e.total||0===e.remaining)return 0;null!=(t=Ie(this,Le))[Le]||(t[Le]=performance.now());var r,n=performance.now()-Ie(this,Le)[Le];if(0===n)return Math.round((null!=(r=Ie(this,qe)[qe])?r:0)/100)/10;var i,o=e.uploaded-Ie(this,Me)[Me];if(Ie(this,Me)[Me]=e.uploaded,o<=0)return Math.round((null!=(i=Ie(this,qe)[qe])?i:0)/100)/10;var a=o/n,s=null==Ie(this,ze)[ze]?a:ae(a,Ie(this,ze)[ze],2e3,n);Ie(this,ze)[ze]=s;var l=e.remaining/s,u=Math.max(Ie(this,qe)[qe]-n,0),c=null==Ie(this,qe)[qe]?l:ae(l,u,2e3,n);return Ie(this,qe)[qe]=c,Ie(this,Le)[Le]=performance.now(),Math.round(c/100)/10}Ve.VERSION="3.3.3";class Ke extends k{constructor(){super(...arguments),this.ref={current:null}}componentWillEnter(e){this.ref.current.style.opacity="1",this.ref.current.style.transform="none",setTimeout(e,300)}componentWillLeave(e){this.ref.current.style.opacity="0",this.ref.current.style.transform="translateY(350%)",setTimeout(e,300)}render(){var{children:e}=this.props;return F("div",{className:"uppy-Informer-animated",ref:this.ref},e)}}var Xe=["childFactory","transitionLeave","transitionName","transitionAppear","transitionEnter","transitionLeaveTimeout","transitionEnterTimeout","transitionAppearTimeout","component"];function $e(e,t){var r;return null!=(r=null==e?void 0:e.key)?r:t}function Ye(e){for(var t={},r=0;r<e.length;r++){if(null!=e[r])t[$e(e[r],r.toString(36))]=e[r]}return t}function Qe(e,t){e=e||{},t=t||{};var r=r=>t.hasOwnProperty(r)?t[r]:e[r],n={},i=[];for(var o in e)t.hasOwnProperty(o)?i.length&&(n[o]=i,i=[]):i.push(o);var a={};for(var s in t){if(n.hasOwnProperty(s))for(var l=0;l<n[s].length;l++){var u=n[s][l];a[n[s][l]]=r(u)}a[s]=r(s)}for(var c=0;c<i.length;c++)a[i[c]]=r(i[c]);return a}class Ze extends k{constructor(e,t){super(e,t),this.refs={},this.state={children:Ye(N(N(this.props.children))||[])},this.performAppear=this.performAppear.bind(this),this.performEnter=this.performEnter.bind(this),this.performLeave=this.performLeave.bind(this)}componentWillMount(){this.currentlyTransitioningKeys={},this.keysToAbortLeave=[],this.keysToEnter=[],this.keysToLeave=[]}componentDidMount(){var e=this.state.children;for(var t in e)e[t]&&this.performAppear(t)}componentWillReceiveProps(e){var t,r=Ye(N(e.children)||[]),n=this.state.children;for(t in this.setState(e=>({children:Qe(e.children,r)})),r)if(r.hasOwnProperty(t)){var i=n&&n.hasOwnProperty(t);r[t]&&i&&this.currentlyTransitioningKeys[t]?(this.keysToEnter.push(t),this.keysToAbortLeave.push(t)):!r[t]||i||this.currentlyTransitioningKeys[t]||this.keysToEnter.push(t)}for(t in n)if(n.hasOwnProperty(t)){var o=r&&r.hasOwnProperty(t);!n[t]||o||this.currentlyTransitioningKeys[t]||this.keysToLeave.push(t)}}componentDidUpdate(){var{keysToEnter:e}=this;this.keysToEnter=[],e.forEach(this.performEnter);var{keysToLeave:t}=this;this.keysToLeave=[],t.forEach(this.performLeave)}_finishAbort(e){var t=this.keysToAbortLeave.indexOf(e);-1!==t&&this.keysToAbortLeave.splice(t,1)}performAppear(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];null!=t&&t.componentWillAppear?t.componentWillAppear(this._handleDoneAppearing.bind(this,e)):this._handleDoneAppearing(e)}_handleDoneAppearing(e){var t=this.refs[e];null!=t&&t.componentDidAppear&&t.componentDidAppear(),delete this.currentlyTransitioningKeys[e],this._finishAbort(e);var r=Ye(N(this.props.children)||[]);r&&r.hasOwnProperty(e)||this.performLeave(e)}performEnter(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];null!=t&&t.componentWillEnter?t.componentWillEnter(this._handleDoneEntering.bind(this,e)):this._handleDoneEntering(e)}_handleDoneEntering(e){var t=this.refs[e];null!=t&&t.componentDidEnter&&t.componentDidEnter(),delete this.currentlyTransitioningKeys[e],this._finishAbort(e);var r=Ye(N(this.props.children)||[]);r&&r.hasOwnProperty(e)||this.performLeave(e)}performLeave(e){if(-1===this.keysToAbortLeave.indexOf(e)){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];null!=t&&t.componentWillLeave?t.componentWillLeave(this._handleDoneLeaving.bind(this,e)):this._handleDoneLeaving(e)}}_handleDoneLeaving(e){if(-1===this.keysToAbortLeave.indexOf(e)){var t=this.refs[e];null!=t&&t.componentDidLeave&&t.componentDidLeave(),delete this.currentlyTransitioningKeys[e];var r,n,i=Ye(N(this.props.children)||[]);if(i&&i.hasOwnProperty(e))this.performEnter(e);else{var o=(r={},n=this.state.children,Object.assign(r,n));delete o[e],this.setState({children:o})}}}render(e,t){var{childFactory:r,transitionLeave:n,transitionName:i,transitionAppear:o,transitionEnter:a,transitionLeaveTimeout:s,transitionEnterTimeout:l,transitionAppearTimeout:u,component:c}=e,p=(0,v.A)(e,Xe),{children:h}=t,d=Object.entries(h).map(e=>{var[t,n]=e;if(n){var i=function(e,t){var r=e._ptgLinkedRefs||(e._ptgLinkedRefs={});return r[t]||(r[t]=r=>{e.refs[t]=r})}(this,t);return $(r(n),{ref:i,key:t})}}).filter(Boolean);return F(c,p,d)}}Ze.defaultProps={component:"span",childFactory:e=>e};const Je=Ze;class et extends oe{constructor(e,t){super(e,t),this.render=e=>F("div",{className:"uppy uppy-Informer"},F(Je,null,e.info.map(e=>F(Ke,{key:e.message},F("p",{role:"alert"},e.message," ",e.details&&F("span",{"aria-label":e.details,"data-microtip-position":"top-left","data-microtip-size":"medium",role:"tooltip",onClick:()=>alert("".concat(e.message," \n\n ").concat(e.details))},"?")))))),this.type="progressindicator",this.id=this.opts.id||"Informer",this.title="Informer"}install(){var{target:e}=this.opts;e&&this.mount(e,this)}}et.VERSION="3.1.0";var tt=/^data:([^/]+\/[^,;]+(?:[^,]*?))(;base64)?,([\s\S]*)$/;const rt=function(e,t,r){var n,i,o,a=tt.exec(e),s=null!=(n=null!=(i=t.mimeType)?i:null==a?void 0:a[1])?n:"plain/text";if(null!=(null==a?void 0:a[2])){for(var l=atob(decodeURIComponent(a[3])),u=new Uint8Array(l.length),c=0;c<l.length;c++)u[c]=l.charCodeAt(c);o=[u]}else null!=(null==a?void 0:a[3])&&(o=[decodeURIComponent(a[3])]);return r?new File(o,t.name||"",{type:s}):new Blob(o,{type:s})};function nt(e){return e.startsWith("blob:")}function it(e){return!!e&&/^[^/]+\/(jpe?g|gif|png|svg|svg\+xml|bmp|webp|avif)$/.test(e)}function ot(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var at="undefined"!=typeof self?self:global,st="undefined"!=typeof navigator,lt=st&&"undefined"==typeof HTMLImageElement,ut=!("undefined"==typeof global||"undefined"==typeof process||!process.versions||!process.versions.node),ct=at.Buffer,pt=!!ct,ht=e=>void 0!==e;function dt(e){return void 0===e||(e instanceof Map?0===e.size:0===Object.values(e).filter(ht).length)}function ft(e){var t=new Error(e);throw delete t.stack,t}function vt(e){var t=function(e){var t=0;return e.ifd0.enabled&&(t+=1024),e.exif.enabled&&(t+=2048),e.makerNote&&(t+=2048),e.userComment&&(t+=1024),e.gps.enabled&&(t+=512),e.interop.enabled&&(t+=100),e.ifd1.enabled&&(t+=1024),t+2048}(e);return e.jfif.enabled&&(t+=50),e.xmp.enabled&&(t+=2e4),e.iptc.enabled&&(t+=14e3),e.icc.enabled&&(t+=6e3),t}var gt=e=>String.fromCharCode.apply(null,e),mt="undefined"!=typeof TextDecoder?new TextDecoder("utf-8"):void 0;class yt{static from(e,t){return e instanceof this&&e.le===t?e:new yt(e,void 0,void 0,t)}constructor(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;if("boolean"==typeof n&&(this.le=n),Array.isArray(e)&&(e=new Uint8Array(e)),0===e)this.byteOffset=0,this.byteLength=0;else if(e instanceof ArrayBuffer){void 0===r&&(r=e.byteLength-t);var i=new DataView(e,t,r);this._swapDataView(i)}else if(e instanceof Uint8Array||e instanceof DataView||e instanceof yt){void 0===r&&(r=e.byteLength-t),(t+=e.byteOffset)+r>e.byteOffset+e.byteLength&&ft("Creating view outside of available memory in ArrayBuffer");var o=new DataView(e.buffer,t,r);this._swapDataView(o)}else if("number"==typeof e){var a=new DataView(new ArrayBuffer(e));this._swapDataView(a)}else ft("Invalid input argument for BufferView: "+e)}_swapArrayBuffer(e){this._swapDataView(new DataView(e))}_swapBuffer(e){this._swapDataView(new DataView(e.buffer,e.byteOffset,e.byteLength))}_swapDataView(e){this.dataView=e,this.buffer=e.buffer,this.byteOffset=e.byteOffset,this.byteLength=e.byteLength}_lengthToEnd(e){return this.byteLength-e}set(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:yt;return e instanceof DataView||e instanceof yt?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer&&(e=new Uint8Array(e)),e instanceof Uint8Array||ft("BufferView.set(): Invalid data argument."),this.toUint8().set(e,t),new r(this,t,e.byteLength)}subarray(e,t){return t=t||this._lengthToEnd(e),new yt(this,e,t)}toUint8(){return new Uint8Array(this.buffer,this.byteOffset,this.byteLength)}getUint8Array(e,t){return new Uint8Array(this.buffer,this.byteOffset+e,t)}getString(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.byteLength;return e=this.getUint8Array(t,r),mt?mt.decode(e):pt?Buffer.from(e).toString("utf8"):decodeURIComponent(escape(gt(e)))}getLatin1String(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.byteLength,r=this.getUint8Array(e,t);return gt(r)}getUnicodeString(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.byteLength,r=[],n=0;n<t&&e+n<this.byteLength;n+=2)r.push(this.getUint16(e+n));return gt(r)}getInt8(e){return this.dataView.getInt8(e)}getUint8(e){return this.dataView.getUint8(e)}getInt16(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.le;return this.dataView.getInt16(e,t)}getInt32(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.le;return this.dataView.getInt32(e,t)}getUint16(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.le;return this.dataView.getUint16(e,t)}getUint32(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.le;return this.dataView.getUint32(e,t)}getFloat32(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.le;return this.dataView.getFloat32(e,t)}getFloat64(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.le;return this.dataView.getFloat64(e,t)}getFloat(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.le;return this.dataView.getFloat32(e,t)}getDouble(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.le;return this.dataView.getFloat64(e,t)}getUintBytes(e,t,r){switch(t){case 1:return this.getUint8(e,r);case 2:return this.getUint16(e,r);case 4:return this.getUint32(e,r);case 8:return this.getUint64&&this.getUint64(e,r)}}getUint(e,t,r){switch(t){case 8:return this.getUint8(e,r);case 16:return this.getUint16(e,r);case 32:return this.getUint32(e,r);case 64:return this.getUint64&&this.getUint64(e,r)}}toString(e){return this.dataView.toString(e,this.constructor.name)}ensureChunk(){}}function bt(e,t){ft("".concat(e," '").concat(t,"' was not loaded, try using full build of exifr."))}class _t extends Map{constructor(e){super(),this.kind=e}get(e,t){return this.has(e)||bt(this.kind,e),t&&(e in t||function(e,t){ft("Unknown ".concat(e," '").concat(t,"'."))}(this.kind,e),t[e].enabled||bt(this.kind,e)),super.get(e)}keyList(){return Array.from(this.keys())}}var wt=new _t("file parser"),Pt=new _t("segment parser"),St=new _t("file reader"),At=at.fetch;function Ft(e,t){return(r=e).startsWith("data:")||r.length>1e4?kt(e,t,"base64"):ut&&e.includes("://")?Ct(e,t,"url",xt):ut?kt(e,t,"fs"):st?Ct(e,t,"url",xt):void ft("Invalid input argument");var r}function Ct(e,t,r,n){return Ot.apply(this,arguments)}function Ot(){return Ot=(0,y.A)(function*(e,t,r,n){return St.has(r)?kt(e,t,r):n?function(){var e=(0,y.A)(function*(e,t){var r=yield t(e);return new yt(r)});return function(t,r){return e.apply(this,arguments)}}()(e,n):void ft("Parser ".concat(r," is not loaded"))}),Ot.apply(this,arguments)}function kt(e,t,r){return Et.apply(this,arguments)}function Et(){return Et=(0,y.A)(function*(e,t,r){var n=new(St.get(r))(e,t);return yield n.read(),n}),Et.apply(this,arguments)}var xt=e=>At(e).then(e=>e.arrayBuffer()),Tt=e=>new Promise((t,r)=>{var n=new FileReader;n.onloadend=()=>t(n.result||new ArrayBuffer),n.onerror=r,n.readAsArrayBuffer(e)});class Ut extends Map{get tagKeys(){return this.allKeys||(this.allKeys=Array.from(this.keys())),this.allKeys}get tagValues(){return this.allValues||(this.allValues=Array.from(this.values())),this.allValues}}function Dt(e,t,r){var n=new Ut;for(var[i,o]of r)n.set(i,o);if(Array.isArray(t))for(var a of t)e.set(a,n);else e.set(t,n);return n}function It(e,t,r){var n,i=e.get(t);for(n of r)i.set(n[0],n[1])}var Rt=new Map,Nt=new Map,jt=new Map,Bt=["chunked","firstChunkSize","firstChunkSizeNode","firstChunkSizeBrowser","chunkSize","chunkLimit"],Lt=["jfif","xmp","icc","iptc","ihdr"],Mt=["tiff",...Lt],zt=["ifd0","ifd1","exif","gps","interop"],qt=[...Mt,...zt],Ht=["makerNote","userComment"],Wt=["translateKeys","translateValues","reviveValues","multiSegment"],Vt=[...Wt,"sanitize","mergeOutput","silentErrors"];class Gt{get translate(){return this.translateKeys||this.translateValues||this.reviveValues}}class Kt extends Gt{get needed(){return this.enabled||this.deps.size>0}constructor(e,t,r,n){if(super(),ot(this,"enabled",!1),ot(this,"skip",new Set),ot(this,"pick",new Set),ot(this,"deps",new Set),ot(this,"translateKeys",!1),ot(this,"translateValues",!1),ot(this,"reviveValues",!1),this.key=e,this.enabled=t,this.parse=this.enabled,this.applyInheritables(n),this.canBeFiltered=zt.includes(e),this.canBeFiltered&&(this.dict=Rt.get(e)),void 0!==r)if(Array.isArray(r))this.parse=this.enabled=!0,this.canBeFiltered&&r.length>0&&this.translateTagSet(r,this.pick);else if("object"==typeof r){if(this.enabled=!0,this.parse=!1!==r.parse,this.canBeFiltered){var{pick:i,skip:o}=r;i&&i.length>0&&this.translateTagSet(i,this.pick),o&&o.length>0&&this.translateTagSet(o,this.skip)}this.applyInheritables(r)}else!0===r||!1===r?this.parse=this.enabled=r:ft("Invalid options argument: ".concat(r))}applyInheritables(e){var t,r;for(t of Wt)void 0!==(r=e[t])&&(this[t]=r)}translateTagSet(e,t){if(this.dict){var r,n,{tagKeys:i,tagValues:o}=this.dict;for(r of e)"string"==typeof r?(-1===(n=o.indexOf(r))&&(n=i.indexOf(Number(r))),-1!==n&&t.add(Number(i[n]))):t.add(r)}else for(var a of e)t.add(a)}finalizeFilters(){!this.enabled&&this.deps.size>0?(this.enabled=!0,Jt(this.pick,this.deps)):this.enabled&&this.pick.size>0&&Jt(this.pick,this.deps)}}var Xt={jfif:!1,tiff:!0,xmp:!1,icc:!1,iptc:!1,ifd0:!0,ifd1:!1,exif:!0,gps:!0,interop:!1,ihdr:void 0,makerNote:!1,userComment:!1,multiSegment:!1,skip:[],pick:[],translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!0,mergeOutput:!0,silentErrors:!0,chunked:!0,firstChunkSize:void 0,firstChunkSizeNode:512,firstChunkSizeBrowser:65536,chunkSize:65536,chunkLimit:5},$t=new Map;class Yt extends Gt{static useCached(e){var t=$t.get(e);return void 0!==t||(t=new this(e),$t.set(e,t)),t}constructor(e){super(),!0===e?this.setupFromTrue():void 0===e?this.setupFromUndefined():Array.isArray(e)?this.setupFromArray(e):"object"==typeof e?this.setupFromObject(e):ft("Invalid options argument ".concat(e)),void 0===this.firstChunkSize&&(this.firstChunkSize=st?this.firstChunkSizeBrowser:this.firstChunkSizeNode),this.mergeOutput&&(this.ifd1.enabled=!1),this.filterNestedSegmentTags(),this.traverseTiffDependencyTree(),this.checkLoadedPlugins()}setupFromUndefined(){var e;for(e of Bt)this[e]=Xt[e];for(e of Vt)this[e]=Xt[e];for(e of Ht)this[e]=Xt[e];for(e of qt)this[e]=new Kt(e,Xt[e],void 0,this)}setupFromTrue(){var e;for(e of Bt)this[e]=Xt[e];for(e of Vt)this[e]=Xt[e];for(e of Ht)this[e]=!0;for(e of qt)this[e]=new Kt(e,!0,void 0,this)}setupFromArray(e){var t;for(t of Bt)this[t]=Xt[t];for(t of Vt)this[t]=Xt[t];for(t of Ht)this[t]=Xt[t];for(t of qt)this[t]=new Kt(t,!1,void 0,this);this.setupGlobalFilters(e,void 0,zt)}setupFromObject(e){var t;for(t of(zt.ifd0=zt.ifd0||zt.image,zt.ifd1=zt.ifd1||zt.thumbnail,Object.assign(this,e),Bt))this[t]=Zt(e[t],Xt[t]);for(t of Vt)this[t]=Zt(e[t],Xt[t]);for(t of Ht)this[t]=Zt(e[t],Xt[t]);for(t of Mt)this[t]=new Kt(t,Xt[t],e[t],this);for(t of zt)this[t]=new Kt(t,Xt[t],e[t],this.tiff);this.setupGlobalFilters(e.pick,e.skip,zt,qt),!0===e.tiff?this.batchEnableWithBool(zt,!0):!1===e.tiff?this.batchEnableWithUserValue(zt,e):Array.isArray(e.tiff)?this.setupGlobalFilters(e.tiff,void 0,zt):"object"==typeof e.tiff&&this.setupGlobalFilters(e.tiff.pick,e.tiff.skip,zt)}batchEnableWithBool(e,t){for(var r of e)this[r].enabled=t}batchEnableWithUserValue(e,t){for(var r of e){var n=t[r];this[r].enabled=!1!==n&&void 0!==n}}setupGlobalFilters(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r;if(e&&e.length){for(var i of n)this[i].enabled=!1;var o=Qt(e,r);for(var[a,s]of o)Jt(this[a].pick,s),this[a].enabled=!0}else if(t&&t.length){var l=Qt(t,r);for(var[u,c]of l)Jt(this[u].skip,c)}}filterNestedSegmentTags(){var{ifd0:e,exif:t,xmp:r,iptc:n,icc:i}=this;this.makerNote?t.deps.add(37500):t.skip.add(37500),this.userComment?t.deps.add(37510):t.skip.add(37510),r.enabled||e.skip.add(700),n.enabled||e.skip.add(33723),i.enabled||e.skip.add(34675)}traverseTiffDependencyTree(){var{ifd0:e,exif:t,gps:r,interop:n}=this;for(var i of(n.needed&&(t.deps.add(40965),e.deps.add(40965)),t.needed&&e.deps.add(34665),r.needed&&e.deps.add(34853),this.tiff.enabled=zt.some(e=>!0===this[e].enabled)||this.makerNote||this.userComment,zt))this[i].finalizeFilters()}get onlyTiff(){return!Lt.map(e=>this[e].enabled).some(e=>!0===e)&&this.tiff.enabled}checkLoadedPlugins(){for(var e of Mt)this[e].enabled&&!Pt.has(e)&&bt("segment parser",e)}}function Qt(e,t){var r,n,i,o=[];for(n of t){for(i of(r=[],Rt.get(n)))(e.includes(i[0])||e.includes(i[1]))&&r.push(i[0]);r.length&&o.push([n,r])}return o}function Zt(e,t){return void 0!==e?e:void 0!==t?t:void 0}function Jt(e,t){for(var r of t)e.add(r)}ot(Yt,"default",Xt);class er{constructor(e){ot(this,"parsers",{}),ot(this,"output",{}),ot(this,"errors",[]),ot(this,"pushToErrors",e=>this.errors.push(e)),this.options=Yt.useCached(e)}read(e){var t=this;return(0,y.A)(function*(){t.file=yield function(e,t){return"string"==typeof e?Ft(e,t):st&&!lt&&e instanceof HTMLImageElement?Ft(e.src,t):e instanceof Uint8Array||e instanceof ArrayBuffer||e instanceof DataView?new yt(e):st&&e instanceof Blob?Ct(e,t,"blob",Tt):void ft("Invalid input argument")}(e,t.options)})()}setup(){if(!this.fileParser){var{file:e}=this,t=e.getUint16(0);for(var[r,n]of wt)if(n.canHandle(e,t))return this.fileParser=new n(this.options,this.file,this.parsers),e[r]=!0;this.file.close&&this.file.close(),ft("Unknown file format")}}parse(){var e=this;return(0,y.A)(function*(){var t,{output:r,errors:n}=e;return e.setup(),e.options.silentErrors?(yield e.executeParsers().catch(e.pushToErrors),n.push(...e.fileParser.errors)):yield e.executeParsers(),e.file.close&&e.file.close(),e.options.silentErrors&&n.length>0&&(r.errors=n),dt(t=r)?void 0:t})()}executeParsers(){var e=this;return(0,y.A)(function*(){var{output:t}=e;yield e.fileParser.parse();var r=Object.values(e.parsers).map(function(){var e=(0,y.A)(function*(e){var r=yield e.parse();e.assignToOutput(t,r)});return function(t){return e.apply(this,arguments)}}());e.options.silentErrors&&(r=r.map(t=>t.catch(e.pushToErrors))),yield Promise.all(r)})()}extractThumbnail(){var e=this;return(0,y.A)(function*(){e.setup();var t,{options:r,file:n}=e,i=Pt.get("tiff",r);if(n.tiff?t={start:0,type:"tiff"}:n.jpeg&&(t=yield e.fileParser.getOrFindSegment("tiff")),void 0!==t){var o=yield e.fileParser.ensureSegmentChunk(t),a=e.parsers.tiff=new i(o,r,n),s=yield a.extractThumbnail();return n.close&&n.close(),s}})()}}function tr(e,t){return rr.apply(this,arguments)}function rr(){return rr=(0,y.A)(function*(e,t){var r=new er(t);return yield r.read(e),r.parse()}),rr.apply(this,arguments)}var nr=Object.freeze({__proto__:null,parse:tr,Exifr:er,fileParsers:wt,segmentParsers:Pt,fileReaders:St,tagKeys:Rt,tagValues:Nt,tagRevivers:jt,createDictionary:Dt,extendDictionary:It,fetchUrlAsArrayBuffer:xt,readBlobAsArrayBuffer:Tt,chunkedProps:Bt,otherSegments:Lt,segments:Mt,tiffBlocks:zt,segmentsAndBlocks:qt,tiffExtractables:Ht,inheritables:Wt,allFormatters:Vt,Options:Yt});class ir{static findPosition(e,t){var r=e.getUint16(t+2)+2,n="function"==typeof this.headerLength?this.headerLength(e,t,r):this.headerLength,i=t+n,o=r-n;return{offset:t,length:r,headerLength:n,start:i,size:o,end:i+o}}static parse(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new this(e,new Yt({[this.type]:t}),e).parse()}normalizeInput(e){return e instanceof yt?e:new yt(e)}constructor(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;ot(this,"errors",[]),ot(this,"raw",new Map),ot(this,"handleError",e=>{if(!this.options.silentErrors)throw e;this.errors.push(e.message)}),this.chunk=this.normalizeInput(e),this.file=r,this.type=this.constructor.type,this.globalOptions=this.options=t,this.localOptions=t[this.type],this.canTranslate=this.localOptions&&this.localOptions.translate}translate(){this.canTranslate&&(this.translated=this.translateBlock(this.raw,this.type))}get output(){return this.translated?this.translated:this.raw?Object.fromEntries(this.raw):void 0}translateBlock(e,t){var r=jt.get(t),n=Nt.get(t),i=Rt.get(t),o=this.options[t],a=o.reviveValues&&!!r,s=o.translateValues&&!!n,l=o.translateKeys&&!!i,u={};for(var[c,p]of e)a&&r.has(c)?p=r.get(c)(p):s&&n.has(c)&&(p=this.translateValue(p,n.get(c))),l&&i.has(c)&&(c=i.get(c)||c),u[c]=p;return u}translateValue(e,t){return t[e]||t.DEFAULT||e}assignToOutput(e,t){this.assignObjectToOutput(e,this.constructor.type,t)}assignObjectToOutput(e,t,r){if(this.globalOptions.mergeOutput)return Object.assign(e,r);e[t]?Object.assign(e[t],r):e[t]=r}}function or(e){return 192===e||194===e||196===e||219===e||221===e||218===e||254===e}function ar(e){return e>=224&&e<=239}function sr(e,t,r){for(var[n,i]of Pt)if(i.canHandle(e,t,r))return n}ot(ir,"headerLength",4),ot(ir,"type",void 0),ot(ir,"multiSegment",!1),ot(ir,"canHandle",()=>!1);class lr extends class{constructor(e,t,r){var n=this;ot(this,"errors",[]),ot(this,"ensureSegmentChunk",function(){var e=(0,y.A)(function*(e){var t=e.start,r=e.size||65536;if(n.file.chunked)if(n.file.available(t,r))e.chunk=n.file.subarray(t,r);else try{e.chunk=yield n.file.readChunk(t,r)}catch(t){ft("Couldn't read segment: ".concat(JSON.stringify(e),". ").concat(t.message))}else n.file.byteLength>t+r?e.chunk=n.file.subarray(t,r):void 0===e.size?e.chunk=n.file.subarray(t):ft("Segment unreachable: "+JSON.stringify(e));return e.chunk});return function(t){return e.apply(this,arguments)}}()),this.extendOptions&&this.extendOptions(e),this.options=e,this.file=t,this.parsers=r}injectSegment(e,t){this.options[e].enabled&&this.createParser(e,t)}createParser(e,t){var r=new(Pt.get(e))(t,this.options,this.file);return this.parsers[e]=r}createParsers(e){for(var t of e){var{type:r,chunk:n}=t,i=this.options[r];if(i&&i.enabled){var o=this.parsers[r];o&&o.append||o||this.createParser(r,n)}}}readSegments(e){var t=this;return(0,y.A)(function*(){var r=e.map(t.ensureSegmentChunk);yield Promise.all(r)})()}}{constructor(){super(...arguments),ot(this,"appSegments",[]),ot(this,"jpegSegments",[]),ot(this,"unknownSegments",[])}static canHandle(e,t){return 65496===t}parse(){var e=this;return(0,y.A)(function*(){yield e.findAppSegments(),yield e.readSegments(e.appSegments),e.mergeMultiSegments(),e.createParsers(e.mergedAppSegments||e.appSegments)})()}setupSegmentFinderArgs(e){!0===e?(this.findAll=!0,this.wanted=new Set(Pt.keyList())):(e=void 0===e?Pt.keyList().filter(e=>this.options[e].enabled):e.filter(e=>this.options[e].enabled&&Pt.has(e)),this.findAll=!1,this.remaining=new Set(e),this.wanted=new Set(e)),this.unfinishedMultiSegment=!1}findAppSegments(){var e=arguments,t=this;return(0,y.A)(function*(){var r=e.length>0&&void 0!==e[0]?e[0]:0,n=e.length>1?e[1]:void 0;t.setupSegmentFinderArgs(n);var{file:i,findAll:o,wanted:a,remaining:s}=t;if(!o&&t.file.chunked&&(o=Array.from(a).some(e=>{var r=Pt.get(e),n=t.options[e];return r.multiSegment&&n.multiSegment}),o&&(yield t.file.readWhole())),r=t.findAppSegmentsInRange(r,i.byteLength),!t.options.onlyTiff&&i.chunked)for(var l=!1;s.size>0&&!l&&(i.canReadNextChunk||t.unfinishedMultiSegment);){var{nextChunkOffset:u}=i,c=t.appSegments.some(e=>!t.file.available(e.offset||e.start,e.length||e.size));if(l=r>u&&!c?!(yield i.readNextChunk(r)):!(yield i.readNextChunk(u)),void 0===(r=t.findAppSegmentsInRange(r,i.byteLength)))return}})()}findAppSegmentsInRange(e,t){t-=2;for(var r,n,i,o,a,s,{file:l,findAll:u,wanted:c,remaining:p,options:h}=this;e<t;e++)if(255===l.getUint8(e))if(ar(r=l.getUint8(e+1))){if(n=l.getUint16(e+2),(i=sr(l,e,n))&&c.has(i)&&(a=(o=Pt.get(i)).findPosition(l,e),s=h[i],a.type=i,this.appSegments.push(a),!u&&(o.multiSegment&&s.multiSegment?(this.unfinishedMultiSegment=a.chunkNumber<a.chunkCount,this.unfinishedMultiSegment||p.delete(i)):p.delete(i),0===p.size)))break;h.recordUnknownSegments&&((a=ir.findPosition(l,e)).marker=r,this.unknownSegments.push(a)),e+=n+1}else if(or(r)){if(n=l.getUint16(e+2),218===r&&!1!==h.stopAfterSos)return;h.recordJpegSegments&&this.jpegSegments.push({offset:e,length:n,marker:r}),e+=n+1}return e}mergeMultiSegments(){if(this.appSegments.some(e=>e.multiSegment)){var e=function(e){for(var t,r,n,i=new Map,o=0;o<e.length;o++)r=(t=e[o]).type,i.has(r)?n=i.get(r):i.set(r,n=[]),n.push(t);return Array.from(i)}(this.appSegments);this.mergedAppSegments=e.map(e=>{var[t,r]=e,n=Pt.get(t,this.options);return n.handleMultiSegments?{type:t,chunk:n.handleMultiSegments(r)}:r[0]})}}getSegment(e){return this.appSegments.find(t=>t.type===e)}getOrFindSegment(e){var t=this;return(0,y.A)(function*(){var r=t.getSegment(e);return void 0===r&&(yield t.findAppSegments(0,[e]),r=t.getSegment(e)),r})()}}ot(lr,"type","jpeg"),wt.set("jpeg",lr);var ur=[void 0,1,1,2,4,8,1,1,2,4,8,4,8,4];class cr extends ir{parseHeader(){var e=this.chunk.getUint16();18761===e?this.le=!0:19789===e&&(this.le=!1),this.chunk.le=this.le,this.headerParsed=!0}parseTags(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Map,{pick:n,skip:i}=this.options[t],o=(n=new Set(n)).size>0,a=0===i.size,s=this.chunk.getUint16(e);e+=2;for(var l=0;l<s;l++){var u=this.chunk.getUint16(e);if(o){if(n.has(u)&&(r.set(u,this.parseTag(e,u,t)),n.delete(u),0===n.size))break}else!a&&i.has(u)||r.set(u,this.parseTag(e,u,t));e+=12}return r}parseTag(e,t,r){var n,{chunk:i}=this,o=i.getUint16(e+2),a=i.getUint32(e+4),s=ur[o];if(s*a<=4?e+=8:e=i.getUint32(e+8),(o<1||o>13)&&ft("Invalid TIFF value type. block: ".concat(r.toUpperCase(),", tag: ").concat(t.toString(16),", type: ").concat(o,", offset ").concat(e)),e>i.byteLength&&ft("Invalid TIFF value offset. block: ".concat(r.toUpperCase(),", tag: ").concat(t.toString(16),", type: ").concat(o,", offset ").concat(e," is outside of chunk size ").concat(i.byteLength)),1===o)return i.getUint8Array(e,a);if(2===o)return""===(n=function(e){for(;e.endsWith("\0");)e=e.slice(0,-1);return e}(n=i.getString(e,a)).trim())?void 0:n;if(7===o)return i.getUint8Array(e,a);if(1===a)return this.parseTagValue(o,e);for(var l=new(function(e){switch(e){case 1:return Uint8Array;case 3:return Uint16Array;case 4:return Uint32Array;case 5:case 10:default:return Array;case 6:return Int8Array;case 8:return Int16Array;case 9:return Int32Array;case 11:return Float32Array;case 12:return Float64Array}}(o))(a),u=s,c=0;c<a;c++)l[c]=this.parseTagValue(o,e),e+=u;return l}parseTagValue(e,t){var{chunk:r}=this;switch(e){case 1:return r.getUint8(t);case 3:return r.getUint16(t);case 4:case 13:return r.getUint32(t);case 5:return r.getUint32(t)/r.getUint32(t+4);case 6:return r.getInt8(t);case 8:return r.getInt16(t);case 9:return r.getInt32(t);case 10:return r.getInt32(t)/r.getInt32(t+4);case 11:return r.getFloat(t);case 12:return r.getDouble(t);default:ft("Invalid tiff type ".concat(e))}}}class pr extends cr{static canHandle(e,t){return 225===e.getUint8(t+1)&&1165519206===e.getUint32(t+4)&&0===e.getUint16(t+8)}parse(){var e=this;return(0,y.A)(function*(){e.parseHeader();var{options:t}=e;return t.ifd0.enabled&&(yield e.parseIfd0Block()),t.exif.enabled&&(yield e.safeParse("parseExifBlock")),t.gps.enabled&&(yield e.safeParse("parseGpsBlock")),t.interop.enabled&&(yield e.safeParse("parseInteropBlock")),t.ifd1.enabled&&(yield e.safeParse("parseThumbnailBlock")),e.createOutput()})()}safeParse(e){var t=this[e]();return void 0!==t.catch&&(t=t.catch(this.handleError)),t}findIfd0Offset(){void 0===this.ifd0Offset&&(this.ifd0Offset=this.chunk.getUint32(4))}findIfd1Offset(){if(void 0===this.ifd1Offset){this.findIfd0Offset();var e=this.chunk.getUint16(this.ifd0Offset),t=this.ifd0Offset+2+12*e;this.ifd1Offset=this.chunk.getUint32(t)}}parseBlock(e,t){var r=new Map;return this[t]=r,this.parseTags(e,t,r),r}parseIfd0Block(){var e=this;return(0,y.A)(function*(){if(!e.ifd0){var{file:t}=e;e.findIfd0Offset(),e.ifd0Offset<8&&ft("Malformed EXIF data"),!t.chunked&&e.ifd0Offset>t.byteLength&&ft("IFD0 offset points to outside of file.\nthis.ifd0Offset: ".concat(e.ifd0Offset,", file.byteLength: ").concat(t.byteLength)),t.tiff&&(yield t.ensureChunk(e.ifd0Offset,vt(e.options)));var r=e.parseBlock(e.ifd0Offset,"ifd0");return 0!==r.size?(e.exifOffset=r.get(34665),e.interopOffset=r.get(40965),e.gpsOffset=r.get(34853),e.xmp=r.get(700),e.iptc=r.get(33723),e.icc=r.get(34675),e.options.sanitize&&(r.delete(34665),r.delete(40965),r.delete(34853),r.delete(700),r.delete(33723),r.delete(34675)),r):void 0}})()}parseExifBlock(){var e=this;return(0,y.A)(function*(){if(!e.exif&&(e.ifd0||(yield e.parseIfd0Block()),void 0!==e.exifOffset)){e.file.tiff&&(yield e.file.ensureChunk(e.exifOffset,vt(e.options)));var t=e.parseBlock(e.exifOffset,"exif");return e.interopOffset||(e.interopOffset=t.get(40965)),e.makerNote=t.get(37500),e.userComment=t.get(37510),e.options.sanitize&&(t.delete(40965),t.delete(37500),t.delete(37510)),e.unpack(t,41728),e.unpack(t,41729),t}})()}unpack(e,t){var r=e.get(t);r&&1===r.length&&e.set(t,r[0])}parseGpsBlock(){var e=this;return(0,y.A)(function*(){if(!e.gps&&(e.ifd0||(yield e.parseIfd0Block()),void 0!==e.gpsOffset)){var t=e.parseBlock(e.gpsOffset,"gps");return t&&t.has(2)&&t.has(4)&&(t.set("latitude",hr(...t.get(2),t.get(1))),t.set("longitude",hr(...t.get(4),t.get(3)))),t}})()}parseInteropBlock(){var e=this;return(0,y.A)(function*(){if(!e.interop&&(e.ifd0||(yield e.parseIfd0Block()),void 0!==e.interopOffset||e.exif||(yield e.parseExifBlock()),void 0!==e.interopOffset))return e.parseBlock(e.interopOffset,"interop")})()}parseThumbnailBlock(){var e=arguments,t=this;return(0,y.A)(function*(){var r=e.length>0&&void 0!==e[0]&&e[0];if(!t.ifd1&&!t.ifd1Parsed&&(!t.options.mergeOutput||r))return t.findIfd1Offset(),t.ifd1Offset>0&&(t.parseBlock(t.ifd1Offset,"ifd1"),t.ifd1Parsed=!0),t.ifd1})()}extractThumbnail(){var e=this;return(0,y.A)(function*(){if(e.headerParsed||e.parseHeader(),e.ifd1Parsed||(yield e.parseThumbnailBlock(!0)),void 0!==e.ifd1){var t=e.ifd1.get(513),r=e.ifd1.get(514);return e.chunk.getUint8Array(t,r)}})()}get image(){return this.ifd0}get thumbnail(){return this.ifd1}createOutput(){var e,t,r,n={};for(t of zt)if(!dt(e=this[t]))if(r=this.canTranslate?this.translateBlock(e,t):Object.fromEntries(e),this.options.mergeOutput){if("ifd1"===t)continue;Object.assign(n,r)}else n[t]=r;return this.makerNote&&(n.makerNote=this.makerNote),this.userComment&&(n.userComment=this.userComment),n}assignToOutput(e,t){if(this.globalOptions.mergeOutput)Object.assign(e,t);else for(var[r,n]of Object.entries(t))this.assignObjectToOutput(e,r,n)}}function hr(e,t,r,n){var i=e+t/60+r/3600;return"S"!==n&&"W"!==n||(i*=-1),i}ot(pr,"type","tiff"),ot(pr,"headerLength",10),Pt.set("tiff",pr);Object.freeze({__proto__:null,default:nr,Exifr:er,fileParsers:wt,segmentParsers:Pt,fileReaders:St,tagKeys:Rt,tagValues:Nt,tagRevivers:jt,createDictionary:Dt,extendDictionary:It,fetchUrlAsArrayBuffer:xt,readBlobAsArrayBuffer:Tt,chunkedProps:Bt,otherSegments:Lt,segments:Mt,tiffBlocks:zt,segmentsAndBlocks:qt,tiffExtractables:Ht,inheritables:Wt,allFormatters:Vt,Options:Yt,parse:tr});var dr={ifd0:!1,ifd1:!1,exif:!1,gps:!1,interop:!1,sanitize:!1,reviveValues:!0,translateKeys:!1,translateValues:!1,mergeOutput:!1};Object.assign({},dr,{firstChunkSize:4e4,gps:[1,2,3,4]});Object.assign({},dr,{tiff:!1,ifd1:!0,mergeOutput:!1});var fr=Object.assign({},dr,{firstChunkSize:4e4,ifd0:[274]});function vr(){return vr=(0,y.A)(function*(e){var t=new er(fr);yield t.read(e);var r=yield t.parse();if(r&&r.ifd0)return r.ifd0[274]}),vr.apply(this,arguments)}var gr=Object.freeze({1:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:0,rad:0},2:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:0,rad:0},3:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:180,rad:180*Math.PI/180},4:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:180,rad:180*Math.PI/180},5:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:90,rad:90*Math.PI/180},6:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:90,rad:90*Math.PI/180},7:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:270,rad:270*Math.PI/180},8:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:270,rad:270*Math.PI/180}}),mr=!0,yr=!0;if("object"==typeof navigator){var br=navigator.userAgent;if(br.includes("iPad")||br.includes("iPhone")){var _r=br.match(/OS (\d+)_(\d+)/);if(_r){var[,wr,Pr]=_r,Sr=Number(wr)+.1*Number(Pr);mr=Sr<13.4,yr=!1}}else if(br.includes("OS X 10")){var[,Ar]=br.match(/OS X 10[_.](\d+)/);mr=yr=Number(Ar)<15}if(br.includes("Chrome/")){var[,Fr]=br.match(/Chrome\/(\d+)/);mr=yr=Number(Fr)<81}else if(br.includes("Firefox/")){var[,Cr]=br.match(/Firefox\/(\d+)/);mr=yr=Number(Cr)<77}}function Or(){return Or=(0,y.A)(function*(e){var t=yield function(e){return vr.apply(this,arguments)}(e);return Object.assign({canvas:mr,css:yr},gr[t])}),Or.apply(this,arguments)}class kr extends yt{constructor(){super(...arguments),ot(this,"ranges",new Er),0!==this.byteLength&&this.ranges.add(0,this.byteLength)}_tryExtend(e,t,r){if(0===e&&0===this.byteLength&&r){var n=new DataView(r.buffer||r,r.byteOffset,r.byteLength);this._swapDataView(n)}else{var i=e+t;if(i>this.byteLength){var{dataView:o}=this._extend(i);this._swapDataView(o)}}}_extend(e){var t;t=pt?ct.allocUnsafe(e):new Uint8Array(e);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return t.set(new Uint8Array(this.buffer,this.byteOffset,this.byteLength),0),{uintView:t,dataView:r}}subarray(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t=t||this._lengthToEnd(e),r&&this._tryExtend(e,t),this.ranges.add(e,t),super.subarray(e,t)}set(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&this._tryExtend(t,e.byteLength,e);var r=super.set(e,t);return this.ranges.add(t,r.byteLength),r}ensureChunk(e,t){var r=this;return(0,y.A)(function*(){r.chunked&&(r.ranges.available(e,t)||(yield r.readChunk(e,t)))})()}available(e,t){return this.ranges.available(e,t)}}class Er{constructor(){ot(this,"list",[])}get length(){return this.list.length}add(e,t){var r=e+t,n=this.list.filter(t=>xr(e,t.offset,r)||xr(e,t.end,r));if(n.length>0){e=Math.min(e,...n.map(e=>e.offset)),r=Math.max(r,...n.map(e=>e.end)),t=r-e;var i=n.shift();i.offset=e,i.length=t,i.end=r,this.list=this.list.filter(e=>!n.includes(e))}else this.list.push({offset:e,length:t,end:r})}available(e,t){var r=e+t;return this.list.some(t=>t.offset<=e&&r<=t.end)}}function xr(e,t,r){return e<=t&&t<=r}class Tr extends kr{constructor(e,t){super(0),ot(this,"chunksRead",0),this.input=e,this.options=t}readWhole(){var e=this;return(0,y.A)(function*(){e.chunked=!1,yield e.readChunk(e.nextChunkOffset)})()}readChunked(){var e=this;return(0,y.A)(function*(){e.chunked=!0,yield e.readChunk(0,e.options.firstChunkSize)})()}readNextChunk(){var e=arguments,t=this;return(0,y.A)(function*(){var r=e.length>0&&void 0!==e[0]?e[0]:t.nextChunkOffset;if(t.fullyRead)return t.chunksRead++,!1;var n=t.options.chunkSize,i=yield t.readChunk(r,n);return!!i&&i.byteLength===n})()}readChunk(e,t){var r=this;return(0,y.A)(function*(){if(r.chunksRead++,0!==(t=r.safeWrapAddress(e,t)))return r._readChunk(e,t)})()}safeWrapAddress(e,t){return void 0!==this.size&&e+t>this.size?Math.max(0,this.size-e):t}get nextChunkOffset(){if(0!==this.ranges.list.length)return this.ranges.list[0].length}get canReadNextChunk(){return this.chunksRead<this.options.chunkLimit}get fullyRead(){return void 0!==this.size&&this.nextChunkOffset===this.size}read(){return this.options.chunked?this.readChunked():this.readWhole()}close(){}}St.set("blob",class extends Tr{readWhole(){var e=this;return(0,y.A)(function*(){e.chunked=!1;var t=yield Tt(e.input);e._swapArrayBuffer(t)})()}readChunked(){return this.chunked=!0,this.size=this.input.size,super.readChunked()}_readChunk(e,t){var r=this;return(0,y.A)(function*(){var n=t?e+t:void 0,i=r.input.slice(e,n),o=yield Tt(i);return r.set(o,e,!0)})()}});const Ur={strings:{generatingThumbnails:"Generating thumbnails..."}};var Dr={thumbnailWidth:null,thumbnailHeight:null,thumbnailType:"image/jpeg",waitForThumbnailsBeforeUpload:!1,lazy:!1};class Ir extends oe{constructor(e,t){if(super(e,(0,f.A)((0,f.A)({},Dr),t)),this.onFileAdded=e=>{!e.preview&&e.data&&it(e.type)&&!e.isRemote&&this.addToQueue(e.id)},this.onCancelRequest=e=>{var t=this.queue.indexOf(e.id);-1!==t&&this.queue.splice(t,1)},this.onFileRemoved=e=>{var t=this.queue.indexOf(e.id);-1!==t&&this.queue.splice(t,1),e.preview&&nt(e.preview)&&URL.revokeObjectURL(e.preview)},this.onRestored=()=>{this.uppy.getFiles().filter(e=>e.isRestored).forEach(e=>{e.preview&&!nt(e.preview)||this.addToQueue(e.id)})},this.onAllFilesRemoved=()=>{this.queue=[]},this.waitUntilAllProcessed=e=>{e.forEach(e=>{var t=this.uppy.getFile(e);this.uppy.emit("preprocess-progress",t,{mode:"indeterminate",message:this.i18n("generatingThumbnails")})});var t=()=>{e.forEach(e=>{var t=this.uppy.getFile(e);this.uppy.emit("preprocess-complete",t)})};return new Promise(e=>{this.queueProcessing?this.uppy.once("thumbnail:all-generated",()=>{t(),e()}):(t(),e())})},this.type="modifier",this.id=this.opts.id||"ThumbnailGenerator",this.title="Thumbnail Generator",this.queue=[],this.queueProcessing=!1,this.defaultThumbnailDimension=200,this.thumbnailType=this.opts.thumbnailType,this.defaultLocale=Ur,this.i18nInit(),this.opts.lazy&&this.opts.waitForThumbnailsBeforeUpload)throw new Error("ThumbnailGenerator: The `lazy` and `waitForThumbnailsBeforeUpload` options are mutually exclusive. Please ensure at most one of them is set to `true`.")}createThumbnail(e,t,r){var n=URL.createObjectURL(e.data),i=new Promise((e,t)=>{var r=new Image;r.src=n,r.addEventListener("load",()=>{URL.revokeObjectURL(n),e(r)}),r.addEventListener("error",e=>{URL.revokeObjectURL(n),t(e.error||new Error("Could not create thumbnail"))})}),o=function(e){return Or.apply(this,arguments)}(e.data).catch(()=>1);return Promise.all([i,o]).then(e=>{var[n,i]=e,o=this.getProportionalDimensions(n,t,r,i.deg),a=function(e,t){var r=e.width,n=e.height;90!==t.deg&&270!==t.deg||(r=e.height,n=e.width);var i=document.createElement("canvas");i.width=r,i.height=n;var o=i.getContext("2d");return o.translate(r/2,n/2),t.canvas&&(o.rotate(t.rad),o.scale(t.scaleX,t.scaleY)),o.drawImage(e,-e.width/2,-e.height/2,e.width,e.height),i}(n,i);return function(e,t,r){try{e.getContext("2d").getImageData(0,0,1,1)}catch(n){if(18===n.code)return Promise.reject(new Error("cannot read image, probably an svg with external resources"))}return e.toBlob?new Promise(n=>{e.toBlob(n,t,r)}).then(e=>{if(null===e)throw new Error("cannot read image, probably an svg with external resources");return e}):Promise.resolve().then(()=>rt(e.toDataURL(t,r),{})).then(e=>{if(null===e)throw new Error("could not extract blob, probably an old browser");return e})}(this.resizeImage(a,o.width,o.height),this.thumbnailType,80)}).then(e=>URL.createObjectURL(e))}getProportionalDimensions(e,t,r,n){var i=e.width/e.height;return 90!==n&&270!==n||(i=e.height/e.width),null!=t?{width:t,height:Math.round(t/i)}:null!=r?{width:Math.round(r*i),height:r}:{width:this.defaultThumbnailDimension,height:Math.round(this.defaultThumbnailDimension/i)}}resizeImage(e,t,r){var n=function(e){var t=e.width/e.height,r=5e6,n=4096,i=Math.floor(Math.sqrt(r*t)),o=Math.floor(r/Math.sqrt(r*t));if(i>n&&(i=n,o=Math.round(i/t)),o>n&&(o=n,i=Math.round(t*o)),e.width>i){var a=document.createElement("canvas");return a.width=i,a.height=o,a.getContext("2d").drawImage(e,0,0,i,o),a}return e}(e),i=Math.ceil(Math.log2(n.width/t));i<1&&(i=1);for(var o=t*Math.pow(2,i-1),a=r*Math.pow(2,i-1);i--;){var s=document.createElement("canvas");s.width=o,s.height=a,s.getContext("2d").drawImage(n,0,0,o,a),n=s,o=Math.round(o/2),a=Math.round(a/2)}return n}setPreviewURL(e,t){this.uppy.setFileState(e,{preview:t})}addToQueue(e){this.queue.push(e),!1===this.queueProcessing&&this.processQueue()}processQueue(){if(this.queueProcessing=!0,this.queue.length>0){var e=this.uppy.getFile(this.queue.shift());return e?this.requestThumbnail(e).catch(()=>{}).then(()=>this.processQueue()):(this.uppy.log("[ThumbnailGenerator] file was removed before a thumbnail could be generated, but not removed from the queue. This is probably a bug","error"),Promise.resolve())}return this.queueProcessing=!1,this.uppy.log("[ThumbnailGenerator] Emptied thumbnail queue"),this.uppy.emit("thumbnail:all-generated"),Promise.resolve()}requestThumbnail(e){return it(e.type)&&!e.isRemote?this.createThumbnail(e,this.opts.thumbnailWidth,this.opts.thumbnailHeight).then(t=>{this.setPreviewURL(e.id,t),this.uppy.log("[ThumbnailGenerator] Generated thumbnail for ".concat(e.id)),this.uppy.emit("thumbnail:generated",this.uppy.getFile(e.id),t)}).catch(t=>{this.uppy.log("[ThumbnailGenerator] Failed thumbnail for ".concat(e.id,":"),"warning"),this.uppy.log(t,"warning"),this.uppy.emit("thumbnail:error",this.uppy.getFile(e.id),t)}):Promise.resolve()}install(){this.uppy.on("file-removed",this.onFileRemoved),this.uppy.on("cancel-all",this.onAllFilesRemoved),this.opts.lazy?(this.uppy.on("thumbnail:request",this.onFileAdded),this.uppy.on("thumbnail:cancel",this.onCancelRequest)):(this.uppy.on("thumbnail:request",this.onFileAdded),this.uppy.on("file-added",this.onFileAdded),this.uppy.on("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.addPreProcessor(this.waitUntilAllProcessed)}uninstall(){this.uppy.off("file-removed",this.onFileRemoved),this.uppy.off("cancel-all",this.onAllFilesRemoved),this.opts.lazy?(this.uppy.off("thumbnail:request",this.onFileAdded),this.uppy.off("thumbnail:cancel",this.onCancelRequest)):(this.uppy.off("thumbnail:request",this.onFileAdded),this.uppy.off("file-added",this.onFileAdded),this.uppy.off("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.removePreProcessor(this.waitUntilAllProcessed)}}Ir.VERSION="3.1.0";const Rr=function(e){if("string"===typeof e){var t=document.querySelectorAll(e);return 0===t.length?null:Array.from(t)}return"object"===typeof e&&Y(e)?[e]:null},Nr=Array.from;function jr(e){var t,r,n,i=2;for("undefined"!=typeof Symbol&&(r=Symbol.asyncIterator,n=Symbol.iterator);i--;){if(r&&null!=(t=e[r]))return t.call(e);if(n&&null!=(t=e[n]))return new Br(t.call(e));r="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}function Br(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return Br=function(e){this.s=e,this.n=e.next},Br.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var r=this.s.return;return void 0===r?Promise.resolve({value:e,done:!0}):t(r.apply(this.s,arguments))},throw:function(e){var r=this.s.return;return void 0===r?Promise.reject(e):t(r.apply(this.s,arguments))}},new Br(e)}function Lr(e,t){this.v=e,this.k=t}function Mr(e){return function(){return new zr(e.apply(this,arguments))}}function zr(e){var t,r;function n(t,r){try{var o=e[t](r),a=o.value,s=a instanceof Lr;Promise.resolve(s?a.v:a).then(function(r){if(s){var l="return"===t?"return":"next";if(!a.k||r.done)return n(l,r);r=e[l](r).value}i(o.done?"return":"normal",r)},function(e){n("throw",e)})}catch(e){i("throw",e)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?n(t.key,t.arg):r=null}this._invoke=function(e,i){return new Promise(function(o,a){var s={key:e,arg:i,resolve:o,reject:a,next:null};r?r=r.next=s:(t=r=s,n(e,i))})},"function"!=typeof e.return&&(this.return=void 0)}function qr(e){return new Lr(e,0)}function Hr(e){var t={},r=!1;function n(t,n){return r=!0,n=new Promise(function(r){r(e[t](n))}),{done:!1,value:new Lr(n,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return r?(r=!1,e):n("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(r)throw r=!1,e;return n("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return r?(r=!1,e):n("return",e)}),t}function Wr(e,t,r,n){var{onSuccess:i}=n;e.readEntries(n=>{var o=[...t,...n];n.length?queueMicrotask(()=>{Wr(e,o,r,{onSuccess:i})}):i(o)},e=>{r(e),i(t)})}function Vr(e,t){return null==e?e:{kind:e.isFile?"file":e.isDirectory?"directory":void 0,name:e.name,getFile:()=>new Promise((t,r)=>e.file(t,r)),values:()=>Mr(function*(){var r=e.createReader(),n=yield qr(new Promise(e=>{Wr(r,[],t,{onSuccess:r=>e(r.map(e=>Vr(e,t)))})}));yield*Hr(jr(n))})(),isSameEntry:void 0}}function Gr(e,t,r){try{return void 0===r&&(r=void 0),Mr(function*(){var n=()=>"".concat(t,"/").concat(e.name);if("file"===e.kind){var i=yield qr(e.getFile());null!=i?(i.relativePath=t?n():null,yield i):null!=r&&(yield r)}else if("directory"===e.kind){var o,a=!1,s=!1;try{for(var l,u=jr(e.values());a=!(l=yield qr(u.next())).done;a=!1){var c=l.value;yield*Hr(jr(Gr(c,t?n():e.name)))}}catch(p){s=!0,o=p}finally{try{a&&null!=u.return&&(yield qr(u.return()))}finally{if(s)throw o}}}else null!=r&&(yield r)})()}catch(u){return Promise.reject(u)}}function Kr(){return Kr=Mr(function*(e,t){var r=yield qr(Promise.all(Array.from(e.items,function(){var e=(0,y.A)(function*(e){var r;return null!=r||(r=Vr("function"===typeof e.getAsEntry?e.getAsEntry():e.webkitGetAsEntry(),t)),{fileSystemHandle:r,lastResortFile:e.getAsFile()}});return function(t){return e.apply(this,arguments)}}())));for(var{lastResortFile:n,fileSystemHandle:i}of r)if(null!=i)try{yield*Hr(jr(Gr(i,"",n)))}catch(o){null!=n?yield n:t(o)}else null!=n&&(yield n)}),Kr.apply(this,arguments)}function Xr(e,t){return $r.apply(this,arguments)}function $r(){return $r=(0,y.A)(function*(e,t){var r,n=null!=(r=null==t?void 0:t.logDropError)?r:Function.prototype;try{var i,o=[],a=!1,s=!1;try{for(var l,u=jr(function(e,t){return Kr.apply(this,arguments)}(e,n));a=!(l=yield u.next()).done;a=!1){var c=l.value;o.push(c)}}catch(p){s=!0,i=p}finally{try{a&&null!=u.return&&(yield u.return())}finally{if(s)throw i}}return o}catch(h){return function(e){var t=Nr(e.files);return Promise.resolve(t)}(e)}}),$r.apply(this,arguments)}zr.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},zr.prototype.next=function(e){return this._invoke("next",e)},zr.prototype.throw=function(e){return this._invoke("throw",e)},zr.prototype.return=function(e){return this._invoke("return",e)};var Yr=r(72642);class Qr extends Error{constructor(e){super(e),this.name="TimeoutError"}}class Zr extends Error{constructor(e){super(),this.name="AbortError",this.message=e}}var Jr=e=>void 0===globalThis.DOMException?new Zr(e):new DOMException(e),en=e=>{var t=void 0===e.reason?Jr("This operation was aborted."):e.reason;return t instanceof Error?t:Jr(t)};var tn,rn=function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};tn=new WeakMap;const nn=class{constructor(){tn.set(this,[])}enqueue(e,t){var r={priority:(t=(0,f.A)({priority:0},t)).priority,run:e};if(this.size&&rn(this,tn,"f")[this.size-1].priority>=t.priority)rn(this,tn,"f").push(r);else{var n=function(e,t,r){for(var n=0,i=e.length;i>0;){var o=Math.trunc(i/2),a=n+o;r(e[a],t)<=0?(n=++a,i-=o+1):i=o}return n}(rn(this,tn,"f"),r,(e,t)=>t.priority-e.priority);rn(this,tn,"f").splice(n,0,r)}}dequeue(){var e=rn(this,tn,"f").shift();return null===e||void 0===e?void 0:e.run}filter(e){return rn(this,tn,"f").filter(t=>t.priority===e.priority).map(e=>e.run)}get size(){return rn(this,tn,"f").length}};var on,an,sn,ln,un,cn,pn,hn,dn,fn,vn,gn,mn,yn,bn,_n,wn,Pn,Sn,An,Fn,Cn,On,kn,En,xn,Tn=function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},Un=function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};class Dn extends Error{}an=new WeakMap,sn=new WeakMap,ln=new WeakMap,un=new WeakMap,cn=new WeakMap,pn=new WeakMap,hn=new WeakMap,dn=new WeakMap,fn=new WeakMap,vn=new WeakMap,gn=new WeakMap,mn=new WeakMap,yn=new WeakMap,bn=new WeakMap,on=new WeakSet,_n=function(){return Un(this,sn,"f")||Un(this,ln,"f")<Un(this,un,"f")},wn=function(){return Un(this,gn,"f")<Un(this,mn,"f")},Pn=function(){var e;Tn(this,gn,(e=Un(this,gn,"f"),--e),"f"),Un(this,on,"m",Fn).call(this),this.emit("next")},Sn=function(){Un(this,on,"m",On).call(this),Un(this,on,"m",Cn).call(this),Tn(this,dn,void 0,"f")},An=function(){var e=Date.now();if(void 0===Un(this,hn,"f")){var t=Un(this,pn,"f")-e;if(!(t<0))return void 0===Un(this,dn,"f")&&Tn(this,dn,setTimeout(()=>{Un(this,on,"m",Sn).call(this)},t),"f"),!0;Tn(this,ln,Un(this,an,"f")?Un(this,gn,"f"):0,"f")}return!1},Fn=function(){if(0===Un(this,fn,"f").size)return Un(this,hn,"f")&&clearInterval(Un(this,hn,"f")),Tn(this,hn,void 0,"f"),this.emit("empty"),0===Un(this,gn,"f")&&this.emit("idle"),!1;if(!Un(this,yn,"f")){var e=!Un(this,on,"a",An);if(Un(this,on,"a",_n)&&Un(this,on,"a",wn)){var t=Un(this,fn,"f").dequeue();return!!t&&(this.emit("active"),t(),e&&Un(this,on,"m",Cn).call(this),!0)}}return!1},Cn=function(){Un(this,sn,"f")||void 0!==Un(this,hn,"f")||(Tn(this,hn,setInterval(()=>{Un(this,on,"m",On).call(this)},Un(this,cn,"f")),"f"),Tn(this,pn,Date.now()+Un(this,cn,"f"),"f"))},On=function(){0===Un(this,ln,"f")&&0===Un(this,gn,"f")&&Un(this,hn,"f")&&(clearInterval(Un(this,hn,"f")),Tn(this,hn,void 0,"f")),Tn(this,ln,Un(this,an,"f")?Un(this,gn,"f"):0,"f"),Un(this,on,"m",kn).call(this)},kn=function(){for(;Un(this,on,"m",Fn).call(this););},En=function(){var e=(0,y.A)(function*(e){return new Promise((t,r)=>{e.addEventListener("abort",()=>{r(new Dn("The task was aborted."))},{once:!0})})});return function(t){return e.apply(this,arguments)}}(),xn=function(){var e=(0,y.A)(function*(e,t){return new Promise(r=>{var n=()=>{t&&!t()||(this.off(e,n),r())};this.on(e,n)})});return function(t,r){return e.apply(this,arguments)}}();const In=class extends Yr{constructor(e){var t,r,n,i;if(super(),on.add(this),an.set(this,void 0),sn.set(this,void 0),ln.set(this,0),un.set(this,void 0),cn.set(this,void 0),pn.set(this,0),hn.set(this,void 0),dn.set(this,void 0),fn.set(this,void 0),vn.set(this,void 0),gn.set(this,0),mn.set(this,void 0),yn.set(this,void 0),bn.set(this,void 0),Object.defineProperty(this,"timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!("number"===typeof(e=(0,f.A)({carryoverConcurrencyCount:!1,intervalCap:Number.POSITIVE_INFINITY,interval:0,concurrency:Number.POSITIVE_INFINITY,autoStart:!0,queueClass:nn},e)).intervalCap&&e.intervalCap>=1))throw new TypeError("Expected `intervalCap` to be a number from 1 and up, got `".concat(null!==(r=null===(t=e.intervalCap)||void 0===t?void 0:t.toString())&&void 0!==r?r:"","` (").concat(typeof e.intervalCap,")"));if(void 0===e.interval||!(Number.isFinite(e.interval)&&e.interval>=0))throw new TypeError("Expected `interval` to be a finite number >= 0, got `".concat(null!==(i=null===(n=e.interval)||void 0===n?void 0:n.toString())&&void 0!==i?i:"","` (").concat(typeof e.interval,")"));Tn(this,an,e.carryoverConcurrencyCount,"f"),Tn(this,sn,e.intervalCap===Number.POSITIVE_INFINITY||0===e.interval,"f"),Tn(this,un,e.intervalCap,"f"),Tn(this,cn,e.interval,"f"),Tn(this,fn,new e.queueClass,"f"),Tn(this,vn,e.queueClass,"f"),this.concurrency=e.concurrency,this.timeout=e.timeout,Tn(this,bn,!0===e.throwOnTimeout,"f"),Tn(this,yn,!1===e.autoStart,"f")}get concurrency(){return Un(this,mn,"f")}set concurrency(e){if(!("number"===typeof e&&e>=1))throw new TypeError("Expected `concurrency` to be a number from 1 and up, got `".concat(e,"` (").concat(typeof e,")"));Tn(this,mn,e,"f"),Un(this,on,"m",kn).call(this)}add(e){var t=arguments,r=this;return(0,y.A)(function*(){var n=t.length>1&&void 0!==t[1]?t[1]:{};return n=(0,f.A)({timeout:r.timeout,throwOnTimeout:Un(r,bn,"f")},n),new Promise((t,i)=>{Un(r,fn,"f").enqueue((0,y.A)(function*(){var o,a,s;Tn(r,gn,(a=Un(r,gn,"f"),++a),"f"),Tn(r,ln,(s=Un(r,ln,"f"),++s),"f");try{if(null===(o=n.signal)||void 0===o?void 0:o.aborted)throw new Dn("The task was aborted.");var l=e({signal:n.signal});n.timeout&&(l=function(e,t,r,n){var i,o=new Promise((o,a)=>{if("number"!==typeof t||1!==Math.sign(t))throw new TypeError("Expected `milliseconds` to be a positive number, got `".concat(t,"`"));if(t!==Number.POSITIVE_INFINITY){if((n=(0,f.A)({customTimers:{setTimeout:setTimeout,clearTimeout:clearTimeout}},n)).signal){var{signal:s}=n;s.aborted&&a(en(s)),s.addEventListener("abort",()=>{a(en(s))})}i=n.customTimers.setTimeout.call(void 0,()=>{if("function"!==typeof r){var n="string"===typeof r?r:"Promise timed out after ".concat(t," milliseconds"),i=r instanceof Error?r:new Qr(n);"function"===typeof e.cancel&&e.cancel(),a(i)}else try{o(r())}catch(s){a(s)}},t),(0,y.A)(function*(){try{o(yield e)}catch(t){a(t)}finally{n.customTimers.clearTimeout.call(void 0,i)}})()}else o(e)});return o.clear=()=>{clearTimeout(i),i=void 0},o}(Promise.resolve(l),n.timeout)),n.signal&&(l=Promise.race([l,Un(r,on,"m",En).call(r,n.signal)]));var u=yield l;t(u),r.emit("completed",u)}catch(c){if(c instanceof Qr&&!n.throwOnTimeout)return void t();i(c),r.emit("error",c)}finally{Un(r,on,"m",Pn).call(r)}}),n),r.emit("add"),Un(r,on,"m",Fn).call(r)})})()}addAll(e,t){var r=this;return(0,y.A)(function*(){return Promise.all(e.map(function(){var e=(0,y.A)(function*(e){return r.add(e,t)});return function(t){return e.apply(this,arguments)}}()))})()}start(){return Un(this,yn,"f")?(Tn(this,yn,!1,"f"),Un(this,on,"m",kn).call(this),this):this}pause(){Tn(this,yn,!0,"f")}clear(){Tn(this,fn,new(Un(this,vn,"f")),"f")}onEmpty(){var e=this;return(0,y.A)(function*(){0!==Un(e,fn,"f").size&&(yield Un(e,on,"m",xn).call(e,"empty"))})()}onSizeLessThan(e){var t=this;return(0,y.A)(function*(){Un(t,fn,"f").size<e||(yield Un(t,on,"m",xn).call(t,"next",()=>Un(t,fn,"f").size<e))})()}onIdle(){var e=this;return(0,y.A)(function*(){0===Un(e,gn,"f")&&0===Un(e,fn,"f").size||(yield Un(e,on,"m",xn).call(e,"idle"))})()}get size(){return Un(this,fn,"f").size}sizeBy(e){return Un(this,fn,"f").filter(e).length}get pending(){return Un(this,gn,"f")}get isPaused(){return Un(this,yn,"f")}};var Rn,Nn,jn,Bn,Ln=r(64918),Mn=0,zn=[],qn=i,Hn=qn.__b,Wn=qn.__r,Vn=qn.diffed,Gn=qn.__c,Kn=qn.unmount,Xn=qn.__;function $n(e,t){qn.__h&&qn.__h(Nn,e,Mn||t),Mn=0;var r=Nn.__H||(Nn.__H={__:[],__h:[]});return e>=r.__.length&&r.__.push({}),r.__[e]}function Yn(e){return Mn=1,function(e,t,r){var n=$n(Rn++,2);if(n.t=e,!n.__c&&(n.__=[r?r(t):si(void 0,t),function(e){var t=n.__N?n.__N[0]:n.__[0],r=n.t(t,e);t!==r&&(n.__N=[r,n.__[1]],n.__c.setState({}))}],n.__c=Nn,!Nn.__f)){var i=function(e,t,r){if(!n.__c.__H)return!0;var i=n.__c.__H.__.filter(function(e){return!!e.__c});if(i.every(function(e){return!e.__N}))return!o||o.call(this,e,t,r);var a=n.__c.props!==e;return i.forEach(function(e){if(e.__N){var t=e.__[0];e.__=e.__N,e.__N=void 0,t!==e.__[0]&&(a=!0)}}),o&&o.call(this,e,t,r)||a};Nn.__f=!0;var o=Nn.shouldComponentUpdate,a=Nn.componentWillUpdate;Nn.componentWillUpdate=function(e,t,r){if(this.__e){var n=o;o=void 0,i(e,t,r),o=n}a&&a.call(this,e,t,r)},Nn.shouldComponentUpdate=i}return n.__N||n.__}(si,e)}function Qn(e,t){var r=$n(Rn++,3);!qn.__s&&ai(r.__H,t)&&(r.__=e,r.u=t,Nn.__H.__h.push(r))}function Zn(e){return Mn=5,Jn(function(){return{current:e}},[])}function Jn(e,t){var r=$n(Rn++,7);return ai(r.__H,t)&&(r.__=e(),r.__H=t,r.__h=e),r.__}function ei(e,t){return Mn=8,Jn(function(){return e},t)}function ti(){for(var e;e=zn.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(ii),e.__H.__h.forEach(oi),e.__H.__h=[]}catch(t){e.__H.__h=[],qn.__e(t,e.__v)}}qn.__b=function(e){Nn=null,Hn&&Hn(e)},qn.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),Xn&&Xn(e,t)},qn.__r=function(e){Wn&&Wn(e),Rn=0;var t=(Nn=e.__c).__H;t&&(jn===Nn?(t.__h=[],Nn.__h=[],t.__.forEach(function(e){e.__N&&(e.__=e.__N),e.u=e.__N=void 0})):(t.__h.forEach(ii),t.__h.forEach(oi),t.__h=[],Rn=0)),jn=Nn},qn.diffed=function(e){Vn&&Vn(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(1!==zn.push(t)&&Bn===qn.requestAnimationFrame||((Bn=qn.requestAnimationFrame)||ni)(ti)),t.__H.__.forEach(function(e){e.u&&(e.__H=e.u),e.u=void 0})),jn=Nn=null},qn.__c=function(e,t){t.some(function(e){try{e.__h.forEach(ii),e.__h=e.__h.filter(function(e){return!e.__||oi(e)})}catch(s){t.some(function(e){e.__h&&(e.__h=[])}),t=[],qn.__e(s,e.__v)}}),Gn&&Gn(e,t)},qn.unmount=function(e){Kn&&Kn(e);var t,r=e.__c;r&&r.__H&&(r.__H.__.forEach(function(e){try{ii(e)}catch(e){t=e}}),r.__H=void 0,t&&qn.__e(t,r.__v))};var ri="function"==typeof requestAnimationFrame;function ni(e){var t,r=function(){clearTimeout(n),ri&&cancelAnimationFrame(t),setTimeout(e)},n=setTimeout(r,35);ri&&(t=requestAnimationFrame(r))}function ii(e){var t=Nn,r=e.__c;"function"==typeof r&&(e.__c=void 0,r()),Nn=t}function oi(e){var t=Nn;e.__c=e.__(),Nn=t}function ai(e,t){return!e||e.length!==t.length||t.some(function(t,r){return t!==e[r]})}function si(e,t){return"function"==typeof t?t(e):t}function li(){return F("svg",{width:"26",height:"26",viewBox:"0 0 26 26",xmlns:"http://www.w3.org/2000/svg"},F("g",{fill:"none","fill-rule":"evenodd"},F("circle",{fill:"#FFF",cx:"13",cy:"13",r:"13"}),F("path",{d:"M21.64 13.205c0-.639-.057-1.252-.164-1.841H13v3.481h4.844a4.14 4.14 0 01-1.796 2.716v2.259h2.908c1.702-1.567 2.684-3.875 2.684-6.615z",fill:"#4285F4","fill-rule":"nonzero"}),F("path",{d:"M13 22c2.43 0 4.467-.806 5.956-2.18l-2.908-2.259c-.806.54-1.837.86-3.048.86-2.344 0-4.328-1.584-5.036-3.711H4.957v2.332A8.997 8.997 0 0013 22z",fill:"#34A853","fill-rule":"nonzero"}),F("path",{d:"M7.964 14.71A5.41 5.41 0 017.682 13c0-.593.102-1.17.282-1.71V8.958H4.957A8.996 8.996 0 004 13c0 1.452.348 2.827.957 4.042l3.007-2.332z",fill:"#FBBC05","fill-rule":"nonzero"}),F("path",{d:"M13 7.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C17.463 4.891 15.426 4 13 4a8.997 8.997 0 00-8.043 4.958l3.007 2.332C8.672 9.163 10.656 7.58 13 7.58z",fill:"#EA4335","fill-rule":"nonzero"}),F("path",{d:"M4 4h18v18H4z"})))}function ui(e){var{pluginName:t,i18n:r,onAuth:n}=e,i="Google Drive"===t,o=ei(e=>{e.preventDefault(),n()},[n]);return F("form",{onSubmit:o},i?F("button",{type:"submit",className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Provider-authBtn uppy-Provider-btn-google","data-uppy-super-focusable":!0},F(li,null),r("signInWithGoogle")):F("button",{type:"submit",className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Provider-authBtn","data-uppy-super-focusable":!0},r("authenticateWith",{pluginName:t})))}var ci=e=>{var{pluginName:t,i18n:r,onAuth:n}=e;return F(ui,{pluginName:t,i18n:r,onAuth:n})};function pi(e){var{loading:t,pluginName:r,pluginIcon:n,i18n:i,handleAuth:o,renderForm:a=ci}=e;return F("div",{className:"uppy-Provider-auth"},F("div",{className:"uppy-Provider-authIcon"},n()),F("div",{className:"uppy-Provider-authTitle"},i("authenticateWithTitle",{pluginName:r})),F("div",{className:"uppy-Provider-authForm"},a({pluginName:r,i18n:i,loading:t,onAuth:o})))}function hi(e){var{i18n:t,logout:r,username:n}=e;return F(O,null,F("span",{className:"uppy-ProviderBrowser-user",key:"username"},n),F("button",{type:"button",onClick:r,className:"uppy-u-reset uppy-c-btn uppy-ProviderBrowser-userLogout",key:"logout"},t("logOut")))}var di=e=>{var{getFolder:t,title:r,isLast:n}=e;return F(O,null,F("button",{type:"button",className:"uppy-u-reset uppy-c-btn",onClick:t},r),n?"":" / ")};function fi(e){var{getFolder:t,title:r,breadcrumbsIcon:n,breadcrumbs:i}=e;return F("div",{className:"uppy-Provider-breadcrumbs"},F("div",{className:"uppy-Provider-breadcrumbsIcon"},n),i.map((e,n)=>F(di,{key:e.id,getFolder:()=>t(e.requestPath,e.name),title:0===n?r:e.name,isLast:n+1===i.length})))}function vi(e){return F(O,null,e.showBreadcrumbs&&F(fi,{getFolder:e.getFolder,breadcrumbs:e.breadcrumbs,breadcrumbsIcon:e.pluginIcon&&e.pluginIcon(),title:e.title}),F(hi,{logout:e.logout,username:e.username,i18n:e.i18n}))}var gi=r(98943);function mi(e){return(0,f.A)((0,f.A)({},e),{},{type:e.mimeType,extension:e.name?(0,gi.A)(e.name).extension:null})}var yi=["data","rowHeight","renderRow","overscanCount"];function bi(){return bi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bi.apply(this,arguments)}var _i={position:"relative",width:"100%",minHeight:"100%"},wi={position:"absolute",top:0,left:0,width:"100%",overflow:"visible"};const Pi=class extends k{constructor(e){super(e),this.handleScroll=()=>{this.setState({offset:this.base.scrollTop})},this.handleResize=()=>{this.resize()},this.focusElement=null,this.state={offset:0,height:0}}componentDidMount(){this.resize(),window.addEventListener("resize",this.handleResize)}componentWillUpdate(){this.base.contains(document.activeElement)&&(this.focusElement=document.activeElement)}componentDidUpdate(){this.focusElement&&this.focusElement.parentNode&&document.activeElement!==this.focusElement&&this.focusElement.focus(),this.focusElement=null,this.resize()}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}resize(){var{height:e}=this.state;e!==this.base.offsetHeight&&this.setState({height:this.base.offsetHeight})}render(e){var{data:t,rowHeight:r,renderRow:n,overscanCount:i=10}=e,o=(0,v.A)(e,yi),{offset:a,height:s}=this.state,l=Math.floor(a/r),u=Math.floor(s/r);i&&(l=Math.max(0,l-l%i),u+=i);var c=l+u+4,p=t.slice(l,c),h=(0,f.A)((0,f.A)({},_i),{},{height:t.length*r}),d=(0,f.A)((0,f.A)({},wi),{},{top:l*r});return F("div",bi({onScroll:this.handleScroll},o),F("div",{role:"presentation",style:h},F("div",{role:"presentation",style:d},p.map(n))))}};function Si(e){var{search:t,searchOnInput:r,searchTerm:n,showButton:i,inputLabel:o,clearSearchLabel:a,buttonLabel:s,clearSearch:l,inputClassName:u,buttonCSSClassName:c}=e,[p,h]=Yn(null!=n?n:""),d=ei(e=>{e.preventDefault(),t(p)},[t,p]),f=ei(e=>{var n=e.target.value;h(n),r&&t(n)},[h,r,t]),[v]=Yn(()=>{var e=document.createElement("form");return e.setAttribute("tabindex","-1"),e.id=function(){for(var e="",t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;t--;)e+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64*Math.random()|0];return e}(),e});return Qn(()=>(document.body.appendChild(v),v.addEventListener("submit",d),()=>{v.removeEventListener("submit",d),document.body.removeChild(v)}),[v,d]),F(O,null,F("input",{className:"uppy-u-reset ".concat(u),type:"search","aria-label":o,placeholder:o,value:p,onInput:f,form:v.id,"data-uppy-super-focusable":!0}),!i&&F("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-ProviderBrowser-searchFilterIcon",width:"12",height:"12",viewBox:"0 0 12 12"},F("path",{d:"M8.638 7.99l3.172 3.172a.492.492 0 1 1-.697.697L7.91 8.656a4.977 4.977 0 0 1-2.983.983C2.206 9.639 0 7.481 0 4.819 0 2.158 2.206 0 4.927 0c2.721 0 4.927 2.158 4.927 4.82a4.74 4.74 0 0 1-1.216 3.17zm-3.71.685c2.176 0 3.94-1.726 3.94-3.856 0-2.129-1.764-3.855-3.94-3.855C2.75.964.984 2.69.984 4.819c0 2.13 1.765 3.856 3.942 3.856z"})),!i&&p&&F("button",{className:"uppy-u-reset uppy-ProviderBrowser-searchFilterReset",type:"button","aria-label":a,title:a,onClick:()=>{h(""),l&&l()}},F("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",viewBox:"0 0 19 19"},F("path",{d:"M17.318 17.232L9.94 9.854 9.586 9.5l-.354.354-7.378 7.378h.707l-.62-.62v.706L9.318 9.94l.354-.354-.354-.354L1.94 1.854v.707l.62-.62h-.706l7.378 7.378.354.354.354-.354 7.378-7.378h-.707l.622.62v-.706L9.854 9.232l-.354.354.354.354 7.378 7.378.708-.707-7.38-7.378v.708l7.38-7.38.353-.353-.353-.353-.622-.622-.353-.353-.354.352-7.378 7.38h.708L2.56 1.23 2.208.88l-.353.353-.622.62-.353.355.352.353 7.38 7.38v-.708l-7.38 7.38-.353.353.352.353.622.622.353.353.354-.353 7.38-7.38h-.708l7.38 7.38z"}))),i&&F("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary ".concat(c),type:"submit",form:v.id},s))}function Ai(e){var{cancel:t,done:r,i18n:n,selected:i}=e;return F("div",{className:"uppy-ProviderBrowser-footer"},F("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary",onClick:r,type:"button"},n("selectX",{smart_count:i})),F("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-link",onClick:t,type:"button"},n("cancel")))}function Fi(){return F("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:11,height:14.5,viewBox:"0 0 44 58"},F("path",{d:"M27.437.517a1 1 0 0 0-.094.03H4.25C2.037.548.217 2.368.217 4.58v48.405c0 2.212 1.82 4.03 4.03 4.03H39.03c2.21 0 4.03-1.818 4.03-4.03V15.61a1 1 0 0 0-.03-.28 1 1 0 0 0 0-.093 1 1 0 0 0-.03-.032 1 1 0 0 0 0-.03 1 1 0 0 0-.032-.063 1 1 0 0 0-.03-.063 1 1 0 0 0-.032 0 1 1 0 0 0-.03-.063 1 1 0 0 0-.032-.03 1 1 0 0 0-.03-.063 1 1 0 0 0-.063-.062l-14.593-14a1 1 0 0 0-.062-.062A1 1 0 0 0 28 .708a1 1 0 0 0-.374-.157 1 1 0 0 0-.156 0 1 1 0 0 0-.03-.03l-.003-.003zM4.25 2.547h22.218v9.97c0 2.21 1.82 4.03 4.03 4.03h10.564v36.438a2.02 2.02 0 0 1-2.032 2.032H4.25c-1.13 0-2.032-.9-2.032-2.032V4.58c0-1.13.902-2.032 2.03-2.032zm24.218 1.345l10.375 9.937.75.718H30.5c-1.13 0-2.032-.9-2.032-2.03V3.89z"}))}function Ci(){return F("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",style:{minWidth:16,marginRight:3},viewBox:"0 0 276.157 276.157"},F("path",{d:"M273.08 101.378c-3.3-4.65-8.86-7.32-15.254-7.32h-24.34V67.59c0-10.2-8.3-18.5-18.5-18.5h-85.322c-3.63 0-9.295-2.875-11.436-5.805l-6.386-8.735c-4.982-6.814-15.104-11.954-23.546-11.954H58.73c-9.292 0-18.638 6.608-21.737 15.372l-2.033 5.752c-.958 2.71-4.72 5.37-7.596 5.37H18.5C8.3 49.09 0 57.39 0 67.59v167.07c0 .886.16 1.73.443 2.52.152 3.306 1.18 6.424 3.053 9.064 3.3 4.652 8.86 7.32 15.255 7.32h188.487c11.395 0 23.27-8.425 27.035-19.18l40.677-116.188c2.11-6.035 1.43-12.164-1.87-16.816zM18.5 64.088h8.864c9.295 0 18.64-6.607 21.738-15.37l2.032-5.75c.96-2.712 4.722-5.373 7.597-5.373h29.565c3.63 0 9.295 2.876 11.437 5.806l6.386 8.735c4.982 6.815 15.104 11.954 23.546 11.954h85.322c1.898 0 3.5 1.602 3.5 3.5v26.47H69.34c-11.395 0-23.27 8.423-27.035 19.178L15 191.23V67.59c0-1.898 1.603-3.5 3.5-3.5zm242.29 49.15l-40.676 116.188c-1.674 4.78-7.812 9.135-12.877 9.135H18.75c-1.447 0-2.576-.372-3.02-.997-.442-.625-.422-1.814.057-3.18l40.677-116.19c1.674-4.78 7.812-9.134 12.877-9.134h188.487c1.448 0 2.577.372 3.02.997.443.625.423 1.814-.056 3.18z"}))}function Oi(){return F("svg",{"aria-hidden":"true",focusable:"false",style:{width:16,marginRight:4},viewBox:"0 0 58 58"},F("path",{d:"M36.537 28.156l-11-7a1.005 1.005 0 0 0-1.02-.033C24.2 21.3 24 21.635 24 22v14a1 1 0 0 0 1.537.844l11-7a1.002 1.002 0 0 0 0-1.688zM26 34.18V23.82L34.137 29 26 34.18z"}),F("path",{d:"M57 6H1a1 1 0 0 0-1 1v44a1 1 0 0 0 1 1h56a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1zM10 28H2v-9h8v9zm-8 2h8v9H2v-9zm10 10V8h34v42H12V40zm44-12h-8v-9h8v9zm-8 2h8v9h-8v-9zm8-22v9h-8V8h8zM2 8h8v9H2V8zm0 42v-9h8v9H2zm54 0h-8v-9h8v9z"}))}function ki(e){var{itemIconString:t}=e;if(null===t)return null;switch(t){case"file":return F(Fi,null);case"folder":return F(Ci,null);case"video":return F(Oi,null);default:var{alt:r}=e;return F("img",{src:t,alt:r,referrerPolicy:"no-referrer",loading:"lazy",width:16,height:16})}}const Ei=function(e){var{className:t,isDisabled:r,restrictionError:n,isChecked:i,title:o,itemIconEl:a,showTitles:s,toggleCheckbox:l,recordShiftKeyPress:u,id:c,children:p}=e,h=le("uppy-u-reset","uppy-ProviderBrowserItem-checkbox","uppy-ProviderBrowserItem-checkbox--grid",{"uppy-ProviderBrowserItem-checkbox--is-checked":i});return F("li",{className:t,title:r?null==n?void 0:n.message:void 0},F("input",{type:"checkbox",className:h,onChange:l,onKeyDown:u,onMouseDown:u,name:"listitem",id:c,checked:i,disabled:r,"data-uppy-super-focusable":!0}),F("label",{htmlFor:c,"aria-label":o,className:"uppy-u-reset uppy-ProviderBrowserItem-inner"},a,s&&o,p))};function xi(e){var{className:t,isDisabled:r,restrictionError:n,isCheckboxDisabled:i,isChecked:o,toggleCheckbox:a,recordShiftKeyPress:s,type:l,id:u,itemIconEl:c,title:p,handleFolderClick:h,showTitles:d,i18n:f}=e;return F("li",{className:t,title:r?null==n?void 0:n.message:void 0},i?null:F("input",{type:"checkbox",className:"uppy-u-reset uppy-ProviderBrowserItem-checkbox ".concat(o?"uppy-ProviderBrowserItem-checkbox--is-checked":""),onChange:a,onKeyDown:s,onMouseDown:s,name:"listitem",id:u,checked:o,"aria-label":"file"===l?null:f("allFilesFromFolderNamed",{name:p}),disabled:r,"data-uppy-super-focusable":!0}),"file"===l?F("label",{htmlFor:u,className:"uppy-u-reset uppy-ProviderBrowserItem-inner"},F("div",{className:"uppy-ProviderBrowserItem-iconWrap"},c),d&&p):F("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-ProviderBrowserItem-inner",onClick:h,"aria-label":f("openFolderNamed",{name:p})},F("div",{className:"uppy-ProviderBrowserItem-iconWrap"},c),d&&p?F("span",null,p):f("unnamed")))}function Ti(){return Ti=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ti.apply(this,arguments)}function Ui(e){var{author:t,getItemIcon:r,isChecked:n,isDisabled:i,viewType:o}=e,a=r(),s=le("uppy-ProviderBrowserItem",{"uppy-ProviderBrowserItem--selected":n},{"uppy-ProviderBrowserItem--disabled":i},{"uppy-ProviderBrowserItem--noPreview":"video"===a}),l=F(ki,{itemIconString:a});switch(o){case"grid":return F(Ei,Ti({},e,{className:s,itemIconEl:l}));case"list":return F(xi,Ti({},e,{className:s,itemIconEl:l}));case"unsplash":return F(Ei,Ti({},e,{className:s,itemIconEl:l}),F("a",{href:"".concat(t.url,"?utm_source=Companion&utm_medium=referral"),target:"_blank",rel:"noopener noreferrer",className:"uppy-ProviderBrowserItem-author",tabIndex:-1},t.name));default:throw new Error("There is no such type ".concat(o))}}function Di(e){var{currentSelection:t,uppyFiles:r,viewType:n,isChecked:i,toggleCheckbox:o,recordShiftKeyPress:a,showTitles:s,i18n:l,validateRestrictions:u,getNextFolder:c,f:p}=e;if(p.isFolder)return Ui({showTitles:s,viewType:n,i18n:l,id:p.id,title:p.name,getItemIcon:()=>p.icon,isChecked:i(p),toggleCheckbox:e=>o(e,p),recordShiftKeyPress:a,type:"folder",isDisabled:!1,isCheckboxDisabled:"shared-with-me"===p.id,handleFolderClick:()=>c(p)});var h=u(mi(p),[...r,...t]);return Ui({id:p.id,title:p.name,author:p.author,getItemIcon:()=>"grid"===n&&p.thumbnail?p.thumbnail:p.icon,isChecked:i(p),toggleCheckbox:e=>o(e,p),isCheckboxDisabled:!1,recordShiftKeyPress:a,showTitles:s,viewType:n,i18n:l,type:"file",isDisabled:Boolean(h)&&!i(p),restrictionError:h})}const Ii=function(e){var{currentSelection:t,folders:r,files:n,uppyFiles:i,viewType:o,headerComponent:a,showBreadcrumbs:s,isChecked:l,toggleCheckbox:u,recordShiftKeyPress:c,handleScroll:p,showTitles:h,i18n:d,validateRestrictions:f,isLoading:v,showSearchFilter:g,search:m,searchTerm:y,clearSearch:b,searchOnInput:_,searchInputLabel:w,clearSearchLabel:P,getNextFolder:S,cancel:A,done:C,noResultsLabel:O,virtualList:k}=e,E=t.length,x=Jn(()=>[...r,...n],[r,n]);return F("div",{className:le("uppy-ProviderBrowser","uppy-ProviderBrowser-viewType--".concat(o))},a&&F("div",{className:"uppy-ProviderBrowser-header"},F("div",{className:le("uppy-ProviderBrowser-headerBar",!s&&"uppy-ProviderBrowser-headerBar--simple")},a)),g&&F("div",{class:"uppy-ProviderBrowser-searchFilter"},F(Si,{search:m,searchTerm:y,clearSearch:b,inputLabel:w,clearSearchLabel:P,inputClassName:"uppy-ProviderBrowser-searchFilterInput",searchOnInput:_})),v?F("div",{className:"uppy-Provider-loading"},F("span",null,"string"===typeof v?v:d("loading"))):r.length||n.length?F("div",{className:"uppy-ProviderBrowser-body"},k?F("ul",{className:"uppy-ProviderBrowser-list"},F(Pi,{data:x,renderRow:e=>F(Di,{currentSelection:t,uppyFiles:i,viewType:o,isChecked:l,toggleCheckbox:u,recordShiftKeyPress:c,showTitles:h,i18n:d,validateRestrictions:f,getNextFolder:S,f:e}),rowHeight:31})):F("ul",{className:"uppy-ProviderBrowser-list",onScroll:p,role:"listbox",tabIndex:-1},x.map(e=>F(Di,{currentSelection:t,uppyFiles:i,viewType:o,isChecked:l,toggleCheckbox:u,recordShiftKeyPress:c,showTitles:h,i18n:d,validateRestrictions:f,getNextFolder:S,f:e})))):F("div",{className:"uppy-Provider-empty"},O),E>0&&F(Ai,{selected:E,done:C,cancel:A,i18n:d}))};class Ri extends k{componentWillUnmount(){var{onUnmount:e}=this.props;e()}render(){var{children:e}=this.props;return N(e)[0]}}class Ni{constructor(e,t){this.filterItems=e=>{var t=this.plugin.getPluginState();return t.filterInput&&""!==t.filterInput?e.filter(e=>-1!==e.name.toLowerCase().indexOf(t.filterInput.toLowerCase())):e},this.recordShiftKeyPress=e=>{this.isShiftKeyPressed=e.shiftKey},this.isChecked=e=>{var{currentSelection:t}=this.plugin.getPluginState();return t.some(t=>t.id===e.id)},this.plugin=e,this.provider=t.provider,this.opts=t,this.isHandlingScroll=!1,this.preFirstRender=this.preFirstRender.bind(this),this.handleError=this.handleError.bind(this),this.clearSelection=this.clearSelection.bind(this),this.cancelPicking=this.cancelPicking.bind(this)}preFirstRender(){this.plugin.setPluginState({didFirstRender:!0}),this.plugin.onFirstRender()}shouldHandleScroll(e){var{scrollHeight:t,scrollTop:r,offsetHeight:n}=e.target;return t-(r+n)<50&&!this.isHandlingScroll}clearSelection(){this.plugin.setPluginState({currentSelection:[],filterInput:""})}cancelPicking(){this.clearSelection();var e=this.plugin.uppy.getPlugin("Dashboard");e&&e.hideAllPanels()}handleError(e){var t,{uppy:r}=this.plugin,n=r.i18n("companionError");r.log(e.toString()),e.isAuthError||"AbortError"===(null==(t=e.cause)?void 0:t.name)||r.info({message:n,details:e.toString()},"error",5e3)}registerRequestClient(){this.requestClientId=this.provider.provider,this.plugin.uppy.registerRequestClient(this.requestClientId,this.provider)}getTagFile(e){var t={id:e.id,source:this.plugin.id,name:e.name||e.id,type:e.mimeType,isRemote:!0,data:e,meta:{},body:{fileId:e.id},remote:{companionUrl:this.plugin.opts.companionUrl,url:"".concat(this.provider.fileUrl(e.requestPath)),body:{fileId:e.id},providerName:this.provider.name,provider:this.provider.provider,requestClientId:this.requestClientId}};return e.thumbnail&&(t.preview=e.thumbnail),e.author&&(null!=e.author.name&&(t.meta.authorName=String(e.author.name)),e.author.url&&(t.meta.authorUrl=e.author.url)),null!=e.relDirPath&&(t.meta.relativePath=e.relDirPath?"".concat(e.relDirPath,"/").concat(t.name):null),null!=e.absDirPath&&(t.meta.absolutePath=e.absDirPath?"/".concat(e.absDirPath,"/").concat(t.name):"/".concat(t.name)),t}toggleCheckbox(e,t){e.stopPropagation(),e.preventDefault(),e.currentTarget.focus();var{folders:r,files:n}=this.plugin.getPluginState(),i=this.filterItems(r.concat(n));if(this.lastCheckbox&&this.isShiftKeyPressed){var{currentSelection:o}=this.plugin.getPluginState(),a=i.indexOf(this.lastCheckbox),s=i.indexOf(t),l=a<s?i.slice(a,s+1):i.slice(s,a+1),u=[];for(var c of l){var{uppy:p}=this.plugin,h=p.validateRestrictions(mi(c),[...p.getFiles(),...u]);h?p.info({message:h.message},"error",p.opts.infoTimeout):u.push(c)}this.plugin.setPluginState({currentSelection:[...new Set([...o,...u])]})}else{this.lastCheckbox=t;var{currentSelection:d}=this.plugin.getPluginState();this.isChecked(t)?this.plugin.setPluginState({currentSelection:d.filter(e=>e.id!==t.id)}):this.plugin.setPluginState({currentSelection:d.concat([t])})}}setLoading(e){this.plugin.setPluginState({loading:e})}}function ji(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var Bi=0;function Li(e){return"__private_"+Bi+++"_"+e}function Mi(e,t){return e?"".concat(e,"/").concat(t):t}function zi(){return F("svg",{"aria-hidden":"true",focusable:"false",width:"30",height:"30",viewBox:"0 0 30 30"},F("path",{d:"M15 30c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15C6.716 0 0 6.716 0 15c0 8.284 6.716 15 15 15zm4.258-12.676v6.846h-8.426v-6.846H5.204l9.82-12.364 9.82 12.364H19.26z"}))}var qi={viewType:"list",showTitles:!0,showFilter:!0,showBreadcrumbs:!0,loadAllFiles:!1,virtualList:!1},Hi=Li("abortController"),Wi=Li("withAbort"),Vi=Li("list"),Gi=Li("listFilesAndFolders"),Ki=Li("recursivelyListAllFiles");function Xi(e){return $i.apply(this,arguments)}function $i(){return($i=(0,y.A)(function*(e){var t;null==(t=ji(this,Hi)[Hi])||t.abort();var r=new AbortController;ji(this,Hi)[Hi]=r;var n=()=>{r.abort(),this.clearSelection()};try{this.plugin.uppy.on("dashboard:close-panel",n),this.plugin.uppy.on("cancel-all",n),yield e(r.signal)}finally{this.plugin.uppy.off("dashboard:close-panel",n),this.plugin.uppy.off("cancel-all",n),ji(this,Hi)[Hi]=void 0}})).apply(this,arguments)}function Yi(e){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,y.A)(function*(e){var{requestPath:t,absDirPath:r,signal:n}=e,{username:i,nextPagePath:o,items:a}=yield this.provider.list(t,{signal:n});return this.username=i||this.username,{items:a.map(e=>(0,f.A)((0,f.A)({},e),{},{absDirPath:r})),nextPagePath:o}})).apply(this,arguments)}function Zi(e){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,y.A)(function*(e){var{breadcrumbs:t,signal:r}=e,n=function(e){return e.slice(1).map(e=>e.name).join("/")}(t),{items:i,nextPagePath:o}=yield ji(this,Vi)[Vi]({requestPath:this.nextPagePath,absDirPath:n,signal:r});this.nextPagePath=o;var a=[],s=[];return i.forEach(e=>{e.isFolder?s.push(e):a.push(e)}),{files:a,folders:s}})).apply(this,arguments)}function eo(e){return to.apply(this,arguments)}function to(){return to=(0,y.A)(function*(e){for(var t=this,{requestPath:r,absDirPath:n,relDirPath:i,queue:o,onFiles:a,signal:s}=e,l=r;l;){var u=yield ji(this,Vi)[Vi]({requestPath:l,absDirPath:n,signal:s});l=u.nextPagePath;var c=u.items.filter(e=>!e.isFolder),p=u.items.filter(e=>e.isFolder);a(c);var h=p.map(function(){var e=(0,y.A)(function*(e){return o.add((0,y.A)(function*(){return ji(t,Ki)[Ki]({requestPath:e.requestPath,absDirPath:Mi(n,e.name),relDirPath:Mi(i,e.name),queue:o,onFiles:a,signal:s})}))});return function(t){return e.apply(this,arguments)}}());yield Promise.all(h)}}),to.apply(this,arguments)}function ro(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}(class extends Ni{constructor(e,t){super(e,(0,f.A)((0,f.A)({},qi),t)),Object.defineProperty(this,Ki,{value:eo}),Object.defineProperty(this,Gi,{value:Zi}),Object.defineProperty(this,Vi,{value:Yi}),Object.defineProperty(this,Wi,{value:Xi}),Object.defineProperty(this,Hi,{writable:!0,value:void 0}),this.filterQuery=this.filterQuery.bind(this),this.clearFilter=this.clearFilter.bind(this),this.getFolder=this.getFolder.bind(this),this.getNextFolder=this.getNextFolder.bind(this),this.logout=this.logout.bind(this),this.handleAuth=this.handleAuth.bind(this),this.handleScroll=this.handleScroll.bind(this),this.donePicking=this.donePicking.bind(this),this.render=this.render.bind(this),this.plugin.setPluginState({authenticated:void 0,files:[],folders:[],breadcrumbs:[],filterInput:"",isSearchVisible:!1,currentSelection:[]}),this.registerRequestClient()}tearDown(){}getFolder(e,t){var r=this;return(0,y.A)(function*(){r.setLoading(!0);try{yield ji(r,Wi)[Wi](function(){var n=(0,y.A)(function*(n){r.lastCheckbox=void 0;var{breadcrumbs:i}=r.plugin.getPluginState(),o=i.findIndex(t=>e===t.requestPath);i=-1!==o?i.slice(0,o+1):[...i,{requestPath:e,name:t}],r.nextPagePath=e;var a=[],s=[];do{var{files:l,folders:u}=yield ji(r,Gi)[Gi]({breadcrumbs:i,signal:n});a=a.concat(l),s=s.concat(u),r.setLoading(r.plugin.uppy.i18n("loadedXFiles",{numFiles:a.length+s.length}))}while(r.opts.loadAllFiles&&r.nextPagePath);r.plugin.setPluginState({folders:s,files:a,breadcrumbs:i,filterInput:""})});return function(e){return n.apply(this,arguments)}}())}catch(n){if("UserFacingApiError"===(null==n?void 0:n.name))return void r.plugin.uppy.info({message:r.plugin.uppy.i18n(n.message)},"warning",5e3);r.handleError(n)}finally{r.setLoading(!1)}})()}getNextFolder(e){this.getFolder(e.requestPath,e.name),this.lastCheckbox=void 0}logout(){var e=this;return(0,y.A)(function*(){try{yield ji(e,Wi)[Wi](function(){var t=(0,y.A)(function*(t){var r=yield e.provider.logout({signal:t});if(r.ok){if(!r.revoked){var n=e.plugin.uppy.i18n("companionUnauthorizeHint",{provider:e.plugin.title,url:r.manual_revoke_url});e.plugin.uppy.info(n,"info",7e3)}e.plugin.setPluginState({authenticated:!1,files:[],folders:[],breadcrumbs:[],filterInput:""})}});return function(e){return t.apply(this,arguments)}}())}catch(t){e.handleError(t)}})()}filterQuery(e){this.plugin.setPluginState({filterInput:e})}clearFilter(){this.plugin.setPluginState({filterInput:""})}handleAuth(e){var t=this;return(0,y.A)(function*(){try{yield ji(t,Wi)[Wi](function(){var r=(0,y.A)(function*(r){t.setLoading(!0),yield t.provider.login({authFormData:e,signal:r}),t.plugin.setPluginState({authenticated:!0}),t.preFirstRender()});return function(e){return r.apply(this,arguments)}}())}catch(r){if("UserFacingApiError"===r.name)return void t.plugin.uppy.info({message:t.plugin.uppy.i18n(r.message)},"warning",5e3);t.plugin.uppy.log("login failed: ".concat(r.message))}finally{t.setLoading(!1)}})()}handleScroll(e){var t=this;return(0,y.A)(function*(){if(t.shouldHandleScroll(e)&&t.nextPagePath){t.isHandlingScroll=!0;try{yield ji(t,Wi)[Wi](function(){var e=(0,y.A)(function*(e){var{files:r,folders:n,breadcrumbs:i}=t.plugin.getPluginState(),{files:o,folders:a}=yield ji(t,Gi)[Gi]({breadcrumbs:i,signal:e}),s=r.concat(o),l=n.concat(a);t.plugin.setPluginState({folders:l,files:s})});return function(t){return e.apply(this,arguments)}}())}catch(r){t.handleError(r)}finally{t.isHandlingScroll=!1}}})()}donePicking(){var e=this;return(0,y.A)(function*(){e.setLoading(!0);try{yield ji(e,Wi)[Wi](function(){var t=(0,y.A)(function*(t){var{currentSelection:r}=e.plugin.getPluginState(),n=[],i=[],o=function*(r){var{requestPath:o}=r,a=e=>(0,f.A)((0,f.A)({},e),{},{relDirPath:e.absDirPath.replace(r.absDirPath,"").replace(/^\//,"")});if(r.isFolder){var s,l=!0,u=0,c=new In({concurrency:6});yield ji(e,Ki)[Ki]({requestPath:o,absDirPath:Mi(r.absDirPath,r.name),relDirPath:r.name,queue:c,onFiles:t=>{for(var r of t){var n=e.getTagFile(r),o=(0,Ln.N)(n,e.plugin.uppy.getID());e.plugin.uppy.checkIfFileAlreadyExists(o)||(i.push(a(r)),u++,e.setLoading(e.plugin.uppy.i18n("addedNumFiles",{numFiles:u}))),l=!1}},signal:t}),yield c.onIdle(),s=l?e.plugin.uppy.i18n("emptyFolderAdded"):0===u?e.plugin.uppy.i18n("folderAlreadyAdded",{folder:r.name}):e.plugin.uppy.i18n("folderAdded",{smart_count:u,folder:r.name}),n.push(s)}else i.push(a(r))};for(var a of r)yield*o(a);e.plugin.uppy.log("Adding files from a remote provider"),e.plugin.uppy.addFiles(i.map(t=>e.getTagFile(t,e.requestClientId))),e.plugin.setPluginState({filterInput:""}),n.forEach(t=>e.plugin.uppy.info(t)),e.clearSelection()});return function(e){return t.apply(this,arguments)}}())}catch(t){e.handleError(t)}finally{e.setLoading(!1)}})()}render(e,t){var r=this;void 0===t&&(t={});var{authenticated:n,didFirstRender:i}=this.plugin.getPluginState(),{i18n:o}=this.plugin.uppy;i||this.preFirstRender();var a=(0,f.A)((0,f.A)({},this.opts),t),{files:s,folders:l,filterInput:u,loading:c,currentSelection:p}=this.plugin.getPluginState(),{isChecked:h,recordShiftKeyPress:d,filterItems:v}=this,g=""!==u,m=this.plugin.icon||zi,y={showBreadcrumbs:a.showBreadcrumbs,getFolder:this.getFolder,breadcrumbs:this.plugin.getPluginState().breadcrumbs,pluginIcon:m,title:this.plugin.title,logout:this.logout,username:this.username,i18n:o},b={isChecked:h,toggleCheckbox:this.toggleCheckbox.bind(this),recordShiftKeyPress:d,currentSelection:p,files:g?v(s):s,folders:g?v(l):l,getNextFolder:this.getNextFolder,getFolder:this.getFolder,loadAllFiles:this.opts.loadAllFiles,virtualList:this.opts.virtualList,showSearchFilter:a.showFilter,search:this.filterQuery,clearSearch:this.clearFilter,searchTerm:u,searchOnInput:!0,searchInputLabel:o("filter"),clearSearchLabel:o("resetFilter"),noResultsLabel:o("noFilesFound"),logout:this.logout,handleScroll:this.handleScroll,done:this.donePicking,cancel:this.cancelPicking,headerComponent:F(vi,y),title:this.plugin.title,viewType:a.viewType,showTitles:a.showTitles,showBreadcrumbs:a.showBreadcrumbs,pluginIcon:m,i18n:this.plugin.uppy.i18n,uppyFiles:this.plugin.uppy.getFiles(),validateRestrictions:function(){return r.plugin.uppy.validateRestrictions(...arguments)},isLoading:c};return F(Ri,{onUnmount:this.clearSelection},!1===n?F(pi,{pluginName:this.plugin.title,pluginIcon:m,handleAuth:this.handleAuth,i18n:this.plugin.uppy.i18nArray,renderForm:this.opts.renderAuthForm,loading:c}):F(Ii,b))}}).VERSION="3.13.0";var no=0;function io(e){return"__private_"+no+++"_"+e}var oo={isInputMode:!0,files:[],folders:[],breadcrumbs:[],filterInput:"",currentSelection:[],searchTerm:null},ao={viewType:"grid",showTitles:!0,showFilter:!0,showBreadcrumbs:!0},so=io("updateFilesAndInputMode");function lo(e,t){this.nextPageQuery=e.nextPageQuery,e.items.forEach(e=>{t.push(e)}),this.plugin.setPluginState({currentSelection:[],isInputMode:!1,files:t,searchTerm:e.searchedFor})}(class extends Ni{constructor(e,t){super(e,(0,f.A)((0,f.A)({},ao),t)),Object.defineProperty(this,so,{value:lo}),this.nextPageQuery=null,this.search=this.search.bind(this),this.clearSearch=this.clearSearch.bind(this),this.resetPluginState=this.resetPluginState.bind(this),this.handleScroll=this.handleScroll.bind(this),this.donePicking=this.donePicking.bind(this),this.render=this.render.bind(this),this.plugin.setPluginState(oo),this.registerRequestClient()}tearDown(){}resetPluginState(){this.plugin.setPluginState(oo)}search(e){var t=this;return(0,y.A)(function*(){var{searchTerm:r}=t.plugin.getPluginState();if(!e||e!==r){t.setLoading(!0);try{var n=yield t.provider.search(e);ro(t,so)[so](n,[])}catch(i){t.handleError(i)}finally{t.setLoading(!1)}}})()}clearSearch(){this.plugin.setPluginState({currentSelection:[],files:[],searchTerm:null})}handleScroll(e){var t=this;return(0,y.A)(function*(){var r=t.nextPageQuery||null;if(t.shouldHandleScroll(e)&&r){t.isHandlingScroll=!0;try{var{files:n,searchTerm:i}=t.plugin.getPluginState(),o=yield t.provider.search(i,r);ro(t,so)[so](o,n)}catch(a){t.handleError(a)}finally{t.isHandlingScroll=!1}}})()}donePicking(){var{currentSelection:e}=this.plugin.getPluginState();this.plugin.uppy.log("Adding remote search provider files"),this.plugin.uppy.addFiles(e.map(e=>this.getTagFile(e))),this.resetPluginState()}render(e,t){var r=this;void 0===t&&(t={});var{didFirstRender:n,isInputMode:i,searchTerm:o}=this.plugin.getPluginState(),{i18n:a}=this.plugin.uppy;n||this.preFirstRender();var s=(0,f.A)((0,f.A)({},this.opts),t),{files:l,folders:u,filterInput:c,loading:p,currentSelection:h}=this.plugin.getPluginState(),{isChecked:d,filterItems:v,recordShiftKeyPress:g}=this,m=""!==c,y={isChecked:d,toggleCheckbox:this.toggleCheckbox.bind(this),recordShiftKeyPress:g,currentSelection:h,files:m?v(l):l,folders:m?v(u):u,handleScroll:this.handleScroll,done:this.donePicking,cancel:this.cancelPicking,showSearchFilter:s.showFilter,search:this.search,clearSearch:this.clearSearch,searchTerm:o,searchOnInput:!1,searchInputLabel:a("search"),clearSearchLabel:a("resetSearch"),noResultsLabel:a("noSearchResults"),title:this.plugin.title,viewType:s.viewType,showTitles:s.showTitles,showFilter:s.showFilter,isLoading:p,showBreadcrumbs:s.showBreadcrumbs,pluginIcon:this.plugin.icon,i18n:a,uppyFiles:this.plugin.uppy.getFiles(),validateRestrictions:function(){return r.plugin.uppy.validateRestrictions(...arguments)}};return F(Ri,{onUnmount:this.resetPluginState},i?F("div",{className:"uppy-SearchProvider"},F(Si,{search:this.search,inputLabel:a("enterTextToSearch"),buttonLabel:a("searchImages"),inputClassName:"uppy-c-textInput uppy-SearchProvider-input",buttonCSSClassName:"uppy-SearchProvider-searchButton",showButton:!0})):F(Ii,y))}}).VERSION="3.13.0";var uo=function(){for(var e="",t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;t--;)e+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64*Math.random()|0];return e},co=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function po(e,t){return e===t||!(!co(e)||!co(t))}function ho(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!po(e[r],t[r]))return!1;return!0}function fo(e,t){void 0===t&&(t=ho);var r=null;function n(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];if(r&&r.lastThis===this&&t(n,r.lastArgs))return r.lastResult;var o=e.apply(this,n);return r={lastResult:o,lastArgs:n,lastThis:this},o}return n.clear=function(){r=null},n}const vo=['a[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','area[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])',"input:not([disabled]):not([inert]):not([aria-hidden])","select:not([disabled]):not([inert]):not([aria-hidden])","textarea:not([disabled]):not([inert]):not([aria-hidden])","button:not([disabled]):not([inert]):not([aria-hidden])",'iframe:not([tabindex^="-"]):not([inert]):not([aria-hidden])','object:not([tabindex^="-"]):not([inert]):not([aria-hidden])','embed:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[contenteditable]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[tabindex]:not([tabindex^="-"]):not([inert]):not([aria-hidden])'];function go(e,t){if(t){var r=e.querySelector('[data-uppy-paneltype="'.concat(t,'"]'));if(r)return r}return e}function mo(e,t){var r=t[0];r&&(r.focus(),e.preventDefault())}function yo(e,t,r){var n=go(r,t),i=Nr(n.querySelectorAll(vo)),o=i.indexOf(document.activeElement);!function(e){return e.contains(document.activeElement)}(n)?mo(e,i):e.shiftKey&&0===o?function(e,t){var r=t[t.length-1];r&&(r.focus(),e.preventDefault())}(e,i):e.shiftKey||o!==i.length-1||mo(e,i)}var bo=r(95491);function _o(){var e=document.body;return"draggable"in e&&"ondragstart"in e&&"ondrop"in e&&("FormData"in window&&"FileReader"in window)}var wo=r(74031);function Po(e){var t={color:"#838999",icon:F("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},F("g",{fill:"#A7AFB7",fillRule:"nonzero"},F("path",{d:"M5.5 22a.5.5 0 0 1-.5-.5v-18a.5.5 0 0 1 .5-.5h10.719a.5.5 0 0 1 .367.16l3.281 3.556a.5.5 0 0 1 .133.339V21.5a.5.5 0 0 1-.5.5h-14zm.5-1h13V7.25L16 4H6v17z"}),F("path",{d:"M15 4v3a1 1 0 0 0 1 1h3V7h-3V4h-1z"})))};if(!e)return t;var r=e.split("/")[0],n=e.split("/")[1];if("text"===r)return{color:"#5a5e69",icon:F("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},F("path",{d:"M4.5 7h13a.5.5 0 1 1 0 1h-13a.5.5 0 0 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h10a.5.5 0 1 1 0 1h-10a.5.5 0 1 1 0-1z",fill:"#5A5E69",fillRule:"nonzero"}))};if("image"===r)return{color:"#686de0",icon:F("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25"},F("g",{fill:"#686DE0",fillRule:"evenodd"},F("path",{d:"M5 7v10h15V7H5zm0-1h15a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1z",fillRule:"nonzero"}),F("path",{d:"M6.35 17.172l4.994-5.026a.5.5 0 0 1 .707 0l2.16 2.16 3.505-3.505a.5.5 0 0 1 .707 0l2.336 2.31-.707.72-1.983-1.97-3.505 3.505a.5.5 0 0 1-.707 0l-2.16-2.159-3.938 3.939-1.409.026z",fillRule:"nonzero"}),F("circle",{cx:"7.5",cy:"9.5",r:"1.5"})))};if("audio"===r)return{color:"#068dbb",icon:F("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},F("path",{d:"M9.5 18.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V7.25a.5.5 0 0 1 .379-.485l9-2.25A.5.5 0 0 1 18.5 5v11.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V8.67l-8 2v7.97zm8-11v-2l-8 2v2l8-2zM7 19.64c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1zm9-2c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1z",fill:"#049BCF",fillRule:"nonzero"}))};if("video"===r)return{color:"#19af67",icon:F("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},F("path",{d:"M16 11.834l4.486-2.691A1 1 0 0 1 22 10v6a1 1 0 0 1-1.514.857L16 14.167V17a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v2.834zM15 9H5v8h10V9zm1 4l5 3v-6l-5 3z",fill:"#19AF67",fillRule:"nonzero"}))};if("application"===r&&"pdf"===n)return{color:"#e25149",icon:F("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},F("path",{d:"M9.766 8.295c-.691-1.843-.539-3.401.747-3.726 1.643-.414 2.505.938 2.39 3.299-.039.79-.194 1.662-.537 3.148.324.49.66.967 1.055 1.51.17.231.382.488.629.757 1.866-.128 3.653.114 4.918.655 1.487.635 2.192 1.685 1.614 2.84-.566 1.133-1.839 1.084-3.416.249-1.141-.604-2.457-1.634-3.51-2.707a13.467 13.467 0 0 0-2.238.426c-1.392 4.051-4.534 6.453-5.707 4.572-.986-1.58 1.38-4.206 4.914-5.375.097-.322.185-.656.264-1.001.08-.353.306-1.31.407-1.737-.678-1.059-1.2-2.031-1.53-2.91zm2.098 4.87c-.033.144-.068.287-.104.427l.033-.01-.012.038a14.065 14.065 0 0 1 1.02-.197l-.032-.033.052-.004a7.902 7.902 0 0 1-.208-.271c-.197-.27-.38-.526-.555-.775l-.006.028-.002-.003c-.076.323-.148.632-.186.8zm5.77 2.978c1.143.605 1.832.632 2.054.187.26-.519-.087-1.034-1.113-1.473-.911-.39-2.175-.608-3.55-.608.845.766 1.787 1.459 2.609 1.894zM6.559 18.789c.14.223.693.16 1.425-.413.827-.648 1.61-1.747 2.208-3.206-2.563 1.064-4.102 2.867-3.633 3.62zm5.345-10.97c.088-1.793-.351-2.48-1.146-2.28-.473.119-.564 1.05-.056 2.405.213.566.52 1.188.908 1.859.18-.858.268-1.453.294-1.984z",fill:"#E2514A",fillRule:"nonzero"}))};return"application"===r&&-1!==["zip","x-7z-compressed","x-zip-compressed","x-rar-compressed","x-tar","x-gzip","x-apple-diskimage"].indexOf(n)?{color:"#00C469",icon:F("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25"},F("path",{d:"M10.45 2.05h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V2.55a.5.5 0 0 1 .5-.5zm2.05 1.024h1.05a.5.5 0 0 1 .5.5V3.6a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5v-.001zM10.45 0h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V.5a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 3.074h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 1.024h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm-2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-1.656 3.074l-.82 5.946c.52.302 1.174.458 1.976.458.803 0 1.455-.156 1.975-.458l-.82-5.946h-2.311zm0-1.025h2.312c.512 0 .946.378 1.015.885l.82 5.946c.056.412-.142.817-.501 1.026-.686.398-1.515.597-2.49.597-.974 0-1.804-.199-2.49-.597a1.025 1.025 0 0 1-.5-1.026l.819-5.946c.07-.507.503-.885 1.015-.885zm.545 6.6a.5.5 0 0 1-.397-.561l.143-.999a.5.5 0 0 1 .495-.429h.74a.5.5 0 0 1 .495.43l.143.998a.5.5 0 0 1-.397.561c-.404.08-.819.08-1.222 0z",fill:"#00C469",fillRule:"nonzero"}))}:t}function So(e){var{file:t}=e;if(t.preview)return F("img",{className:"uppy-Dashboard-Item-previewImg",alt:t.name,src:t.preview});var{color:r,icon:n}=Po(t.type);return F("div",{className:"uppy-Dashboard-Item-previewIconWrap"},F("span",{className:"uppy-Dashboard-Item-previewIcon",style:{color:r}},n),F("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-Dashboard-Item-previewIconBg",width:"58",height:"76",viewBox:"0 0 58 76"},F("rect",{fill:"#FFF",width:"58",height:"76",rx:"3",fillRule:"evenodd"})))}function Ao(e){var{file:t,toggleFileCard:r,i18n:n,metaFields:i}=e,{missingRequiredMetaFields:o}=t;if(null==o||!o.length)return null;var a=o.map(e=>((e,t)=>{var r=("function"===typeof t?t():t).filter(t=>t.id===e);return r[0].name})(e,i)).join(", ");return F("div",{className:"uppy-Dashboard-Item-errorMessage"},n("missingRequiredMetaFields",{smart_count:o.length,fields:a})," ",F("button",{type:"button",class:"uppy-u-reset uppy-Dashboard-Item-errorMessageBtn",onClick:()=>r(!0,t.id)},n("editFile")))}function Fo(e){var{file:t,i18n:r,toggleFileCard:n,metaFields:i,showLinkToFileUploadResult:o}=e;return F("div",{className:"uppy-Dashboard-Item-previewInnerWrap",style:{backgroundColor:t.preview?"rgba(255, 255, 255, 0.5)":Po(t.type).color}},o&&t.uploadURL&&F("a",{className:"uppy-Dashboard-Item-previewLink",href:t.uploadURL,rel:"noreferrer noopener",target:"_blank","aria-label":t.meta.name},F("span",{hidden:!0},t.meta.name)),F(So,{file:t}),F(Ao,{file:t,i18n:r,toggleFileCard:n,metaFields:i}))}function Co(e){return e.isUploaded?e.i18n("uploadComplete"):e.error?e.i18n("retryUpload"):e.resumableUploads?e.file.isPaused?e.i18n("resumeUpload"):e.i18n("pauseUpload"):e.individualCancellation?e.i18n("cancelUpload"):""}function Oo(e){return F("div",{className:"uppy-Dashboard-Item-progress"},F("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-progressIndicator",type:"button","aria-label":Co(e),title:Co(e),onClick:()=>function(e){e.isUploaded||(!e.error||e.hideRetryButton?e.resumableUploads&&!e.hidePauseResumeButton?e.uppy.pauseResume(e.file.id):e.individualCancellation&&!e.hideCancelButton&&e.uppy.removeFile(e.file.id):e.uppy.retryUpload(e.file.id))}(e)},e.children))}function ko(e){var{children:t}=e;return F("svg",{"aria-hidden":"true",focusable:"false",width:"70",height:"70",viewBox:"0 0 36 36",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--circle"},t)}function Eo(e){var{progress:t}=e,r=2*Math.PI*15;return F("g",null,F("circle",{className:"uppy-Dashboard-Item-progressIcon--bg",r:"15",cx:"18",cy:"18","stroke-width":"2",fill:"none"}),F("circle",{className:"uppy-Dashboard-Item-progressIcon--progress",r:"15",cx:"18",cy:"18",transform:"rotate(-90, 18, 18)",fill:"none","stroke-width":"2","stroke-dasharray":r,"stroke-dashoffset":r-r/100*t}))}function xo(e){return e.file.progress.uploadStarted?e.isUploaded?F("div",{className:"uppy-Dashboard-Item-progress"},F("div",{className:"uppy-Dashboard-Item-progressIndicator"},F(ko,null,F("circle",{r:"15",cx:"18",cy:"18",fill:"#1bb240"}),F("polygon",{className:"uppy-Dashboard-Item-progressIcon--check",transform:"translate(2, 3)",points:"14 22.5 7 15.2457065 8.99985857 13.1732815 14 18.3547104 22.9729883 9 25 11.1005634"})))):e.recoveredState?void 0:e.error&&!e.hideRetryButton?F(Oo,e,F("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--retry",width:"28",height:"31",viewBox:"0 0 16 19"},F("path",{d:"M16 11a8 8 0 1 1-8-8v2a6 6 0 1 0 6 6h2z"}),F("path",{d:"M7.9 3H10v2H7.9z"}),F("path",{d:"M8.536.5l3.535 3.536-1.414 1.414L7.12 1.914z"}),F("path",{d:"M10.657 2.621l1.414 1.415L8.536 7.57 7.12 6.157z"}))):e.resumableUploads&&!e.hidePauseResumeButton?F(Oo,e,F(ko,null,F(Eo,{progress:e.file.progress.percentage}),e.file.isPaused?F("polygon",{className:"uppy-Dashboard-Item-progressIcon--play",transform:"translate(3, 3)",points:"12 20 12 10 20 15"}):F("g",{className:"uppy-Dashboard-Item-progressIcon--pause",transform:"translate(14.5, 13)"},F("rect",{x:"0",y:"0",width:"2",height:"10",rx:"0"}),F("rect",{x:"5",y:"0",width:"2",height:"10",rx:"0"})))):e.resumableUploads||!e.individualCancellation||e.hideCancelButton?F("div",{className:"uppy-Dashboard-Item-progress"},F("div",{className:"uppy-Dashboard-Item-progressIndicator"},F(ko,null,F(Eo,{progress:e.file.progress.percentage})))):F(Oo,e,F(ko,null,F(Eo,{progress:e.file.progress.percentage}),F("polygon",{className:"cancel",transform:"translate(2, 2)",points:"19.8856516 11.0625 16 14.9481516 12.1019737 11.0625 11.0625 12.1143484 14.9481516 16 11.0625 19.8980263 12.1019737 20.9375 16 17.0518484 19.8856516 20.9375 20.9375 19.8980263 17.0518484 16 20.9375 12"}))):null}var To="...";function Uo(e,t){if(0===t)return"";if(e.length<=t)return e;if(t<=4)return"".concat(e.slice(0,t-1),"\u2026");var r=t-3,n=Math.ceil(r/2),i=Math.floor(r/2);return e.slice(0,n)+To+e.slice(-i)}var Do=e=>{var{file:t,onClick:r}=e;return t.error?F("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-errorDetails","aria-label":t.error,"data-microtip-position":"bottom","data-microtip-size":"medium",onClick:r,type:"button"},"?"):null};function Io(e){var{file:t}=e;return F("div",{className:"uppy-Dashboard-Item-fileInfo","data-uppy-file-source":t.source},F("div",{className:"uppy-Dashboard-Item-fileName"},(e=>{var{author:t,name:r}=e.file.meta;return F("div",{className:"uppy-Dashboard-Item-name",title:r},Uo(r,e.isSingleFile&&e.containerHeight>=350?90:e.containerWidth<=352?35:e.containerWidth<=576?60:t?20:30))})(e),F(Do,{file:e.file,onClick:()=>alert(e.file.error)})),F("div",{className:"uppy-Dashboard-Item-status"},(e=>{var t,{author:r}=e.file.meta,n=null==(t=e.file.remote)?void 0:t.providerName;return r?F("div",{className:"uppy-Dashboard-Item-author"},F("a",{href:"".concat(r.url,"?utm_source=Companion&utm_medium=referral"),target:"_blank",rel:"noopener noreferrer"},Uo(r.name,13)),n?F(O,null," ".concat("\xb7"," "),n," ".concat("\xb7"," ")):null):null})(e),(e=>e.file.size&&F("div",{className:"uppy-Dashboard-Item-statusSize"},ce(e.file.size)))(e),(e=>e.file.isGhost&&F("span",null," \u2022 ",F("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-reSelect",type:"button",onClick:e.toggleAddFilesPanel},e.i18n("reSelect"))))(e)),F(Ao,{file:e.file,i18n:e.i18n,toggleFileCard:e.toggleFileCard,metaFields:e.metaFields}))}function Ro(e){var{file:t,uploadInProgressOrComplete:r,metaFields:n,canEditFile:i,i18n:o,onClick:a}=e;return!r&&n&&n.length>0||!r&&i(t)?F("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-action uppy-Dashboard-Item-action--edit",type:"button","aria-label":o("editFileWithFilename",{file:t.meta.name}),title:o("editFileWithFilename",{file:t.meta.name}),onClick:()=>a()},F("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 14"},F("g",{fillRule:"evenodd"},F("path",{d:"M1.5 10.793h2.793A1 1 0 0 0 5 10.5L11.5 4a1 1 0 0 0 0-1.414L9.707.793a1 1 0 0 0-1.414 0l-6.5 6.5A1 1 0 0 0 1.5 8v2.793zm1-1V8L9 1.5l1.793 1.793-6.5 6.5H2.5z",fillRule:"nonzero"}),F("rect",{x:"1",y:"12.293",width:"11",height:"1",rx:".5"}),F("path",{fillRule:"nonzero",d:"M6.793 2.5L9.5 5.207l.707-.707L7.5 1.793z"})))):null}function No(e){var{i18n:t,onClick:r,file:n}=e;return F("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--remove",type:"button","aria-label":t("removeFile",{file:n.meta.name}),title:t("removeFile",{file:n.meta.name}),onClick:()=>r()},F("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"18",height:"18",viewBox:"0 0 18 18"},F("path",{d:"M9 0C4.034 0 0 4.034 0 9s4.034 9 9 9 9-4.034 9-9-4.034-9-9-9z"}),F("path",{fill:"#FFF",d:"M13 12.222l-.778.778L9 9.778 5.778 13 5 12.222 8.222 9 5 5.778 5.778 5 9 8.222 12.222 5l.778.778L9.778 9z"})))}var jo,Bo=(e,t)=>{var r,n;(r=t.file.uploadURL,n=t.i18n("copyLinkToClipboardFallback"),void 0===n&&(n="Copy the URL below"),new Promise(e=>{var t=document.createElement("textarea");t.setAttribute("style",{position:"fixed",top:0,left:0,width:"2em",height:"2em",padding:0,border:"none",outline:"none",boxShadow:"none",background:"transparent"}),t.value=r,document.body.appendChild(t),t.select();var i=()=>{document.body.removeChild(t),window.prompt(n,r),e()};try{return document.execCommand("copy")?(document.body.removeChild(t),e()):i()}catch(o){return document.body.removeChild(t),i()}})).then(()=>{t.uppy.log("Link copied to clipboard."),t.uppy.info(t.i18n("copyLinkToClipboardSuccess"),"info",3e3)}).catch(t.uppy.log).then(()=>e.target.focus({preventScroll:!0}))};function Lo(e){var{i18n:t}=e;return F("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--copyLink",type:"button","aria-label":t("copyLink"),title:t("copyLink"),onClick:t=>Bo(t,e)},F("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 12"},F("path",{d:"M7.94 7.703a2.613 2.613 0 0 1-.626 2.681l-.852.851a2.597 2.597 0 0 1-1.849.766A2.616 2.616 0 0 1 2.764 7.54l.852-.852a2.596 2.596 0 0 1 2.69-.625L5.267 7.099a1.44 1.44 0 0 0-.833.407l-.852.851a1.458 1.458 0 0 0 1.03 2.486c.39 0 .755-.152 1.03-.426l.852-.852c.231-.231.363-.522.406-.824l1.04-1.038zm4.295-5.937A2.596 2.596 0 0 0 10.387 1c-.698 0-1.355.272-1.849.766l-.852.851a2.614 2.614 0 0 0-.624 2.688l1.036-1.036c.041-.304.173-.6.407-.833l.852-.852c.275-.275.64-.426 1.03-.426a1.458 1.458 0 0 1 1.03 2.486l-.852.851a1.442 1.442 0 0 1-.824.406l-1.04 1.04a2.596 2.596 0 0 0 2.683-.628l.851-.85a2.616 2.616 0 0 0 0-3.697zm-6.88 6.883a.577.577 0 0 0 .82 0l3.474-3.474a.579.579 0 1 0-.819-.82L5.355 7.83a.579.579 0 0 0 0 .819z"})))}function Mo(e){var{uppy:t,file:r,uploadInProgressOrComplete:n,canEditFile:i,metaFields:o,showLinkToFileUploadResult:a,showRemoveButton:s,i18n:l,toggleFileCard:u,openFileEditor:c}=e;return F("div",{className:"uppy-Dashboard-Item-actionWrapper"},F(Ro,{i18n:l,file:r,uploadInProgressOrComplete:n,canEditFile:i,metaFields:o,onClick:()=>{o&&o.length>0?u(!0,r.id):c(r)}}),a&&r.uploadURL?F(Lo,{file:r,uppy:t,i18n:l}):null,s?F(No,{i18n:l,file:r,uppy:t,onClick:()=>t.removeFile(r.id,"removed-by-user")}):null)}class zo extends k{componentDidMount(){var{file:e}=this.props;e.preview||this.props.handleRequestThumbnail(e)}shouldComponentUpdate(e){return!wo(this.props,e)}componentDidUpdate(){var{file:e}=this.props;e.preview||this.props.handleRequestThumbnail(e)}componentWillUnmount(){var{file:e}=this.props;e.preview||this.props.handleCancelThumbnail(e)}render(){var{file:e}=this.props,t=e.progress.preprocess||e.progress.postprocess,r=e.progress.uploadComplete&&!t&&!e.error,n=e.progress.uploadStarted||t,i=e.progress.uploadStarted&&!e.progress.uploadComplete||t,o=e.error||!1,{isGhost:a}=e,s=(this.props.individualCancellation||!i)&&!r;return r&&this.props.showRemoveButtonAfterComplete&&(s=!0),F("div",{className:le({"uppy-Dashboard-Item":!0,"is-inprogress":i&&!this.props.recoveredState,"is-processing":t,"is-complete":r,"is-error":!!o,"is-resumable":this.props.resumableUploads,"is-noIndividualCancellation":!this.props.individualCancellation,"is-ghost":a}),id:"uppy_".concat(e.id),role:this.props.role},F("div",{className:"uppy-Dashboard-Item-preview"},F(Fo,{file:e,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,i18n:this.props.i18n,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields}),F(xo,{uppy:this.props.uppy,file:e,error:o,isUploaded:r,hideRetryButton:this.props.hideRetryButton,hideCancelButton:this.props.hideCancelButton,hidePauseResumeButton:this.props.hidePauseResumeButton,recoveredState:this.props.recoveredState,showRemoveButtonAfterComplete:this.props.showRemoveButtonAfterComplete,resumableUploads:this.props.resumableUploads,individualCancellation:this.props.individualCancellation,i18n:this.props.i18n})),F("div",{className:"uppy-Dashboard-Item-fileInfoAndButtons"},F(Io,{file:e,id:this.props.id,acquirers:this.props.acquirers,containerWidth:this.props.containerWidth,containerHeight:this.props.containerHeight,i18n:this.props.i18n,toggleAddFilesPanel:this.props.toggleAddFilesPanel,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields,isSingleFile:this.props.isSingleFile}),F(Mo,{file:e,metaFields:this.props.metaFields,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,showRemoveButton:s,canEditFile:this.props.canEditFile,uploadInProgressOrComplete:n,toggleFileCard:this.props.toggleFileCard,openFileEditor:this.props.openFileEditor,uppy:this.props.uppy,i18n:this.props.i18n})))}}function qo(e){var{id:t,error:r,i18n:n,uppy:i,files:o,acquirers:a,resumableUploads:s,hideRetryButton:l,hidePauseResumeButton:u,hideCancelButton:c,showLinkToFileUploadResult:p,showRemoveButtonAfterComplete:h,isWide:d,metaFields:f,isSingleFile:v,toggleFileCard:g,handleRequestThumbnail:m,handleCancelThumbnail:y,recoveredState:b,individualCancellation:_,itemsPerRow:w,openFileEditor:P,canEditFile:S,toggleAddFilesPanel:A,containerWidth:C,containerHeight:O}=e,k=1===w?71:200,E=Jn(()=>{var e=Object.keys(o);return b&&e.sort((e,t)=>o[t].isGhost-o[e].isGhost),function(e,t){var r=[],n=[];return e.forEach(e=>{n.length<t?n.push(e):(r.push(n),n=[e])}),n.length&&r.push(n),r}(e,w)},[o,w,b]),x=e=>F("div",{class:"uppy-Dashboard-filesInner",role:"presentation",key:e[0]},e.map(e=>F(zo,{key:e,uppy:i,id:t,error:r,i18n:n,acquirers:a,resumableUploads:s,individualCancellation:_,hideRetryButton:l,hidePauseResumeButton:u,hideCancelButton:c,showLinkToFileUploadResult:p,showRemoveButtonAfterComplete:h,isWide:d,metaFields:f,recoveredState:b,isSingleFile:v,containerWidth:C,containerHeight:O,toggleFileCard:g,handleRequestThumbnail:m,handleCancelThumbnail:y,role:"listitem",openFileEditor:P,canEditFile:S,toggleAddFilesPanel:A,file:o[e]})));return v?F("div",{class:"uppy-Dashboard-files"},x(E[0])):F(Pi,{class:"uppy-Dashboard-files",role:"list",data:E,renderRow:x,rowHeight:k})}jo=Symbol.for("uppy test: disable unused locale key warning");const Ho=class extends k{constructor(){super(...arguments),this.triggerFileInputClick=()=>{this.fileInput.click()},this.triggerFolderInputClick=()=>{this.folderInput.click()},this.triggerVideoCameraInputClick=()=>{this.mobileVideoFileInput.click()},this.triggerPhotoCameraInputClick=()=>{this.mobilePhotoFileInput.click()},this.onFileInputChange=e=>{this.props.handleInputChange(e),e.target.value=null},this.renderHiddenInput=(e,t)=>F("input",{className:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabIndex:-1,webkitdirectory:e,type:"file",name:"files[]",multiple:1!==this.props.maxNumberOfFiles,onChange:this.onFileInputChange,accept:this.props.allowedFileTypes,ref:t}),this.renderHiddenCameraInput=(e,t,r)=>{var n={photo:"image/*",video:"video/*"}[e];return F("input",{className:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabIndex:-1,type:"file",name:"camera-".concat(e),onChange:this.onFileInputChange,capture:t,accept:n,ref:r})},this.renderMyDeviceAcquirer=()=>F("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MyDevice"},F("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerFileInputClick},F("div",{className:"uppy-DashboardTab-inner"},F("svg",{className:"uppy-DashboardTab-iconMyDevice","aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},F("path",{d:"M8.45 22.087l-1.305-6.674h17.678l-1.572 6.674H8.45zm4.975-12.412l1.083 1.765a.823.823 0 00.715.386h7.951V13.5H8.587V9.675h4.838zM26.043 13.5h-1.195v-2.598c0-.463-.336-.75-.798-.75h-8.356l-1.082-1.766A.823.823 0 0013.897 8H7.728c-.462 0-.815.256-.815.718V13.5h-.956a.97.97 0 00-.746.37.972.972 0 00-.19.81l1.724 8.565c.095.44.484.755.933.755H24c.44 0 .824-.3.929-.727l2.043-8.568a.972.972 0 00-.176-.825.967.967 0 00-.753-.38z",fill:"currentcolor","fill-rule":"evenodd"}))),F("div",{className:"uppy-DashboardTab-name"},this.props.i18n("myDevice")))),this.renderPhotoCamera=()=>F("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MobilePhotoCamera"},F("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerPhotoCameraInputClick},F("div",{className:"uppy-DashboardTab-inner"},F("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},F("path",{d:"M23.5 9.5c1.417 0 2.5 1.083 2.5 2.5v9.167c0 1.416-1.083 2.5-2.5 2.5h-15c-1.417 0-2.5-1.084-2.5-2.5V12c0-1.417 1.083-2.5 2.5-2.5h2.917l1.416-2.167C13 7.167 13.25 7 13.5 7h5c.25 0 .5.167.667.333L20.583 9.5H23.5zM16 11.417a4.706 4.706 0 00-4.75 4.75 4.704 4.704 0 004.75 4.75 4.703 4.703 0 004.75-4.75c0-2.663-2.09-4.75-4.75-4.75zm0 7.825c-1.744 0-3.076-1.332-3.076-3.074 0-1.745 1.333-3.077 3.076-3.077 1.744 0 3.074 1.333 3.074 3.076s-1.33 3.075-3.074 3.075z",fill:"#02B383","fill-rule":"nonzero"}))),F("div",{className:"uppy-DashboardTab-name"},this.props.i18n("takePictureBtn")))),this.renderVideoCamera=()=>F("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MobileVideoCamera"},F("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerVideoCameraInputClick},F("div",{className:"uppy-DashboardTab-inner"},F("svg",{"aria-hidden":"true",width:"32",height:"32",viewBox:"0 0 32 32"},F("path",{fill:"#FF675E",fillRule:"nonzero",d:"m21.254 14.277 2.941-2.588c.797-.313 1.243.818 1.09 1.554-.01 2.094.02 4.189-.017 6.282-.126.915-1.145 1.08-1.58.34l-2.434-2.142c-.192.287-.504 1.305-.738.468-.104-1.293-.028-2.596-.05-3.894.047-.312.381.823.426 1.069.063-.384.206-.744.362-1.09zm-12.939-3.73c3.858.013 7.717-.025 11.574.02.912.129 1.492 1.237 1.351 2.217-.019 2.412.04 4.83-.03 7.239-.17 1.025-1.166 1.59-2.029 1.429-3.705-.012-7.41.025-11.114-.019-.913-.129-1.492-1.237-1.352-2.217.018-2.404-.036-4.813.029-7.214.136-.82.83-1.473 1.571-1.454z "}))),F("div",{className:"uppy-DashboardTab-name"},this.props.i18n("recordVideoBtn")))),this.renderBrowseButton=(e,t)=>F("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-Dashboard-browse",onClick:t,"data-uppy-super-focusable":0===this.props.acquirers.length},e),this.renderDropPasteBrowseTagline=e=>{var t=this.renderBrowseButton(this.props.i18n("browseFiles"),this.triggerFileInputClick),r=this.renderBrowseButton(this.props.i18n("browseFolders"),this.triggerFolderInputClick),n=this.props.fileManagerSelectionType,i=n.charAt(0).toUpperCase()+n.slice(1);return F("div",{class:"uppy-Dashboard-AddFiles-title"},this.props.disableLocalFiles?this.props.i18n("importFiles"):e>0?this.props.i18nArray("dropPasteImport".concat(i),{browseFiles:t,browseFolders:r,browse:t}):this.props.i18nArray("dropPaste".concat(i),{browseFiles:t,browseFolders:r,browse:t}))},this.renderAcquirer=e=>{var t;return F("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":e.id},F("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-cy":e.id,"aria-controls":"uppy-DashboardContent-panel--".concat(e.id),"aria-selected":(null==(t=this.props.activePickerPanel)?void 0:t.id)===e.id,"data-uppy-super-focusable":!0,onClick:()=>this.props.showPanel(e.id)},F("div",{className:"uppy-DashboardTab-inner"},e.icon()),F("div",{className:"uppy-DashboardTab-name"},e.name)))},this.renderAcquirers=e=>{var t=[...e],r=t.splice(e.length-2,e.length);return F(O,null,t.map(e=>this.renderAcquirer(e)),F("span",{role:"presentation",style:{"white-space":"nowrap"}},r.map(e=>this.renderAcquirer(e))))},this.renderSourcesList=(e,t)=>{var{showNativePhotoCameraButton:r,showNativeVideoCameraButton:n}=this.props,i=[],o="myDevice";t||i.push({key:o,elements:this.renderMyDeviceAcquirer()}),r&&i.push({key:"nativePhotoCameraButton",elements:this.renderPhotoCamera()}),n&&i.push({key:"nativePhotoCameraButton",elements:this.renderVideoCamera()}),i.push(...e.map(e=>({key:e.id,elements:this.renderAcquirer(e)}))),1===i.length&&i[0].key===o&&(i=[]);var a=[...i],s=a.splice(i.length-2,i.length),l=e=>e.map(e=>{var{key:t,elements:r}=e;return F(O,{key:t},r)});return F(O,null,this.renderDropPasteBrowseTagline(i.length),F("div",{className:"uppy-Dashboard-AddFiles-list",role:"tablist"},l(a),F("span",{role:"presentation",style:{"white-space":"nowrap"}},l(s))))}}[jo](){this.props.i18nArray("dropPasteBoth"),this.props.i18nArray("dropPasteFiles"),this.props.i18nArray("dropPasteFolders"),this.props.i18nArray("dropPasteImportBoth"),this.props.i18nArray("dropPasteImportFiles"),this.props.i18nArray("dropPasteImportFolders")}renderPoweredByUppy(){var{i18nArray:e}=this.props,t=F("span",null,F("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-poweredByIcon",width:"11",height:"11",viewBox:"0 0 11 11"},F("path",{d:"M7.365 10.5l-.01-4.045h2.612L5.5.806l-4.467 5.65h2.604l.01 4.044h3.718z",fillRule:"evenodd"})),F("span",{className:"uppy-Dashboard-poweredByUppy"},"Uppy"));return F("a",{tabIndex:-1,href:"https://uppy.io",rel:"noreferrer noopener",target:"_blank",className:"uppy-Dashboard-poweredBy"},e("poweredBy",{uppy:t}))}render(){var{showNativePhotoCameraButton:e,showNativeVideoCameraButton:t,nativeCameraFacingMode:r}=this.props;return F("div",{className:"uppy-Dashboard-AddFiles"},this.renderHiddenInput(!1,e=>{this.fileInput=e}),this.renderHiddenInput(!0,e=>{this.folderInput=e}),e&&this.renderHiddenCameraInput("photo",r,e=>{this.mobilePhotoFileInput=e}),t&&this.renderHiddenCameraInput("video",r,e=>{this.mobileVideoFileInput=e}),this.renderSourcesList(this.props.acquirers,this.props.disableLocalFiles),F("div",{className:"uppy-Dashboard-AddFiles-info"},this.props.note&&F("div",{className:"uppy-Dashboard-note"},this.props.note),this.props.proudlyDisplayPoweredByUppy&&this.renderPoweredByUppy(this.props)))}};const Wo=e=>F("div",{className:le("uppy-Dashboard-AddFilesPanel",e.className),"data-uppy-panelType":"AddFiles","aria-hidden":!e.showAddFilesPanel},F("div",{className:"uppy-DashboardContent-bar"},F("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},e.i18n("addingMoreFiles")),F("button",{className:"uppy-DashboardContent-back",type:"button",onClick:()=>e.toggleAddFilesPanel(!1)},e.i18n("back"))),F(Ho,e));const Vo=function(e){var{tagName:t}=e.target;"INPUT"!==t&&"TEXTAREA"!==t?(e.preventDefault(),e.stopPropagation()):e.stopPropagation()};const Go=function(e){var{activePickerPanel:t,className:r,hideAllPanels:n,i18n:i,state:o,uppy:a}=e;return F("div",{className:le("uppy-DashboardContent-panel",r),role:"tabpanel","data-uppy-panelType":"PickerPanel",id:"uppy-DashboardContent-panel--".concat(t.id),onDragOver:Vo,onDragLeave:Vo,onDrop:Vo,onPaste:Vo},F("div",{className:"uppy-DashboardContent-bar"},F("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},i("importFrom",{name:t.name})),F("button",{className:"uppy-DashboardContent-back",type:"button",onClick:n},i("cancel"))),F("div",{className:"uppy-DashboardContent-panelBody"},a.getPlugin(t.id).render(o)))};const Ko=function(e){var t=e.files[e.fileCardFor];return F("div",{className:le("uppy-DashboardContent-panel",e.className),role:"tabpanel","data-uppy-panelType":"FileEditor",id:"uppy-DashboardContent-panel--editor"},F("div",{className:"uppy-DashboardContent-bar"},F("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},e.i18nArray("editing",{file:F("span",{className:"uppy-DashboardContent-titleFile"},t.meta?t.meta.name:t.name)})),F("button",{className:"uppy-DashboardContent-back",type:"button",onClick:()=>{e.uppy.emit("file-editor:cancel",t),e.closeFileEditor()}},e.i18n("cancel")),F("button",{className:"uppy-DashboardContent-save",type:"button",onClick:e.saveFileEditor},e.i18n("save"))),F("div",{className:"uppy-DashboardContent-panelBody"},e.editors.map(t=>e.uppy.getPlugin(t.id).render(e.state))))};var Xo="error",$o="waiting",Yo="preprocessing",Qo="uploading",Zo="postprocessing",Jo="complete",ea="paused";function ta(e){var{files:t,i18n:r,isAllComplete:n,isAllErrored:i,isAllPaused:o,inProgressNotPausedFiles:a,newFiles:s,processingFiles:l}=e,u=function(e,t,r,n){if(void 0===n&&(n={}),e)return Xo;if(t)return Jo;if(r)return ea;for(var i=$o,o=Object.keys(n),a=0;a<o.length;a++){var{progress:s}=n[o[a]];if(s.uploadStarted&&!s.uploadComplete)return Qo;s.preprocess&&i!==Qo&&(i=Yo),s.postprocess&&i!==Qo&&i!==Yo&&(i=Zo)}return i}(i,n,o,t);switch(u){case"uploading":return r("uploadingXFiles",{smart_count:a.length});case"preprocessing":case"postprocessing":return r("processingXFiles",{smart_count:l.length});case"paused":return r("uploadPaused");case"waiting":return r("xFilesSelected",{smart_count:s.length});case"complete":return r("uploadComplete");case"error":return r("error")}}const ra=function(e){var{i18n:t,isAllComplete:r,hideCancelButton:n,maxNumberOfFiles:i,toggleAddFilesPanel:o,uppy:a}=e,{allowNewUpload:s}=e;return s&&i&&(s=e.totalFileCount<e.maxNumberOfFiles),F("div",{className:"uppy-DashboardContent-bar"},r||n?F("div",null):F("button",{className:"uppy-DashboardContent-back",type:"button",onClick:()=>a.cancelAll()},t("cancel")),F("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},F(ta,e)),s?F("button",{className:"uppy-DashboardContent-addMore",type:"button","aria-label":t("addMoreFiles"),title:t("addMoreFiles"),onClick:()=>o(!0)},F("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"15",height:"15",viewBox:"0 0 15 15"},F("path",{d:"M8 6.5h6a.5.5 0 0 1 .5.5v.5a.5.5 0 0 1-.5.5H8v6a.5.5 0 0 1-.5.5H7a.5.5 0 0 1-.5-.5V8h-6a.5.5 0 0 1-.5-.5V7a.5.5 0 0 1 .5-.5h6v-6A.5.5 0 0 1 7 0h.5a.5.5 0 0 1 .5.5v6z"})),F("span",{className:"uppy-DashboardContent-addMoreCaption"},t("addMore"))):F("div",null))};function na(e){var{computedMetaFields:t,requiredMetaFields:r,updateMeta:n,form:i,formState:o}=e,a={text:"uppy-u-reset uppy-c-textInput uppy-Dashboard-FileCard-input"};return t.map(e=>{var t="uppy-Dashboard-FileCard-input-".concat(e.id),s=r.includes(e.id);return F("fieldset",{key:e.id,className:"uppy-Dashboard-FileCard-fieldset"},F("label",{className:"uppy-Dashboard-FileCard-label",htmlFor:t},e.name),void 0!==e.render?e.render({value:o[e.id],onChange:t=>n(t,e.id),fieldCSSClasses:a,required:s,form:i.id},F):F("input",{className:a.text,id:t,form:i.id,type:e.type||"text",required:s,value:o[e.id],placeholder:e.placeholder,onInput:t=>n(t.target.value,e.id),"data-uppy-super-focusable":!0}))})}function ia(e){var t,{files:r,fileCardFor:n,toggleFileCard:i,saveFileCard:o,metaFields:a,requiredMetaFields:s,openFileEditor:l,i18n:u,i18nArray:c,className:p,canEditFile:h}=e,d=r[n],v=null!=(t="function"===typeof a?a(r[n]):a)?t:[],g=h(d),m={};v.forEach(e=>{var t;m[e.id]=null!=(t=d.meta[e.id])?t:""});var[y,b]=Yn(m),_=ei(e=>{e.preventDefault(),o(y,n)},[o,y,n]),w=()=>{i(!1)},[P]=Yn(()=>{var e=document.createElement("form");return e.setAttribute("tabindex","-1"),e.id=uo(),e});return Qn(()=>(document.body.appendChild(P),P.addEventListener("submit",_),()=>{P.removeEventListener("submit",_),document.body.removeChild(P)}),[P,_]),F("div",{className:le("uppy-Dashboard-FileCard",p),"data-uppy-panelType":"FileCard",onDragOver:Vo,onDragLeave:Vo,onDrop:Vo,onPaste:Vo},F("div",{className:"uppy-DashboardContent-bar"},F("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},c("editing",{file:F("span",{className:"uppy-DashboardContent-titleFile"},d.meta?d.meta.name:d.name)})),F("button",{className:"uppy-DashboardContent-back",type:"button",form:P.id,title:u("finishEditingFile"),onClick:w},u("cancel"))),F("div",{className:"uppy-Dashboard-FileCard-inner"},F("div",{className:"uppy-Dashboard-FileCard-preview",style:{backgroundColor:Po(d.type).color}},F(So,{file:d}),g&&F("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-Dashboard-FileCard-edit",onClick:e=>{_(e),l(d)}},u("editImage"))),F("div",{className:"uppy-Dashboard-FileCard-info"},F(na,{computedMetaFields:v,requiredMetaFields:s,updateMeta:(e,t)=>{b((0,f.A)((0,f.A)({},y),{},{[t]:e}))},form:P,formState:y})),F("div",{className:"uppy-Dashboard-FileCard-actions"},F("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Dashboard-FileCard-actionsBtn",type:"submit",form:P.id},u("saveChanges")),F("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-link uppy-Dashboard-FileCard-actionsBtn",type:"button",onClick:w,form:P.id},u("cancel")))))}var oa="uppy-transition-slideDownUp";const aa=function(e){var{children:t}=e,[r,n]=Yn(null),[i,o]=Yn(""),a=Zn(),s=Zn(),l=Zn();return Qn(()=>{var e=N(t)[0];r!==e&&(e&&!r?(o("".concat(oa,"-enter")),cancelAnimationFrame(l.current),clearTimeout(s.current),s.current=void 0,l.current=requestAnimationFrame(()=>{o("".concat(oa,"-enter ").concat(oa,"-enter-active")),a.current=setTimeout(()=>{o("")},250)})):!r||e||s.current||(o("".concat(oa,"-leave")),cancelAnimationFrame(l.current),clearTimeout(a.current),a.current=void 0,l.current=requestAnimationFrame(()=>{o("".concat(oa,"-leave ").concat(oa,"-leave-active")),s.current=setTimeout(()=>{n(null),o("")},250)})),n(e))},[t,r]),Qn(()=>()=>{clearTimeout(a.current),clearTimeout(s.current),cancelAnimationFrame(l.current)},[]),r?$(r,{className:le(i,r.props.className)}):null};function sa(){return sa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sa.apply(this,arguments)}const la={strings:{closeModal:"Close Modal",addMoreFiles:"Add more files",addingMoreFiles:"Adding more files",importFrom:"Import from %{name}",dashboardWindowTitle:"Uppy Dashboard Window (Press escape to close)",dashboardTitle:"Uppy Dashboard",copyLinkToClipboardSuccess:"Link copied to clipboard.",copyLinkToClipboardFallback:"Copy the URL below",copyLink:"Copy link",back:"Back",removeFile:"Remove file",editFile:"Edit file",editImage:"Edit image",editing:"Editing %{file}",error:"Error",finishEditingFile:"Finish editing file",saveChanges:"Save changes",myDevice:"My Device",dropHint:"Drop your files here",uploadComplete:"Upload complete",uploadPaused:"Upload paused",resumeUpload:"Resume upload",pauseUpload:"Pause upload",retryUpload:"Retry upload",cancelUpload:"Cancel upload",xFilesSelected:{0:"%{smart_count} file selected",1:"%{smart_count} files selected"},uploadingXFiles:{0:"Uploading %{smart_count} file",1:"Uploading %{smart_count} files"},processingXFiles:{0:"Processing %{smart_count} file",1:"Processing %{smart_count} files"},poweredBy:"Powered by %{uppy}",addMore:"Add more",editFileWithFilename:"Edit file %{file}",save:"Save",cancel:"Cancel",dropPasteFiles:"Drop files here or %{browseFiles}",dropPasteFolders:"Drop files here or %{browseFolders}",dropPasteBoth:"Drop files here, %{browseFiles} or %{browseFolders}",dropPasteImportFiles:"Drop files here, %{browseFiles} or import from:",dropPasteImportFolders:"Drop files here, %{browseFolders} or import from:",dropPasteImportBoth:"Drop files here, %{browseFiles}, %{browseFolders} or import from:",importFiles:"Import files from:",browseFiles:"browse files",browseFolders:"browse folders",recoveredXFiles:{0:"We could not fully recover 1 file. Please re-select it and resume the upload.",1:"We could not fully recover %{smart_count} files. Please re-select them and resume the upload."},recoveredAllFiles:"We restored all files. You can now resume the upload.",sessionRestored:"Session restored",reSelect:"Re-select",missingRequiredMetaFields:{0:"Missing required meta field: %{fields}.",1:"Missing required meta fields: %{fields}."},takePictureBtn:"Take Picture",recordVideoBtn:"Record Video"}};function ua(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var ca=0;function pa(e){return"__private_"+ca+++"_"+e}var ha=fo.default||fo;function da(){var e={};return e.promise=new Promise((t,r)=>{e.resolve=t,e.reject=r}),e}var fa={target:"body",metaFields:[],inline:!1,width:750,height:550,thumbnailWidth:280,thumbnailType:"image/jpeg",waitForThumbnailsBeforeUpload:!1,defaultPickerIcon:zi,showLinkToFileUploadResult:!1,showProgressDetails:!1,hideUploadButton:!1,hideCancelButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideProgressAfterFinish:!1,note:null,closeModalOnClickOutside:!1,closeAfterFinish:!1,singleFileFullScreen:!0,disableStatusBar:!1,disableInformer:!1,disableThumbnailGenerator:!1,disablePageScrollWhenModalOpen:!0,animateOpenClose:!0,fileManagerSelectionType:"files",proudlyDisplayPoweredByUppy:!0,showSelectedFiles:!0,showRemoveButtonAfterComplete:!1,browserBackButtonClose:!1,showNativePhotoCameraButton:!1,showNativeVideoCameraButton:!1,theme:"light",autoOpen:null,autoOpenFileEditor:!1,disabled:!1,disableLocalFiles:!1,doneButtonHandler:void 0,onRequestCloseModal:null},va=pa("disabledNodes"),ga=pa("generateLargeThumbnailIfSingleFile"),ma=pa("openFileEditorWhenFilesAdded"),ya=pa("attachRenderFunctionToTarget"),ba=pa("isTargetSupported"),_a=pa("getAcquirers"),wa=pa("getProgressIndicators"),Pa=pa("getEditors"),Sa=pa("addSpecifiedPluginsFromOptions"),Aa=pa("autoDiscoverPlugins"),Fa=pa("addSupportedPluginIfNoTarget");class Ca extends oe{constructor(e,t){var r,n,i;i=t?void 0===t.autoOpen?t.autoOpenFileEditor?"imageEditor":null:t.autoOpen:null,super(e,(0,f.A)((0,f.A)((0,f.A)({},fa),t),{},{autoOpen:i})),r=this,Object.defineProperty(this,va,{writable:!0,value:void 0}),this.modalName="uppy-Dashboard-".concat(uo()),this.superFocus=function(){var e=!1;return bo((t,r)=>{var n=go(t,r),i=n.contains(document.activeElement);if(!i||!e){var o=n.querySelector("[data-uppy-super-focusable]");if(!i||o)if(o)o.focus({preventScroll:!0}),e=!0;else{var a=n.querySelector(vo);null==a||a.focus({preventScroll:!0}),e=!1}}},260)}(),this.ifFocusedOnUppyRecently=!1,this.removeTarget=e=>{var t=this.getPluginState().targets.filter(t=>t.id!==e.id);this.setPluginState({targets:t})},this.addTarget=e=>{var t=e.id||e.constructor.name,r=e.title||t,n=e.type;if("acquirer"!==n&&"progressindicator"!==n&&"editor"!==n){return this.uppy.log("Dashboard: can only be targeted by plugins of types: acquirer, progressindicator, editor","error"),null}var i={id:t,name:r,type:n},o=this.getPluginState().targets.slice();return o.push(i),this.setPluginState({targets:o}),this.el},this.hideAllPanels=()=>{var e,t=this.getPluginState(),r={activePickerPanel:void 0,showAddFilesPanel:!1,activeOverlayType:null,fileCardFor:null,showFileEditor:!1};t.activePickerPanel===r.activePickerPanel&&t.showAddFilesPanel===r.showAddFilesPanel&&t.showFileEditor===r.showFileEditor&&t.activeOverlayType===r.activeOverlayType||(this.setPluginState(r),this.uppy.emit("dashboard:close-panel",null==(e=t.activePickerPanel)?void 0:e.id))},this.showPanel=e=>{var{targets:t}=this.getPluginState(),r=t.find(t=>"acquirer"===t.type&&t.id===e);this.setPluginState({activePickerPanel:r,activeOverlayType:"PickerPanel"}),this.uppy.emit("dashboard:show-panel",e)},this.canEditFile=e=>{var{targets:t}=this.getPluginState();return ua(this,Pa)[Pa](t).some(t=>this.uppy.getPlugin(t.id).canEditFile(e))},this.openFileEditor=e=>{var{targets:t}=this.getPluginState(),r=ua(this,Pa)[Pa](t);this.setPluginState({showFileEditor:!0,fileCardFor:e.id||null,activeOverlayType:"FileEditor"}),r.forEach(t=>{this.uppy.getPlugin(t.id).selectFile(e)})},this.closeFileEditor=()=>{var{metaFields:e}=this.getPluginState();e&&e.length>0?this.setPluginState({showFileEditor:!1,activeOverlayType:"FileCard"}):this.setPluginState({showFileEditor:!1,fileCardFor:null,activeOverlayType:"AddFiles"})},this.saveFileEditor=()=>{var{targets:e}=this.getPluginState();ua(this,Pa)[Pa](e).forEach(e=>{this.uppy.getPlugin(e.id).save()}),this.closeFileEditor()},this.openModal=()=>{var{promise:e,resolve:t}=da();if(this.savedScrollPosition=window.pageYOffset,this.savedActiveElement=document.activeElement,this.opts.disablePageScrollWhenModalOpen&&document.body.classList.add("uppy-Dashboard-isFixed"),this.opts.animateOpenClose&&this.getPluginState().isClosing){var r=()=>{this.setPluginState({isHidden:!1}),this.el.removeEventListener("animationend",r,!1),t()};this.el.addEventListener("animationend",r,!1)}else this.setPluginState({isHidden:!1}),t();return this.opts.browserBackButtonClose&&this.updateBrowserHistory(),document.addEventListener("keydown",this.handleKeyDownInModal),this.uppy.emit("dashboard:modal-open"),e},this.closeModal=e=>{var t,r=null==(t=null==e?void 0:e.manualClose)||t,{isHidden:n,isClosing:i}=this.getPluginState();if(!n&&!i){var o,{promise:a,resolve:s}=da();if(this.opts.disablePageScrollWhenModalOpen&&document.body.classList.remove("uppy-Dashboard-isFixed"),this.opts.animateOpenClose){this.setPluginState({isClosing:!0});var l=()=>{this.setPluginState({isHidden:!0,isClosing:!1}),this.superFocus.cancel(),this.savedActiveElement.focus(),this.el.removeEventListener("animationend",l,!1),s()};this.el.addEventListener("animationend",l,!1)}else this.setPluginState({isHidden:!0}),this.superFocus.cancel(),this.savedActiveElement.focus(),s();if(document.removeEventListener("keydown",this.handleKeyDownInModal),r)if(this.opts.browserBackButtonClose)null!=(o=history.state)&&o[this.modalName]&&history.back();return this.uppy.emit("dashboard:modal-closed"),a}},this.isModalOpen=()=>!this.getPluginState().isHidden||!1,this.requestCloseModal=()=>this.opts.onRequestCloseModal?this.opts.onRequestCloseModal():this.closeModal(),this.setDarkModeCapability=e=>{var{capabilities:t}=this.uppy.getState();this.uppy.setState({capabilities:(0,f.A)((0,f.A)({},t),{},{darkMode:e})})},this.handleSystemDarkModeChange=e=>{var t=e.matches;this.uppy.log("[Dashboard] Dark mode is ".concat(t?"on":"off")),this.setDarkModeCapability(t)},this.toggleFileCard=(e,t)=>{var r=this.uppy.getFile(t);e?this.uppy.emit("dashboard:file-edit-start",r):this.uppy.emit("dashboard:file-edit-complete",r),this.setPluginState({fileCardFor:e?t:null,activeOverlayType:e?"FileCard":null})},this.toggleAddFilesPanel=e=>{this.setPluginState({showAddFilesPanel:e,activeOverlayType:e?"AddFiles":null})},this.addFiles=e=>{var t=e.map(e=>({source:this.id,name:e.name,type:e.type,data:e,meta:{relativePath:e.relativePath||e.webkitRelativePath||null}}));try{this.uppy.addFiles(t)}catch(r){this.uppy.log(r)}},this.startListeningToResize=()=>{this.resizeObserver=new ResizeObserver(e=>{var t=e[0],{width:r,height:n}=t.contentRect;this.setPluginState({containerWidth:r,containerHeight:n,areInsidesReadyToBeVisible:!0})}),this.resizeObserver.observe(this.el.querySelector(".uppy-Dashboard-inner")),this.makeDashboardInsidesVisibleAnywayTimeout=setTimeout(()=>{var e=this.getPluginState(),t=!this.opts.inline&&e.isHidden;e.areInsidesReadyToBeVisible||t||(this.uppy.log("[Dashboard] resize event didn\u2019t fire on time: defaulted to mobile layout","warning"),this.setPluginState({areInsidesReadyToBeVisible:!0}))},1e3)},this.stopListeningToResize=()=>{this.resizeObserver.disconnect(),clearTimeout(this.makeDashboardInsidesVisibleAnywayTimeout)},this.recordIfFocusedOnUppyRecently=e=>{this.el.contains(e.target)?this.ifFocusedOnUppyRecently=!0:(this.ifFocusedOnUppyRecently=!1,this.superFocus.cancel())},this.disableInteractiveElements=e=>{var t,r=null!=(t=ua(this,va)[va])?t:Nr(this.el.querySelectorAll(["a[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])",'[role="button"]:not([disabled])'])).filter(e=>!e.classList.contains("uppy-Dashboard-close"));for(var n of r)"A"===n.tagName?n.setAttribute("aria-disabled",e):n.disabled=e;ua(this,va)[va]=e?r:null,this.dashboardIsDisabled=e},this.updateBrowserHistory=()=>{var e;null!=(e=history.state)&&e[this.modalName]||history.pushState((0,f.A)((0,f.A)({},history.state),{},{[this.modalName]:!0}),""),window.addEventListener("popstate",this.handlePopState,!1)},this.handlePopState=e=>{var t;!this.isModalOpen()||e.state&&e.state[this.modalName]||this.closeModal({manualClose:!1}),!this.isModalOpen()&&null!=(t=e.state)&&t[this.modalName]&&history.back()},this.handleKeyDownInModal=e=>{27===e.keyCode&&this.requestCloseModal(),9===e.keyCode&&yo(e,this.getPluginState().activeOverlayType,this.el)},this.handleClickOutside=()=>{this.opts.closeModalOnClickOutside&&this.requestCloseModal()},this.handlePaste=e=>{this.uppy.iteratePlugins(t=>{"acquirer"===t.type&&(null==t.handleRootPaste||t.handleRootPaste(e))});var t=Nr(e.clipboardData.files);t.length>0&&(this.uppy.log("[Dashboard] Files pasted"),this.addFiles(t))},this.handleInputChange=e=>{e.preventDefault();var t=Nr(e.target.files);t.length>0&&(this.uppy.log("[Dashboard] Files selected through input"),this.addFiles(t))},this.handleDragOver=e=>{var t,r;e.preventDefault(),e.stopPropagation();var n=(()=>{var t=!0;return this.uppy.iteratePlugins(r=>{null!=r.canHandleRootDrop&&r.canHandleRootDrop(e)&&(t=!0)}),t})(),i=(()=>{var{types:t}=e.dataTransfer;return t.some(e=>"Files"===e)})();if(!n&&!i||this.opts.disabled||this.opts.disableLocalFiles&&(i||!n)||!this.uppy.getState().allowNewUpload)return e.dataTransfer.dropEffect="none",void clearTimeout(this.removeDragOverClassTimeout);e.dataTransfer.dropEffect="copy",clearTimeout(this.removeDragOverClassTimeout),this.setPluginState({isDraggingOver:!0}),null==(t=(r=this.opts).onDragOver)||t.call(r,e)},this.handleDragLeave=e=>{var t,r;e.preventDefault(),e.stopPropagation(),clearTimeout(this.removeDragOverClassTimeout),this.removeDragOverClassTimeout=setTimeout(()=>{this.setPluginState({isDraggingOver:!1})},50),null==(t=(r=this.opts).onDragLeave)||t.call(r,e)},this.handleDrop=function(){var e=(0,y.A)(function*(e){var t,n;e.preventDefault(),e.stopPropagation(),clearTimeout(r.removeDragOverClassTimeout),r.setPluginState({isDraggingOver:!1}),r.uppy.iteratePlugins(t=>{"acquirer"===t.type&&(null==t.handleRootDrop||t.handleRootDrop(e))});var i=!1;r.uppy.log("[Dashboard] Processing dropped files");var o=yield Xr(e.dataTransfer,{logDropError:e=>{r.uppy.log(e,"error"),i||(r.uppy.info(e.message,"error"),i=!0)}});o.length>0&&(r.uppy.log("[Dashboard] Files dropped"),r.addFiles(o)),null==(t=(n=r.opts).onDrop)||t.call(n,e)});return function(t){return e.apply(this,arguments)}}(),this.handleRequestThumbnail=e=>{this.opts.waitForThumbnailsBeforeUpload||this.uppy.emit("thumbnail:request",e)},this.handleCancelThumbnail=e=>{this.opts.waitForThumbnailsBeforeUpload||this.uppy.emit("thumbnail:cancel",e)},this.handleKeyDownInInline=e=>{9===e.keyCode&&function(e,t,r){null===t||yo(e,t,r)}(e,this.getPluginState().activeOverlayType,this.el)},this.handlePasteOnBody=e=>{this.el.contains(document.activeElement)&&this.handlePaste(e)},this.handleComplete=e=>{var{failed:t}=e;!this.opts.closeAfterFinish||null!=t&&t.length||this.requestCloseModal()},this.handleCancelRestore=()=>{this.uppy.emit("restore-canceled")},Object.defineProperty(this,ga,{writable:!0,value:()=>{if(!this.opts.disableThumbnailGenerator){var e=this.uppy.getFiles();if(1===e.length){var t=this.uppy.getPlugin("".concat(this.id,":ThumbnailGenerator"));null==t||t.setOptions({thumbnailWidth:600});var r=(0,f.A)((0,f.A)({},e[0]),{},{preview:void 0});null==t||t.requestThumbnail(r).then(()=>{null==t||t.setOptions({thumbnailWidth:this.opts.thumbnailWidth})})}}}}),Object.defineProperty(this,ma,{writable:!0,value:e=>{var t=e[0],{metaFields:r}=this.getPluginState(),n=r&&r.length>0,i=this.canEditFile(t);n&&"metaEditor"===this.opts.autoOpen?this.toggleFileCard(!0,t.id):i&&"imageEditor"===this.opts.autoOpen&&this.openFileEditor(t)}}),this.initEvents=()=>{if(this.opts.trigger&&!this.opts.inline){var e=Rr(this.opts.trigger);e?e.forEach(e=>e.addEventListener("click",this.openModal)):this.uppy.log("Dashboard modal trigger not found. Make sure `trigger` is set in Dashboard options, unless you are planning to call `dashboard.openModal()` method yourself","warning")}this.startListeningToResize(),document.addEventListener("paste",this.handlePasteOnBody),this.uppy.on("plugin-added",ua(this,Fa)[Fa]),this.uppy.on("plugin-remove",this.removeTarget),this.uppy.on("file-added",this.hideAllPanels),this.uppy.on("dashboard:modal-closed",this.hideAllPanels),this.uppy.on("complete",this.handleComplete),this.uppy.on("files-added",ua(this,ga)[ga]),this.uppy.on("file-removed",ua(this,ga)[ga]),document.addEventListener("focus",this.recordIfFocusedOnUppyRecently,!0),document.addEventListener("click",this.recordIfFocusedOnUppyRecently,!0),this.opts.inline&&this.el.addEventListener("keydown",this.handleKeyDownInInline),this.opts.autoOpen&&this.uppy.on("files-added",ua(this,ma)[ma])},this.removeEvents=()=>{var e=Rr(this.opts.trigger);!this.opts.inline&&e&&e.forEach(e=>e.removeEventListener("click",this.openModal)),this.stopListeningToResize(),document.removeEventListener("paste",this.handlePasteOnBody),window.removeEventListener("popstate",this.handlePopState,!1),this.uppy.off("plugin-added",ua(this,Fa)[Fa]),this.uppy.off("plugin-remove",this.removeTarget),this.uppy.off("file-added",this.hideAllPanels),this.uppy.off("dashboard:modal-closed",this.hideAllPanels),this.uppy.off("complete",this.handleComplete),this.uppy.off("files-added",ua(this,ga)[ga]),this.uppy.off("file-removed",ua(this,ga)[ga]),document.removeEventListener("focus",this.recordIfFocusedOnUppyRecently),document.removeEventListener("click",this.recordIfFocusedOnUppyRecently),this.opts.inline&&this.el.removeEventListener("keydown",this.handleKeyDownInInline),this.opts.autoOpen&&this.uppy.off("files-added",ua(this,ma)[ma])},this.superFocusOnEachUpdate=()=>{var e=this.el.contains(document.activeElement),t=document.activeElement===document.body||null===document.activeElement,r=0===this.uppy.getState().info.length,n=!this.opts.inline;r&&(n||e||t&&this.ifFocusedOnUppyRecently)?this.superFocus(this.el,this.getPluginState().activeOverlayType):this.superFocus.cancel()},this.afterUpdate=()=>{!this.opts.disabled||this.dashboardIsDisabled?(!this.opts.disabled&&this.dashboardIsDisabled&&this.disableInteractiveElements(!1),this.superFocusOnEachUpdate()):this.disableInteractiveElements(!0)},this.saveFileCard=(e,t)=>{this.uppy.setFileMeta(t,e),this.toggleFileCard(!1,t)},Object.defineProperty(this,ya,{writable:!0,value:e=>{var t=this.uppy.getPlugin(e.id);return(0,f.A)((0,f.A)({},e),{},{icon:t.icon||this.opts.defaultPickerIcon,render:t.render})}}),Object.defineProperty(this,ba,{writable:!0,value:e=>{var t=this.uppy.getPlugin(e.id);return"function"!==typeof t.isSupported||t.isSupported()}}),Object.defineProperty(this,_a,{writable:!0,value:ha(e=>e.filter(e=>"acquirer"===e.type&&ua(this,ba)[ba](e)).map(ua(this,ya)[ya]))}),Object.defineProperty(this,wa,{writable:!0,value:ha(e=>e.filter(e=>"progressindicator"===e.type).map(ua(this,ya)[ya]))}),Object.defineProperty(this,Pa,{writable:!0,value:ha(e=>e.filter(e=>"editor"===e.type).map(ua(this,ya)[ya]))}),this.render=e=>{var t,r=this.getPluginState(),{files:n,capabilities:i,allowNewUpload:o}=e,{newFiles:a,uploadStartedFiles:s,completeFiles:l,erroredFiles:u,inProgressFiles:c,inProgressNotPausedFiles:p,processingFiles:h,isUploadStarted:d,isAllComplete:f,isAllErrored:v,isAllPaused:g}=this.uppy.getObjectOfFilesPerState(),m=ua(this,_a)[_a](r.targets),y=ua(this,wa)[wa](r.targets),b=ua(this,Pa)[Pa](r.targets);return t="auto"===this.opts.theme?i.darkMode?"dark":"light":this.opts.theme,["files","folders","both"].indexOf(this.opts.fileManagerSelectionType)<0&&(this.opts.fileManagerSelectionType="files",console.warn('Unsupported option for "fileManagerSelectionType". Using default of "'.concat(this.opts.fileManagerSelectionType,'".'))),function(e){var t=0===e.totalFileCount,r=1===e.totalFileCount,n=e.containerWidth>576,i=e.containerHeight>330,o=le({"uppy-Dashboard":!0,"uppy-Dashboard--isDisabled":e.disabled,"uppy-Dashboard--animateOpenClose":e.animateOpenClose,"uppy-Dashboard--isClosing":e.isClosing,"uppy-Dashboard--isDraggingOver":e.isDraggingOver,"uppy-Dashboard--modal":!e.inline,"uppy-size--md":e.containerWidth>576,"uppy-size--lg":e.containerWidth>700,"uppy-size--xl":e.containerWidth>900,"uppy-size--height-md":e.containerHeight>330,"uppy-Dashboard--isAddFilesPanelVisible":e.showAddFilesPanel,"uppy-Dashboard--isInnerWrapVisible":e.areInsidesReadyToBeVisible,"uppy-Dashboard--singleFile":e.singleFileFullScreen&&r&&i}),a=1;e.containerWidth>900?a=5:e.containerWidth>700?a=4:e.containerWidth>576&&(a=3);var s=e.showSelectedFiles&&!t,l=e.recoveredState?Object.keys(e.recoveredState.files).length:null,u=e.files?Object.keys(e.files).filter(t=>e.files[t].isGhost).length:null;return F("div",{className:o,"data-uppy-theme":e.theme,"data-uppy-num-acquirers":e.acquirers.length,"data-uppy-drag-drop-supported":!e.disableLocalFiles&&_o(),"aria-hidden":e.inline?"false":e.isHidden,"aria-disabled":e.disabled,"aria-label":e.inline?e.i18n("dashboardTitle"):e.i18n("dashboardWindowTitle"),onPaste:e.handlePaste,onDragOver:e.handleDragOver,onDragLeave:e.handleDragLeave,onDrop:e.handleDrop},F("div",{"aria-hidden":"true",className:"uppy-Dashboard-overlay",tabIndex:-1,onClick:e.handleClickOutside}),F("div",{className:"uppy-Dashboard-inner","aria-modal":!e.inline&&"true",role:e.inline?void 0:"dialog",style:{width:e.inline&&e.width?e.width:"",height:e.inline&&e.height?e.height:""}},e.inline?null:F("button",{className:"uppy-u-reset uppy-Dashboard-close",type:"button","aria-label":e.i18n("closeModal"),title:e.i18n("closeModal"),onClick:e.closeModal},F("span",{"aria-hidden":"true"},"\xd7")),F("div",{className:"uppy-Dashboard-innerWrap"},F("div",{className:"uppy-Dashboard-dropFilesHereHint"},e.i18n("dropHint")),s&&F(ra,e),l&&F("div",{className:"uppy-Dashboard-serviceMsg"},F("svg",{className:"uppy-Dashboard-serviceMsg-icon","aria-hidden":"true",focusable:"false",width:"21",height:"16",viewBox:"0 0 24 19"},F("g",{transform:"translate(0 -1)",fill:"none",fillRule:"evenodd"},F("path",{d:"M12.857 1.43l10.234 17.056A1 1 0 0122.234 20H1.766a1 1 0 01-.857-1.514L11.143 1.429a1 1 0 011.714 0z",fill:"#FFD300"}),F("path",{fill:"#000",d:"M11 6h2l-.3 8h-1.4z"}),F("circle",{fill:"#000",cx:"12",cy:"17",r:"1"}))),F("strong",{className:"uppy-Dashboard-serviceMsg-title"},e.i18n("sessionRestored")),F("div",{className:"uppy-Dashboard-serviceMsg-text"},u>0?e.i18n("recoveredXFiles",{smart_count:u}):e.i18n("recoveredAllFiles"))),s?F(qo,{id:e.id,error:e.error,i18n:e.i18n,uppy:e.uppy,files:e.files,acquirers:e.acquirers,resumableUploads:e.resumableUploads,hideRetryButton:e.hideRetryButton,hidePauseResumeButton:e.hidePauseResumeButton,hideCancelButton:e.hideCancelButton,showLinkToFileUploadResult:e.showLinkToFileUploadResult,showRemoveButtonAfterComplete:e.showRemoveButtonAfterComplete,isWide:e.isWide,metaFields:e.metaFields,toggleFileCard:e.toggleFileCard,handleRequestThumbnail:e.handleRequestThumbnail,handleCancelThumbnail:e.handleCancelThumbnail,recoveredState:e.recoveredState,individualCancellation:e.individualCancellation,openFileEditor:e.openFileEditor,canEditFile:e.canEditFile,toggleAddFilesPanel:e.toggleAddFilesPanel,isSingleFile:r,itemsPerRow:a}):F(Ho,sa({},e,{isSizeMD:n})),F(aa,null,e.showAddFilesPanel?F(Wo,sa({key:"AddFiles"},e,{isSizeMD:n})):null),F(aa,null,e.fileCardFor?F(ia,sa({key:"FileCard"},e)):null),F(aa,null,e.activePickerPanel?F(Go,sa({key:"Picker"},e)):null),F(aa,null,e.showFileEditor?F(Ko,sa({key:"Editor"},e)):null),F("div",{className:"uppy-Dashboard-progressindicators"},e.progressindicators.map(t=>e.uppy.getPlugin(t.id).render(e.state))))))}({state:e,isHidden:r.isHidden,files:n,newFiles:a,uploadStartedFiles:s,completeFiles:l,erroredFiles:u,inProgressFiles:c,inProgressNotPausedFiles:p,processingFiles:h,isUploadStarted:d,isAllComplete:f,isAllErrored:v,isAllPaused:g,totalFileCount:Object.keys(n).length,totalProgress:e.totalProgress,allowNewUpload:o,acquirers:m,theme:t,disabled:this.opts.disabled,disableLocalFiles:this.opts.disableLocalFiles,direction:this.opts.direction,activePickerPanel:r.activePickerPanel,showFileEditor:r.showFileEditor,saveFileEditor:this.saveFileEditor,closeFileEditor:this.closeFileEditor,disableInteractiveElements:this.disableInteractiveElements,animateOpenClose:this.opts.animateOpenClose,isClosing:r.isClosing,progressindicators:y,editors:b,autoProceed:this.uppy.opts.autoProceed,id:this.id,closeModal:this.requestCloseModal,handleClickOutside:this.handleClickOutside,handleInputChange:this.handleInputChange,handlePaste:this.handlePaste,inline:this.opts.inline,showPanel:this.showPanel,hideAllPanels:this.hideAllPanels,i18n:this.i18n,i18nArray:this.i18nArray,uppy:this.uppy,note:this.opts.note,recoveredState:e.recoveredState,metaFields:r.metaFields,resumableUploads:i.resumableUploads||!1,individualCancellation:i.individualCancellation,isMobileDevice:i.isMobileDevice,fileCardFor:r.fileCardFor,toggleFileCard:this.toggleFileCard,toggleAddFilesPanel:this.toggleAddFilesPanel,showAddFilesPanel:r.showAddFilesPanel,saveFileCard:this.saveFileCard,openFileEditor:this.openFileEditor,canEditFile:this.canEditFile,width:this.opts.width,height:this.opts.height,showLinkToFileUploadResult:this.opts.showLinkToFileUploadResult,fileManagerSelectionType:this.opts.fileManagerSelectionType,proudlyDisplayPoweredByUppy:this.opts.proudlyDisplayPoweredByUppy,hideCancelButton:this.opts.hideCancelButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,showRemoveButtonAfterComplete:this.opts.showRemoveButtonAfterComplete,containerWidth:r.containerWidth,containerHeight:r.containerHeight,areInsidesReadyToBeVisible:r.areInsidesReadyToBeVisible,isTargetDOMEl:this.isTargetDOMEl,parentElement:this.el,allowedFileTypes:this.uppy.opts.restrictions.allowedFileTypes,maxNumberOfFiles:this.uppy.opts.restrictions.maxNumberOfFiles,requiredMetaFields:this.uppy.opts.restrictions.requiredMetaFields,showSelectedFiles:this.opts.showSelectedFiles,showNativePhotoCameraButton:this.opts.showNativePhotoCameraButton,showNativeVideoCameraButton:this.opts.showNativeVideoCameraButton,nativeCameraFacingMode:this.opts.nativeCameraFacingMode,singleFileFullScreen:this.opts.singleFileFullScreen,handleCancelRestore:this.handleCancelRestore,handleRequestThumbnail:this.handleRequestThumbnail,handleCancelThumbnail:this.handleCancelThumbnail,isDraggingOver:r.isDraggingOver,handleDragOver:this.handleDragOver,handleDragLeave:this.handleDragLeave,handleDrop:this.handleDrop})},Object.defineProperty(this,Sa,{writable:!0,value:()=>{(this.opts.plugins||[]).forEach(e=>{var t=this.uppy.getPlugin(e);t?t.mount(this,t):this.uppy.log("[Uppy] Dashboard could not find plugin '".concat(e,"', make sure to uppy.use() the plugins you are specifying"),"warning")})}}),Object.defineProperty(this,Aa,{writable:!0,value:()=>{this.uppy.iteratePlugins(ua(this,Fa)[Fa])}}),Object.defineProperty(this,Fa,{writable:!0,value:e=>{var t;!e||null!=(t=e.opts)&&t.target||!["acquirer","editor"].includes(e.type)||(this.getPluginState().targets.some(t=>e.id===t.id)||e.mount(this,e))}}),this.install=()=>{this.setPluginState({isHidden:!0,fileCardFor:null,activeOverlayType:null,showAddFilesPanel:!1,activePickerPanel:void 0,showFileEditor:!1,metaFields:this.opts.metaFields,targets:[],areInsidesReadyToBeVisible:!1,isDraggingOver:!1});var{inline:e,closeAfterFinish:t}=this.opts;if(e&&t)throw new Error("[Dashboard] `closeAfterFinish: true` cannot be used on an inline Dashboard, because an inline Dashboard cannot be closed at all. Either set `inline: false`, or disable the `closeAfterFinish` option.");var{allowMultipleUploads:r,allowMultipleUploadBatches:n}=this.uppy.opts;(r||n)&&t&&this.uppy.log("[Dashboard] When using `closeAfterFinish`, we recommended setting the `allowMultipleUploadBatches` option to `false` in the Uppy constructor. See https://uppy.io/docs/uppy/#allowMultipleUploads-true","warning");var{target:i}=this.opts;i&&this.mount(i,this),this.opts.disableStatusBar||this.uppy.use(Ve,{id:"".concat(this.id,":StatusBar"),target:this,hideUploadButton:this.opts.hideUploadButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,hideCancelButton:this.opts.hideCancelButton,showProgressDetails:this.opts.showProgressDetails,hideAfterFinish:this.opts.hideProgressAfterFinish,locale:this.opts.locale,doneButtonHandler:this.opts.doneButtonHandler}),this.opts.disableInformer||this.uppy.use(et,{id:"".concat(this.id,":Informer"),target:this}),this.opts.disableThumbnailGenerator||this.uppy.use(Ir,{id:"".concat(this.id,":ThumbnailGenerator"),thumbnailWidth:this.opts.thumbnailWidth,thumbnailHeight:this.opts.thumbnailHeight,thumbnailType:this.opts.thumbnailType,waitForThumbnailsBeforeUpload:this.opts.waitForThumbnailsBeforeUpload,lazy:!this.opts.waitForThumbnailsBeforeUpload}),this.darkModeMediaQuery="undefined"!==typeof window&&window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)"):null;var o,a=!!this.darkModeMediaQuery&&this.darkModeMediaQuery.matches;(this.uppy.log("[Dashboard] Dark mode is ".concat(a?"on":"off")),this.setDarkModeCapability(a),"auto"===this.opts.theme)&&(null==(o=this.darkModeMediaQuery)||o.addListener(this.handleSystemDarkModeChange));ua(this,Sa)[Sa](),ua(this,Aa)[Aa](),this.initEvents()},this.uninstall=()=>{if(!this.opts.disableInformer){var e=this.uppy.getPlugin("".concat(this.id,":Informer"));e&&this.uppy.removePlugin(e)}if(!this.opts.disableStatusBar){var t=this.uppy.getPlugin("".concat(this.id,":StatusBar"));t&&this.uppy.removePlugin(t)}if(!this.opts.disableThumbnailGenerator){var r=this.uppy.getPlugin("".concat(this.id,":ThumbnailGenerator"));r&&this.uppy.removePlugin(r)}var n;((this.opts.plugins||[]).forEach(e=>{var t=this.uppy.getPlugin(e);t&&t.unmount()}),"auto"===this.opts.theme)&&(null==(n=this.darkModeMediaQuery)||n.removeListener(this.handleSystemDarkModeChange));this.opts.disablePageScrollWhenModalOpen&&document.body.classList.remove("uppy-Dashboard-isFixed"),this.unmount(),this.removeEvents()},this.id=this.opts.id||"Dashboard",this.title="Dashboard",this.type="orchestrator",this.defaultLocale=la,void 0===this.opts.doneButtonHandler&&(this.opts.doneButtonHandler=()=>{this.uppy.clearUploadedFiles(),this.requestCloseModal()}),null!=(n=this.opts).onRequestCloseModal||(n.onRequestCloseModal=()=>this.closeModal()),this.i18nInit()}}Ca.VERSION="3.9.1";var Oa=r(36907),ka=m.instanceOf(Oa.A),Ea=m.arrayOf(m.string),xa=m.shape({strings:m.object,pluralize:m.func}),Ta=m.shape({id:m.string.isRequired,name:m.string.isRequired,placeholder:m.string}),Ua=m.oneOfType([m.arrayOf(Ta),m.func]),Da=m.oneOfType([m.string,m.number]),Ia=["defaultChecked","defaultValue","suppressContentEditableWarning","suppressHydrationWarning","dangerouslySetInnerHTML","accessKey","className","contentEditable","contextMenu","dir","draggable","hidden","id","lang","placeholder","slot","spellCheck","style","tabIndex","title","translate","radioGroup","role","about","datatype","inlist","prefix","property","resource","typeof","vocab","autoCapitalize","autoCorrect","autoSave","color","itemProp","itemScope","itemType","itemID","itemRef","results","security","unselectable","inputMode","is","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Ra=/^(aria-|data-)/;const Na=e=>Object.fromEntries(Object.entries(e).filter(e=>{var[t]=e;return Ra.test(t)||Ia.includes(t)}));function ja(e,t){return Object.keys(e).some(r=>!Object.hasOwn(e,r)&&e[r]!==t[r])}var Ba=["uppy"],La=["uppy"];class Ma extends g.Component{componentDidMount(){this.installPlugin()}componentDidUpdate(e){if(e.uppy!==this.props.uppy)this.uninstallPlugin(e),this.installPlugin();else if(ja(this.props,e)){var t=(0,f.A)((0,f.A)({},this.props),{},{target:this.container}),{uppy:r}=t,n=(0,v.A)(t,Ba);this.plugin.setOptions(n)}}componentWillUnmount(){this.uninstallPlugin()}installPlugin(){var e=(0,f.A)((0,f.A)({id:"react:Dashboard",inline:!0},this.props),{},{target:this.container}),{uppy:t}=e,r=(0,v.A)(e,La);t.use(Ca,r),this.plugin=t.getPlugin(r.id)}uninstallPlugin(e){void 0===e&&(e=this.props);var{uppy:t}=e;t.removePlugin(this.plugin)}render(){return(0,g.createElement)("div",(0,f.A)({className:"uppy-Container",ref:e=>{this.container=e}},Na(this.props)))}}Ma.propsTypes={uppy:ka,disableInformer:m.bool,disableStatusBar:m.bool,disableThumbnailGenerator:m.bool,height:Da,hideProgressAfterFinish:m.bool,hideUploadButton:m.bool,locale:xa,metaFields:Ua,note:m.string,plugins:Ea,proudlyDisplayPoweredByUppy:m.bool,showProgressDetails:m.bool,width:Da,thumbnailType:m.string,thumbnailWidth:m.number};var za=["uppy"],qa=["target","open","onRequestClose","uppy"];class Ha extends g.Component{componentDidMount(){this.installPlugin()}componentDidUpdate(e){var{uppy:t,open:r,onRequestClose:n}=this.props;if(e.uppy!==t)this.uninstallPlugin(e),this.installPlugin();else if(ja(this.props,e)){var i=(0,f.A)((0,f.A)({},this.props),{},{inline:!1,onRequestCloseModal:n}),{uppy:o}=i,a=(0,v.A)(i,za);this.plugin.setOptions(a)}e.open&&!r?this.plugin.closeModal():!e.open&&r&&this.plugin.openModal()}componentWillUnmount(){this.uninstallPlugin()}installPlugin(){var e=this.props,{target:t=this.container,open:r,onRequestClose:n,uppy:i}=e,o=(0,v.A)(e,qa),a=(0,f.A)((0,f.A)({},o),{},{id:"react:DashboardModal",inline:!1,target:t,open:r,onRequestCloseModal:n});i.use(Ca,a),this.plugin=i.getPlugin(a.id),r&&this.plugin.openModal()}uninstallPlugin(e){void 0===e&&(e=this.props);var{uppy:t}=e;t.removePlugin(this.plugin)}render(){return(0,g.createElement)("div",(0,f.A)({className:"uppy-Container",ref:e=>{this.container=e}},Na(this.props)))}}Ha.propTypes={uppy:ka.isRequired,target:"undefined"!==typeof window?m.instanceOf(window.HTMLElement):m.any,open:m.bool,onRequestClose:m.func,closeModalOnClickOutside:m.bool,disablePageScrollWhenModalOpen:m.bool,plugins:Ea,width:Da,height:Da,showProgressDetails:m.bool,note:m.string,metaFields:Ua,proudlyDisplayPoweredByUppy:m.bool,autoOpenFileEditor:m.bool,animateOpenClose:m.bool,browserBackButtonClose:m.bool,closeAfterFinish:m.bool,disableStatusBar:m.bool,disableInformer:m.bool,disableThumbnailGenerator:m.bool,disableLocalFiles:m.bool,disabled:m.bool,hideCancelButton:m.bool,hidePauseResumeButton:m.bool,hideProgressAfterFinish:m.bool,hideRetryButton:m.bool,hideUploadButton:m.bool,showLinkToFileUploadResult:m.bool,showRemoveButtonAfterComplete:m.bool,showSelectedFiles:m.bool,waitForThumbnailsBeforeUpload:m.bool,fileManagerSelectionType:m.string,theme:m.string,thumbnailType:m.string,thumbnailWidth:m.number,locale:xa},Ha.defaultProps={metaFields:[],plugins:[],width:750,height:550,thumbnailWidth:280,thumbnailType:"image/jpeg",waitForThumbnailsBeforeUpload:!1,showLinkToFileUploadResult:!1,showProgressDetails:!1,hideUploadButton:!1,hideCancelButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideProgressAfterFinish:!1,note:null,closeModalOnClickOutside:!1,closeAfterFinish:!1,disableStatusBar:!1,disableInformer:!1,disableThumbnailGenerator:!1,disablePageScrollWhenModalOpen:!0,animateOpenClose:!0,fileManagerSelectionType:"files",proudlyDisplayPoweredByUppy:!0,showSelectedFiles:!0,showRemoveButtonAfterComplete:!1,browserBackButtonClose:!1,theme:"light",autoOpenFileEditor:!1,disabled:!1,disableLocalFiles:!1,open:void 0,target:void 0,locale:null,onRequestClose:void 0};const Wa={strings:{dropHereOr:"Drop here or %{browse}",browse:"browse"}};var Va={inputName:"files[]",width:"100%",height:"100%"};class Ga extends oe{constructor(e,t){var r;super(e,(0,f.A)((0,f.A)({},Va),t)),r=this,this.isDragDropSupported=_o(),this.addFiles=e=>{var t=e.map(e=>({source:this.id,name:e.name,type:e.type,data:e,meta:{relativePath:e.relativePath||null}}));try{this.uppy.addFiles(t)}catch(r){this.uppy.log(r)}},this.onInputChange=e=>{var t=Nr(e.target.files);t.length>0&&(this.uppy.log("[DragDrop] Files selected through input"),this.addFiles(t)),e.target.value=null},this.handleDragOver=e=>{var t,r;e.preventDefault(),e.stopPropagation();var{types:n}=e.dataTransfer,i=n.some(e=>"Files"===e),{allowNewUpload:o}=this.uppy.getState();if(!i||!o)return e.dataTransfer.dropEffect="none",void clearTimeout(this.removeDragOverClassTimeout);e.dataTransfer.dropEffect="copy",clearTimeout(this.removeDragOverClassTimeout),this.setPluginState({isDraggingOver:!0}),null==(t=(r=this.opts).onDragOver)||t.call(r,e)},this.handleDragLeave=e=>{var t,r;e.preventDefault(),e.stopPropagation(),clearTimeout(this.removeDragOverClassTimeout),this.removeDragOverClassTimeout=setTimeout(()=>{this.setPluginState({isDraggingOver:!1})},50),null==(t=(r=this.opts).onDragLeave)||t.call(r,e)},this.handleDrop=function(){var e=(0,y.A)(function*(e){var t,n;e.preventDefault(),e.stopPropagation(),clearTimeout(r.removeDragOverClassTimeout),r.setPluginState({isDraggingOver:!1});var i=yield Xr(e.dataTransfer,{logDropError:e=>{r.uppy.log(e,"error")}});i.length>0&&(r.uppy.log("[DragDrop] Files dropped"),r.addFiles(i)),null==(t=(n=r.opts).onDrop)||t.call(n,e)});return function(t){return e.apply(this,arguments)}}(),this.type="acquirer",this.id=this.opts.id||"DragDrop",this.title="Drag & Drop",this.defaultLocale=Wa,this.i18nInit()}renderHiddenFileInput(){var{restrictions:e}=this.uppy.opts;return F("input",{className:"uppy-DragDrop-input",type:"file",hidden:!0,ref:e=>{this.fileInputRef=e},name:this.opts.inputName,multiple:1!==e.maxNumberOfFiles,accept:e.allowedFileTypes,onChange:this.onInputChange})}static renderArrowSvg(){return F("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-DragDrop-arrow",width:"16",height:"16",viewBox:"0 0 16 16"},F("path",{d:"M11 10V0H5v10H2l6 6 6-6h-3zm0 0",fillRule:"evenodd"}))}renderLabel(){return F("div",{className:"uppy-DragDrop-label"},this.i18nArray("dropHereOr",{browse:F("span",{className:"uppy-DragDrop-browse"},this.i18n("browse"))}))}renderNote(){return F("span",{className:"uppy-DragDrop-note"},this.opts.note)}render(){return F("button",{type:"button",className:"uppy-u-reset\n      uppy-DragDrop-container\n      ".concat(this.isDragDropSupported?"uppy-DragDrop--isDragDropSupported":"","\n      ").concat(this.getPluginState().isDraggingOver?"uppy-DragDrop--isDraggingOver":"","\n    "),style:{width:this.opts.width,height:this.opts.height},onClick:()=>this.fileInputRef.click(),onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop},this.renderHiddenFileInput(),F("div",{className:"uppy-DragDrop-inner"},Ga.renderArrowSvg(),this.renderLabel(),this.renderNote()))}install(){var{target:e}=this.opts;this.setPluginState({isDraggingOver:!1}),e&&this.mount(e,this)}uninstall(){this.unmount()}}Ga.VERSION="3.1.1";var Ka=["uppy"];class Xa extends g.Component{componentDidMount(){this.installPlugin()}componentDidUpdate(e){if(e.uppy!==this.props.uppy)this.uninstallPlugin(e),this.installPlugin();else if(ja(this.props,e)){var t=(0,f.A)((0,f.A)({},this.props),{},{target:this.container}),{uppy:r}=t,n=(0,v.A)(t,Ka);this.plugin.setOptions(n)}}componentWillUnmount(){this.uninstallPlugin()}installPlugin(){var{uppy:e,locale:t,inputName:r,width:n,height:i,note:o}=this.props,a={id:"react:DragDrop",locale:t,inputName:r,width:n,height:i,note:o,target:this.container};e.use(Ga,a),this.plugin=e.getPlugin(a.id)}uninstallPlugin(e){void 0===e&&(e=this.props);var{uppy:t}=e;t.removePlugin(this.plugin)}render(){return(0,g.createElement)("div",(0,f.A)({className:"uppy-Container",ref:e=>{this.container=e}},Na(this.props)))}}Xa.propTypes={uppy:ka.isRequired,locale:xa,inputName:m.string,width:m.string,height:m.string,note:m.string},Xa.defaultProps={locale:null,inputName:"files[]",width:"100%",height:"100%",note:null};const $a=Xa;var Ya={target:"body",fixed:!1,hideAfterFinish:!0};class Qa extends oe{constructor(e,t){super(e,(0,f.A)((0,f.A)({},Ya),t)),this.id=this.opts.id||"ProgressBar",this.title="Progress Bar",this.type="progressindicator",this.render=this.render.bind(this)}render(e){var t=e.totalProgress||0,r=(0===t||100===t)&&this.opts.hideAfterFinish;return F("div",{className:"uppy uppy-ProgressBar",style:{position:this.opts.fixed?"fixed":"initial"},"aria-hidden":r},F("div",{className:"uppy-ProgressBar-inner",style:{width:"".concat(t,"%")}}),F("div",{className:"uppy-ProgressBar-percentage"},t))}install(){var{target:e}=this.opts;e&&this.mount(e,this)}uninstall(){this.unmount()}}Qa.VERSION="3.1.1";var Za=["uppy"];class Ja extends g.Component{componentDidMount(){this.installPlugin()}componentDidUpdate(e){if(e.uppy!==this.props.uppy)this.uninstallPlugin(e),this.installPlugin();else if(ja(this.props,e)){var t=(0,f.A)((0,f.A)({},this.props),{},{target:this.container}),{uppy:r}=t,n=(0,v.A)(t,Za);this.plugin.setOptions(n)}}componentWillUnmount(){this.uninstallPlugin()}installPlugin(){var{uppy:e,fixed:t,hideAfterFinish:r}=this.props,n={id:"react:ProgressBar",fixed:t,hideAfterFinish:r,target:this.container};e.use(Qa,n),this.plugin=e.getPlugin(n.id)}uninstallPlugin(e){void 0===e&&(e=this.props);var{uppy:t}=e;t.removePlugin(this.plugin)}render(){return(0,g.createElement)("div",(0,f.A)({className:"uppy-Container",ref:e=>{this.container=e}},Na(this.props)))}}Ja.propTypes={uppy:ka.isRequired,fixed:m.bool,hideAfterFinish:m.bool},Ja.defaultProps={fixed:!1,hideAfterFinish:!0};var es=["uppy"];class ts extends g.Component{componentDidMount(){this.installPlugin()}componentDidUpdate(e){if(e.uppy!==this.props.uppy)this.uninstallPlugin(e),this.installPlugin();else if(ja(this.props,e)){var t=(0,f.A)((0,f.A)({},this.props),{},{target:this.container}),{uppy:r}=t,n=(0,v.A)(t,es);this.plugin.setOptions(n)}}componentWillUnmount(){this.uninstallPlugin()}installPlugin(){var{uppy:e,hideUploadButton:t,hideRetryButton:r,hidePauseResumeButton:n,hideCancelButton:i,showProgressDetails:o,hideAfterFinish:a,doneButtonHandler:s}=this.props,l={id:"react:StatusBar",hideUploadButton:t,hideRetryButton:r,hidePauseResumeButton:n,hideCancelButton:i,showProgressDetails:o,hideAfterFinish:a,doneButtonHandler:s,target:this.container};e.use(Ve,l),this.plugin=e.getPlugin(l.id)}uninstallPlugin(e){void 0===e&&(e=this.props);var{uppy:t}=e;t.removePlugin(this.plugin)}render(){return(0,g.createElement)("div",(0,f.A)({className:"uppy-Container",ref:e=>{this.container=e}},Na(this.props)))}}ts.propTypes={uppy:ka.isRequired,hideUploadButton:m.bool,hideRetryButton:m.bool,hidePauseResumeButton:m.bool,hideCancelButton:m.bool,showProgressDetails:m.bool,hideAfterFinish:m.bool,doneButtonHandler:m.func},ts.defaultProps={hideUploadButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideCancelButton:!1,showProgressDetails:!1,hideAfterFinish:!0,doneButtonHandler:null};const rs={strings:{chooseFiles:"Choose files"}};var ns={pretty:!0,inputName:"files[]"};class is extends oe{constructor(e,t){super(e,(0,f.A)((0,f.A)({},ns),t)),this.id=this.opts.id||"FileInput",this.title="File Input",this.type="acquirer",this.defaultLocale=rs,this.i18nInit(),this.render=this.render.bind(this),this.handleInputChange=this.handleInputChange.bind(this),this.handleClick=this.handleClick.bind(this)}addFiles(e){var t=e.map(e=>({source:this.id,name:e.name,type:e.type,data:e}));try{this.uppy.addFiles(t)}catch(r){this.uppy.log(r)}}handleInputChange(e){this.uppy.log("[FileInput] Something selected through input...");var t=Nr(e.target.files);this.addFiles(t),e.target.value=null}handleClick(){this.input.click()}render(){var{restrictions:e}=this.uppy.opts,t=e.allowedFileTypes?e.allowedFileTypes.join(","):void 0;return F("div",{className:"uppy-FileInput-container"},F("input",{className:"uppy-FileInput-input",style:this.opts.pretty?{width:"0.1px",height:"0.1px",opacity:0,overflow:"hidden",position:"absolute",zIndex:-1}:void 0,type:"file",name:this.opts.inputName,onChange:this.handleInputChange,multiple:1!==e.maxNumberOfFiles,accept:t,ref:e=>{this.input=e}}),this.opts.pretty&&F("button",{className:"uppy-FileInput-btn",type:"button",onClick:this.handleClick},this.i18n("chooseFiles")))}install(){var{target:e}=this.opts;e&&this.mount(e,this)}uninstall(){this.unmount()}}is.VERSION="3.1.2";class os extends g.Component{componentDidMount(){this.installPlugin()}componentDidUpdate(e){e.uppy!==this.props.uppy&&(this.uninstallPlugin(e),this.installPlugin())}componentWillUnmount(){this.uninstallPlugin()}installPlugin(){var{uppy:e,locale:t,pretty:r,inputName:n}=this.props,i={id:"react:FileInput",locale:t,pretty:r,inputName:n,target:this.container};e.use(is,i),this.plugin=e.getPlugin(i.id)}uninstallPlugin(e){void 0===e&&(e=this.props);var{uppy:t}=e;t.removePlugin(this.plugin)}render(){return(0,g.createElement)("div",{className:"uppy-Container",ref:e=>{this.container=e}})}}os.propTypes={uppy:ka.isRequired,locale:xa,pretty:m.bool,inputName:m.string},os.defaultProps={locale:void 0,pretty:!0,inputName:"files[]"};const as=os},1717:e=>{e.exports=function(){var e={},t=e._fns={};return e.emit=function(e,r,n,i,o,a,s){var l=function(e){var r=t[e]?t[e]:[],n=e.indexOf(":"),i=-1===n?[e]:[e.substring(0,n),e.substring(n+1)],o=Object.keys(t),a=0,s=o.length;for(;a<s;a++){var l=o[a];if("*"===l&&(r=r.concat(t[l])),2===i.length&&i[0]===l){r=r.concat(t[l]);break}}return r}(e);l.length&&function(e,t,r){var n=0,i=t.length;for(;n<i&&t[n];n++)t[n].event=e,t[n].apply(t[n],r)}(e,l,[r,n,i,o,a,s])},e.on=function(e,r){t[e]||(t[e]=[]),t[e].push(r)},e.once=function(t,r){this.on(t,function n(){r.apply(this,arguments),e.off(t,n)})},e.off=function(e,t){var r=[];if(e&&t)for(var n=this._fns[e],i=0,o=n?n.length:0;i<o;i++)n[i]!==t&&r.push(n[i]);r.length?this._fns[e]=r:delete this._fns[e]},e}},4635:(e,t,r)=>{var n=r(14759).Symbol;e.exports=n},11942:(e,t,r)=>{e.exports=r(43488)()},14759:(e,t,r)=>{var n=r(16658),i="object"==typeof self&&self&&self.Object===Object&&self,o=n||i||Function("return this")();e.exports=o},16658:(e,t,r)=>{var n="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;e.exports=n},22022:(e,t,r)=>{var n=r(4635),i=r(81581),o=r(65336),a=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):o(e)}},23134:(e,t,r)=>{"use strict";var n=r(69005),i=r(29382),o=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,a=/[\n\r\t]/g,s=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,l=/:\d+$/,u=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,c=/^[a-zA-Z]:/;function p(e){return(e||"").toString().replace(o,"")}var h=[["#","hash"],["?","query"],function(e,t){return v(t.protocol)?e.replace(/\\/g,"/"):e},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],d={hash:1,query:1};function f(e){var t,n=("undefined"!==typeof window?window:"undefined"!==typeof r.g?r.g:"undefined"!==typeof self?self:{}).location||{},i={},o=typeof(e=e||n);if("blob:"===e.protocol)i=new m(unescape(e.pathname),{});else if("string"===o)for(t in i=new m(e,{}),d)delete i[t];else if("object"===o){for(t in e)t in d||(i[t]=e[t]);void 0===i.slashes&&(i.slashes=s.test(e.href))}return i}function v(e){return"file:"===e||"ftp:"===e||"http:"===e||"https:"===e||"ws:"===e||"wss:"===e}function g(e,t){e=(e=p(e)).replace(a,""),t=t||{};var r,n=u.exec(e),i=n[1]?n[1].toLowerCase():"",o=!!n[2],s=!!n[3],l=0;return o?s?(r=n[2]+n[3]+n[4],l=n[2].length+n[3].length):(r=n[2]+n[4],l=n[2].length):s?(r=n[3]+n[4],l=n[3].length):r=n[4],"file:"===i?l>=2&&(r=r.slice(2)):v(i)?r=n[4]:i?o&&(r=r.slice(2)):l>=2&&v(t.protocol)&&(r=n[4]),{protocol:i,slashes:o||v(i),slashesCount:l,rest:r}}function m(e,t,r){if(e=(e=p(e)).replace(a,""),!(this instanceof m))return new m(e,t,r);var o,s,l,u,d,y,b=h.slice(),_=typeof t,w=this,P=0;for("object"!==_&&"string"!==_&&(r=t,t=null),r&&"function"!==typeof r&&(r=i.parse),o=!(s=g(e||"",t=f(t))).protocol&&!s.slashes,w.slashes=s.slashes||o&&t.slashes,w.protocol=s.protocol||t.protocol||"",e=s.rest,("file:"===s.protocol&&(2!==s.slashesCount||c.test(e))||!s.slashes&&(s.protocol||s.slashesCount<2||!v(w.protocol)))&&(b[3]=[/(.*)/,"pathname"]);P<b.length;P++)"function"!==typeof(u=b[P])?(l=u[0],y=u[1],l!==l?w[y]=e:"string"===typeof l?~(d="@"===l?e.lastIndexOf(l):e.indexOf(l))&&("number"===typeof u[2]?(w[y]=e.slice(0,d),e=e.slice(d+u[2])):(w[y]=e.slice(d),e=e.slice(0,d))):(d=l.exec(e))&&(w[y]=d[1],e=e.slice(0,d.index)),w[y]=w[y]||o&&u[3]&&t[y]||"",u[4]&&(w[y]=w[y].toLowerCase())):e=u(e,w);r&&(w.query=r(w.query)),o&&t.slashes&&"/"!==w.pathname.charAt(0)&&(""!==w.pathname||""!==t.pathname)&&(w.pathname=function(e,t){if(""===e)return t;for(var r=(t||"/").split("/").slice(0,-1).concat(e.split("/")),n=r.length,i=r[n-1],o=!1,a=0;n--;)"."===r[n]?r.splice(n,1):".."===r[n]?(r.splice(n,1),a++):a&&(0===n&&(o=!0),r.splice(n,1),a--);return o&&r.unshift(""),"."!==i&&".."!==i||r.push(""),r.join("/")}(w.pathname,t.pathname)),"/"!==w.pathname.charAt(0)&&v(w.protocol)&&(w.pathname="/"+w.pathname),n(w.port,w.protocol)||(w.host=w.hostname,w.port=""),w.username=w.password="",w.auth&&(~(d=w.auth.indexOf(":"))?(w.username=w.auth.slice(0,d),w.username=encodeURIComponent(decodeURIComponent(w.username)),w.password=w.auth.slice(d+1),w.password=encodeURIComponent(decodeURIComponent(w.password))):w.username=encodeURIComponent(decodeURIComponent(w.auth)),w.auth=w.password?w.username+":"+w.password:w.username),w.origin="file:"!==w.protocol&&v(w.protocol)&&w.host?w.protocol+"//"+w.host:"null",w.href=w.toString()}m.prototype={set:function(e,t,r){var o=this;switch(e){case"query":"string"===typeof t&&t.length&&(t=(r||i.parse)(t)),o[e]=t;break;case"port":o[e]=t,n(t,o.protocol)?t&&(o.host=o.hostname+":"+t):(o.host=o.hostname,o[e]="");break;case"hostname":o[e]=t,o.port&&(t+=":"+o.port),o.host=t;break;case"host":o[e]=t,l.test(t)?(t=t.split(":"),o.port=t.pop(),o.hostname=t.join(":")):(o.hostname=t,o.port="");break;case"protocol":o.protocol=t.toLowerCase(),o.slashes=!r;break;case"pathname":case"hash":if(t){var a="pathname"===e?"/":"#";o[e]=t.charAt(0)!==a?a+t:t}else o[e]=t;break;case"username":case"password":o[e]=encodeURIComponent(t);break;case"auth":var s=t.indexOf(":");~s?(o.username=t.slice(0,s),o.username=encodeURIComponent(decodeURIComponent(o.username)),o.password=t.slice(s+1),o.password=encodeURIComponent(decodeURIComponent(o.password))):o.username=encodeURIComponent(decodeURIComponent(t))}for(var u=0;u<h.length;u++){var c=h[u];c[4]&&(o[c[1]]=o[c[1]].toLowerCase())}return o.auth=o.password?o.username+":"+o.password:o.username,o.origin="file:"!==o.protocol&&v(o.protocol)&&o.host?o.protocol+"//"+o.host:"null",o.href=o.toString(),o},toString:function(e){e&&"function"===typeof e||(e=i.stringify);var t,r=this,n=r.host,o=r.protocol;o&&":"!==o.charAt(o.length-1)&&(o+=":");var a=o+(r.protocol&&r.slashes||v(r.protocol)?"//":"");return r.username?(a+=r.username,r.password&&(a+=":"+r.password),a+="@"):r.password?(a+=":"+r.password,a+="@"):"file:"!==r.protocol&&v(r.protocol)&&!n&&"/"!==r.pathname&&(a+="@"),(":"===n[n.length-1]||l.test(r.hostname)&&!r.port)&&(n+=":"),a+=n+r.pathname,(t="object"===typeof r.query?e(r.query):r.query)&&(a+="?"!==t.charAt(0)?"?"+t:t),r.hash&&(a+=r.hash),a}},m.extractProtocol=g,m.location=f,m.trimLeft=p,m.qs=i,e.exports=m},24567:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},29382:(e,t)=>{"use strict";var r=Object.prototype.hasOwnProperty;function n(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return null}}function i(e){try{return encodeURIComponent(e)}catch(t){return null}}t.stringify=function(e,t){t=t||"";var n,o,a=[];for(o in"string"!==typeof t&&(t="?"),e)if(r.call(e,o)){if((n=e[o])||null!==n&&undefined!==n&&!isNaN(n)||(n=""),o=i(o),n=i(n),null===o||null===n)continue;a.push(o+"="+n)}return a.length?t+a.join("&"):""},t.parse=function(e){for(var t,r=/([^=?#&]+)=?([^&]*)/g,i={};t=r.exec(e);){var o=n(t[1]),a=n(t[2]);null===o||null===a||o in i||(i[o]=a)}return i}},34378:(e,t,r)=>{var n=r(14759);e.exports=function(){return n.Date.now()}},35584:(e,t,r)=>{"use strict";r.d(t,{A:()=>h});var n=r(89379);function i(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var o=0;function a(e){return"__private_"+o+++"_"+e}function s(e,t,r){var n=[];return e.forEach(e=>"string"!==typeof e?n.push(e):t[Symbol.split](e).forEach((e,t,i)=>{""!==e&&n.push(e),t<i.length-1&&n.push(r)})),n}function l(e,t){var r=/\$/g,n=[e];if(null==t)return n;for(var i of Object.keys(t))if("_"!==i){var o=t[i];"string"===typeof o&&(o=r[Symbol.replace](o,"$$$$")),n=s(n,new RegExp("%\\{".concat(i,"\\}"),"g"),o)}return n}var u=e=>{throw new Error("missing string: ".concat(e))},c=a("onMissingKey"),p=a("apply");class h{constructor(e,t){var{onMissingKey:r=u}=void 0===t?{}:t;Object.defineProperty(this,p,{value:d}),Object.defineProperty(this,c,{writable:!0,value:void 0}),this.locale={strings:{},pluralize:e=>1===e?0:1},Array.isArray(e)?e.forEach(i(this,p)[p],this):i(this,p)[p](e),i(this,c)[c]=r}translate(e,t){return this.translateArray(e,t).join("")}translateArray(e,t){var r=this.locale.strings[e];if(null==r&&(i(this,c)[c](e),r=e),"object"===typeof r){if(t&&"undefined"!==typeof t.smart_count)return l(r[this.locale.pluralize(t.smart_count)],t);throw new Error("Attempted to use a string with plural forms, but no value was given for %{smart_count}")}if("string"!==typeof r)throw new Error("string was not a string");return l(r,t)}}function d(e){if(null!=e&&e.strings){var t=this.locale;Object.assign(this.locale,{strings:(0,n.A)((0,n.A)({},t.strings),e.strings),pluralize:e.pluralize||t.pluralize})}}},36907:(e,t,r)=>{"use strict";r.d(t,{A:()=>me});var n=r(10467),i=r(89379),o=r(35584),a=r(1717),s=r(80492);function l(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var u=0;function c(e){return"__private_"+u+++"_"+e}var p=c("callbacks"),h=c("publish");class d{constructor(){Object.defineProperty(this,h,{value:f}),this.state={},Object.defineProperty(this,p,{writable:!0,value:new Set})}getState(){return this.state}setState(e){var t=(0,i.A)({},this.state),r=(0,i.A)((0,i.A)({},this.state),e);this.state=r,l(this,h)[h](t,r,e)}subscribe(e){return l(this,p)[p].add(e),()=>{l(this,p)[p].delete(e)}}}function f(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];l(this,p)[p].forEach(e=>{e(...t)})}d.VERSION="3.2.2";const v=d;var g=r(69856),m=r(98943),y=r(64918);function b(e){if(null==e&&"undefined"!==typeof navigator&&(e=navigator.userAgent),!e)return!0;var t=/Edge\/(\d+\.\d+)/.exec(e);if(!t)return!0;var r=t[1].split(".",2),n=parseInt(r[0],10),i=parseInt(r[1],10);return n<15||15===n&&i<15063||(n>18||18===n&&i>=18218)}function _(e){return e<10?"0".concat(e):e.toString()}function w(){var e=new Date,t=_(e.getHours()),r=_(e.getMinutes()),n=_(e.getSeconds());return"".concat(t,":").concat(r,":").concat(n)}var P={debug:()=>{},warn:()=>{},error:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return console.error("[Uppy] [".concat(w(),"]"),...t)}},S={debug:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return console.debug("[Uppy] [".concat(w(),"]"),...t)},warn:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return console.warn("[Uppy] [".concat(w(),"]"),...t)},error:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return console.error("[Uppy] [".concat(w(),"]"),...t)}},A=r(40127),F=r(71451),C={maxFileSize:null,minFileSize:null,maxTotalFileSize:null,maxNumberOfFiles:null,minNumberOfFiles:null,allowedFileTypes:null,requiredMetaFields:[]};class O extends Error{constructor(e,t){var r;super(e),this.isRestriction=!0,this.isUserFacing=null==(r=null==t?void 0:t.isUserFacing)||r,null!=t&&t.file&&(this.file=t.file)}}class k{constructor(e,t){this.getI18n=t,this.getOpts=()=>{var t,r=e();if(null!=(null==(t=r.restrictions)?void 0:t.allowedFileTypes)&&!Array.isArray(r.restrictions.allowedFileTypes))throw new TypeError("`restrictions.allowedFileTypes` must be an array");return r}}validateAggregateRestrictions(e,t){var{maxTotalFileSize:r,maxNumberOfFiles:n}=this.getOpts().restrictions;if(n&&e.filter(e=>!e.isGhost).length+t.length>n)throw new O("".concat(this.getI18n()("youCanOnlyUploadX",{smart_count:n})));if(r){var i=[...e,...t].reduce((e,t)=>{var r;return e+(null!=(r=t.size)?r:0)},0);if(i>r)throw new O(this.getI18n()("aggregateExceedsSize",{sizeAllowed:A(r),size:A(i)}))}}validateSingleFile(e){var{maxFileSize:t,minFileSize:r,allowedFileTypes:n}=this.getOpts().restrictions;if(n&&!n.some(t=>t.includes("/")?!!e.type&&F(e.type.replace(/;.*?$/,""),t):!("."!==t[0]||!e.extension)&&e.extension.toLowerCase()===t.slice(1).toLowerCase())){var i=n.join(", ");throw new O(this.getI18n()("youCanOnlyUploadFileTypes",{types:i}),{file:e})}if(t&&null!=e.size&&e.size>t)throw new O(this.getI18n()("exceedsSize",{size:A(t),file:e.name}),{file:e});if(r&&null!=e.size&&e.size<r)throw new O(this.getI18n()("inferiorSize",{size:A(r)}),{file:e})}validate(e,t){t.forEach(e=>{this.validateSingleFile(e)}),this.validateAggregateRestrictions(e,t)}validateMinNumberOfFiles(e){var{minNumberOfFiles:t}=this.getOpts().restrictions;if(t&&Object.keys(e).length<t)throw new O(this.getI18n()("youHaveToAtLeastSelectX",{smart_count:t}))}getMissingRequiredMetaFields(e){var t=new O(this.getI18n()("missingRequiredMetaFieldOnFile",{fileName:e.name})),{requiredMetaFields:r}=this.getOpts().restrictions,n=[];for(var i of r)Object.hasOwn(e.meta,i)&&""!==e.meta[i]||n.push(i);return{missingFields:n,error:t}}}const E={strings:{addBulkFilesFailed:{0:"Failed to add %{smart_count} file due to an internal error",1:"Failed to add %{smart_count} files due to internal errors"},youCanOnlyUploadX:{0:"You can only upload %{smart_count} file",1:"You can only upload %{smart_count} files"},youHaveToAtLeastSelectX:{0:"You have to select at least %{smart_count} file",1:"You have to select at least %{smart_count} files"},aggregateExceedsSize:"You selected %{size} of files, but maximum allowed size is %{sizeAllowed}",exceedsSize:"%{file} exceeds maximum allowed size of %{size}",missingRequiredMetaField:"Missing required meta fields",missingRequiredMetaFieldOnFile:"Missing required meta fields in %{fileName}",inferiorSize:"This file is smaller than the allowed size of %{size}",youCanOnlyUploadFileTypes:"You can only upload: %{types}",noMoreFilesAllowed:"Cannot add more files",noDuplicates:"Cannot add the duplicate file '%{fileName}', it already exists",companionError:"Connection with Companion failed",authAborted:"Authentication aborted",companionUnauthorizeHint:"To unauthorize to your %{provider} account, please go to %{url}",failedToUpload:"Failed to upload %{file}",noInternetConnection:"No Internet connection",connectedToInternet:"Connected to the Internet",noFilesFound:"You have no files or folders here",noSearchResults:"Unfortunately, there are no results for this search",selectX:{0:"Select %{smart_count}",1:"Select %{smart_count}"},allFilesFromFolderNamed:"All files from folder %{name}",openFolderNamed:"Open folder %{name}",cancel:"Cancel",logOut:"Log out",filter:"Filter",resetFilter:"Reset filter",loading:"Loading...",loadedXFiles:"Loaded %{numFiles} files",authenticateWithTitle:"Please authenticate with %{pluginName} to select files",authenticateWith:"Connect to %{pluginName}",signInWithGoogle:"Sign in with Google",searchImages:"Search for images",enterTextToSearch:"Enter text to search for images",search:"Search",resetSearch:"Reset search",emptyFolderAdded:"No files were added from empty folder",addedNumFiles:"Added %{numFiles} file(s)",folderAlreadyAdded:'The folder "%{folder}" was already added',folderAdded:{0:"Added %{smart_count} file from %{folder}",1:"Added %{smart_count} files from %{folder}"},additionalRestrictionsFailed:"%{count} additional restrictions were not fulfilled",unnamed:"Unnamed"}};var x,T;function U(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var D=0;function I(e){return"__private_"+D+++"_"+e}var R={totalProgress:0,allowNewUpload:!0,error:null,recoveredState:null},N=I("plugins"),j=I("restricter"),B=I("storeUnsubscribe"),L=I("emitter"),M=I("preProcessors"),z=I("uploaders"),q=I("postProcessors"),H=I("informAndEmit"),W=I("checkRequiredMetaFieldsOnFile"),V=I("checkRequiredMetaFields"),G=I("assertNewUploadAllowed"),K=I("transformFile"),X=I("startIfAutoProceed"),$=I("checkAndUpdateFileState"),Y=I("addListeners"),Q=I("updateOnlineStatus"),Z=I("requestClientById"),J=I("createUpload"),ee=I("getUpload"),te=I("removeUpload"),re=I("runUpload");x=Symbol.for("uppy test: getPlugins"),T=Symbol.for("uppy test: createUpload");class ne{constructor(e){Object.defineProperty(this,re,{value:ve}),Object.defineProperty(this,te,{value:fe}),Object.defineProperty(this,ee,{value:de}),Object.defineProperty(this,J,{value:he}),Object.defineProperty(this,Y,{value:pe}),Object.defineProperty(this,$,{value:ce}),Object.defineProperty(this,X,{value:ue}),Object.defineProperty(this,K,{value:le}),Object.defineProperty(this,G,{value:se}),Object.defineProperty(this,V,{value:ae}),Object.defineProperty(this,W,{value:oe}),Object.defineProperty(this,H,{value:ie}),Object.defineProperty(this,N,{writable:!0,value:Object.create(null)}),Object.defineProperty(this,j,{writable:!0,value:void 0}),Object.defineProperty(this,B,{writable:!0,value:void 0}),Object.defineProperty(this,L,{writable:!0,value:a()}),Object.defineProperty(this,M,{writable:!0,value:new Set}),Object.defineProperty(this,z,{writable:!0,value:new Set}),Object.defineProperty(this,q,{writable:!0,value:new Set}),this.scheduledAutoProceed=null,this.wasOffline=!1,this.calculateProgress=s((e,t)=>{var r=this.getFile(null==e?void 0:e.id);if(null!=e&&r)if(100!==r.progress.percentage){var n=Number.isFinite(t.bytesTotal)&&t.bytesTotal>0;this.setFileState(e.id,{progress:(0,i.A)((0,i.A)({},r.progress),{},{bytesUploaded:t.bytesUploaded,bytesTotal:t.bytesTotal,percentage:n?Math.round(t.bytesUploaded/t.bytesTotal*100):0})}),this.calculateTotalProgress()}else this.log("Not setting progress for a file that has been already uploaded: ".concat(e.id));else this.log("Not setting progress for a file that has been removed: ".concat(null==e?void 0:e.id))},500,{leading:!0,trailing:!0}),Object.defineProperty(this,Q,{writable:!0,value:this.updateOnlineStatus.bind(this)}),Object.defineProperty(this,Z,{writable:!0,value:new Map}),this.defaultLocale=E;var t={id:"uppy",autoProceed:!1,allowMultipleUploadBatches:!0,debug:!1,restrictions:C,meta:{},onBeforeFileAdded:(e,t)=>!Object.hasOwn(t,e.id),onBeforeUpload:e=>e,store:new v,logger:P,infoTimeout:5e3},r=(0,i.A)((0,i.A)({},t),e);this.opts=(0,i.A)((0,i.A)({},r),{},{restrictions:(0,i.A)((0,i.A)({},t.restrictions),e&&e.restrictions)}),e&&e.logger&&e.debug?this.log("You are using a custom `logger`, but also set `debug: true`, which uses built-in logger to output logs to console. Ignoring `debug: true` and using your custom `logger`.","warning"):e&&e.debug&&(this.opts.logger=S),this.log("Using Core v".concat(ne.VERSION)),this.i18nInit(),this.store=this.opts.store,this.setState((0,i.A)((0,i.A)({},R),{},{plugins:{},files:{},currentUploads:{},capabilities:{uploadProgress:b(),individualCancellation:!0,resumableUploads:!1},meta:(0,i.A)({},this.opts.meta),info:[]})),U(this,j)[j]=new k(()=>this.opts,()=>this.i18n),U(this,B)[B]=this.store.subscribe((e,t,r)=>{this.emit("state-update",e,t,r),this.updateAll(t)}),this.opts.debug&&"undefined"!==typeof window&&(window[this.opts.id]=this),U(this,Y)[Y]()}emit(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];U(this,L)[L].emit(e,...r)}on(e,t){return U(this,L)[L].on(e,t),this}once(e,t){return U(this,L)[L].once(e,t),this}off(e,t){return U(this,L)[L].off(e,t),this}updateAll(e){this.iteratePlugins(t=>{t.update(e)})}setState(e){this.store.setState(e)}getState(){return this.store.getState()}patchFilesState(e){var t=this.getState().files;this.setState({files:(0,i.A)((0,i.A)({},t),Object.fromEntries(Object.entries(e).map(e=>{var[r,n]=e;return[r,(0,i.A)((0,i.A)({},t[r]),n)]})))})}setFileState(e,t){if(!this.getState().files[e])throw new Error("Can\u2019t set state for ".concat(e," (the file could have been removed)"));this.patchFilesState({[e]:t})}i18nInit(){var e=new o.A([this.defaultLocale,this.opts.locale],{onMissingKey:e=>this.log("Missing i18n string: ".concat(e),"error")});this.i18n=e.translate.bind(e),this.i18nArray=e.translateArray.bind(e),this.locale=e.locale}setOptions(e){this.opts=(0,i.A)((0,i.A)((0,i.A)({},this.opts),e),{},{restrictions:(0,i.A)((0,i.A)({},this.opts.restrictions),null==e?void 0:e.restrictions)}),e.meta&&this.setMeta(e.meta),this.i18nInit(),e.locale&&this.iteratePlugins(t=>{t.setOptions(e)}),this.setState(void 0)}resetProgress(){var e={percentage:0,bytesUploaded:0,uploadComplete:!1,uploadStarted:null},t=(0,i.A)({},this.getState().files),r={};Object.keys(t).forEach(n=>{r[n]=(0,i.A)((0,i.A)({},t[n]),{},{progress:(0,i.A)((0,i.A)({},t[n].progress),e)})}),this.setState((0,i.A)({files:r},R)),this.emit("reset-progress")}clearUploadedFiles(){var{capabilities:e,currentUploads:t}=this.getState();if(Object.keys(t).length>0&&!e.individualCancellation)throw new Error("The installed uploader plugin does not allow removing files during an upload.");this.setState((0,i.A)((0,i.A)({},R),{},{files:{}}))}addPreProcessor(e){U(this,M)[M].add(e)}removePreProcessor(e){return U(this,M)[M].delete(e)}addPostProcessor(e){U(this,q)[q].add(e)}removePostProcessor(e){return U(this,q)[q].delete(e)}addUploader(e){U(this,z)[z].add(e)}removeUploader(e){return U(this,z)[z].delete(e)}setMeta(e){var t=(0,i.A)((0,i.A)({},this.getState().meta),e),r=(0,i.A)({},this.getState().files);Object.keys(r).forEach(t=>{r[t]=(0,i.A)((0,i.A)({},r[t]),{},{meta:(0,i.A)((0,i.A)({},r[t].meta),e)})}),this.log("Adding metadata:"),this.log(e),this.setState({meta:t,files:r})}setFileMeta(e,t){var r=(0,i.A)({},this.getState().files);if(r[e]){var n=(0,i.A)((0,i.A)({},r[e].meta),t);r[e]=(0,i.A)((0,i.A)({},r[e]),{},{meta:n}),this.setState({files:r})}else this.log("Was trying to set metadata for a file that has been removed: ",e)}getFile(e){return this.getState().files[e]}getFiles(){var{files:e}=this.getState();return Object.values(e)}getFilesByIds(e){return e.map(e=>this.getFile(e))}getObjectOfFilesPerState(){var{files:e,totalProgress:t,error:r}=this.getState(),n=Object.values(e),i=[],o=[],a=[],s=[],l=[],u=[],c=[],p=[],h=[];for(var d of n){var{progress:f}=d;!f.uploadComplete&&f.uploadStarted&&(i.push(d),d.isPaused||p.push(d)),f.uploadStarted||o.push(d),(f.uploadStarted||f.preprocess||f.postprocess)&&a.push(d),f.uploadStarted&&s.push(d),d.isPaused&&l.push(d),f.uploadComplete&&u.push(d),d.error&&c.push(d),(f.preprocess||f.postprocess)&&h.push(d)}return{newFiles:o,startedFiles:a,uploadStartedFiles:s,pausedFiles:l,completeFiles:u,erroredFiles:c,inProgressFiles:i,inProgressNotPausedFiles:p,processingFiles:h,isUploadStarted:s.length>0,isAllComplete:100===t&&u.length===n.length&&0===h.length,isAllErrored:!!r&&c.length===n.length,isAllPaused:0!==i.length&&l.length===i.length,isUploadInProgress:i.length>0,isSomeGhost:n.some(e=>e.isGhost)}}validateRestrictions(e,t){void 0===t&&(t=this.getFiles());try{U(this,j)[j].validate(t,[e])}catch(r){return r}return null}checkIfFileAlreadyExists(e){var{files:t}=this.getState();return!(!t[e]||t[e].isGhost)}addFile(e){U(this,G)[G](e);var{nextFilesState:t,validFilesToAdd:r,errors:n}=U(this,$)[$]([e]),i=n.filter(e=>e.isRestriction);if(U(this,H)[H](i),n.length>0)throw n[0];this.setState({files:t});var[o]=r;return this.emit("file-added",o),this.emit("files-added",r),this.log("Added file: ".concat(o.name,", ").concat(o.id,", mime type: ").concat(o.type)),U(this,X)[X](),o.id}addFiles(e){U(this,G)[G]();var{nextFilesState:t,validFilesToAdd:r,errors:n}=U(this,$)[$](e),i=n.filter(e=>e.isRestriction);U(this,H)[H](i);var o=n.filter(e=>!e.isRestriction);if(o.length>0){var a="Multiple errors occurred while adding files:\n";if(o.forEach(e=>{a+="\n * ".concat(e.message)}),this.info({message:this.i18n("addBulkFilesFailed",{smart_count:o.length}),details:a},"error",this.opts.infoTimeout),"function"===typeof AggregateError)throw new AggregateError(o,a);var s=new Error(a);throw s.errors=o,s}this.setState({files:t}),r.forEach(e=>{this.emit("file-added",e)}),this.emit("files-added",r),r.length>5?this.log("Added batch of ".concat(r.length," files")):Object.values(r).forEach(e=>{this.log("Added file: ".concat(e.name,"\n id: ").concat(e.id,"\n type: ").concat(e.type))}),r.length>0&&U(this,X)[X]()}removeFiles(e,t){var{files:r,currentUploads:n}=this.getState(),o=(0,i.A)({},r),a=(0,i.A)({},n),s=Object.create(null);function l(e){return void 0===s[e]}e.forEach(e=>{r[e]&&(s[e]=r[e],delete o[e])}),Object.keys(a).forEach(e=>{var t=n[e].fileIDs.filter(l);if(0!==t.length){var{capabilities:r}=this.getState();if(t.length!==n[e].fileIDs.length&&!r.individualCancellation)throw new Error("The installed uploader plugin does not allow removing files during an upload.");a[e]=(0,i.A)((0,i.A)({},n[e]),{},{fileIDs:t})}else delete a[e]});var u={currentUploads:a,files:o};0===Object.keys(o).length&&(u.allowNewUpload=!0,u.error=null,u.recoveredState=null),this.setState(u),this.calculateTotalProgress();var c=Object.keys(s);c.forEach(e=>{this.emit("file-removed",s[e],t)}),c.length>5?this.log("Removed ".concat(c.length," files")):this.log("Removed files: ".concat(c.join(", ")))}removeFile(e,t){this.removeFiles([e],t)}pauseResume(e){if(this.getState().capabilities.resumableUploads&&!this.getFile(e).progress.uploadComplete){var t=!(this.getFile(e).isPaused||!1);return this.setFileState(e,{isPaused:t}),this.emit("upload-pause",e,t),t}}pauseAll(){var e=(0,i.A)({},this.getState().files);Object.keys(e).filter(t=>!e[t].progress.uploadComplete&&e[t].progress.uploadStarted).forEach(t=>{var r=(0,i.A)((0,i.A)({},e[t]),{},{isPaused:!0});e[t]=r}),this.setState({files:e}),this.emit("pause-all")}resumeAll(){var e=(0,i.A)({},this.getState().files);Object.keys(e).filter(t=>!e[t].progress.uploadComplete&&e[t].progress.uploadStarted).forEach(t=>{var r=(0,i.A)((0,i.A)({},e[t]),{},{isPaused:!1,error:null});e[t]=r}),this.setState({files:e}),this.emit("resume-all")}retryAll(){var e=(0,i.A)({},this.getState().files),t=Object.keys(e).filter(t=>e[t].error);if(t.forEach(t=>{var r=(0,i.A)((0,i.A)({},e[t]),{},{isPaused:!1,error:null});e[t]=r}),this.setState({files:e,error:null}),this.emit("retry-all",t),0===t.length)return Promise.resolve({successful:[],failed:[]});var r=U(this,J)[J](t,{forceAllowNewUpload:!0});return U(this,re)[re](r)}cancelAll(e){var{reason:t="user"}=void 0===e?{}:e;if(this.emit("cancel-all",{reason:t}),"user"===t){var{files:r}=this.getState(),n=Object.keys(r);n.length&&this.removeFiles(n,"cancel-all"),this.setState(R)}}retryUpload(e){this.setFileState(e,{error:null,isPaused:!1}),this.emit("upload-retry",e);var t=U(this,J)[J]([e],{forceAllowNewUpload:!0});return U(this,re)[re](t)}logout(){this.iteratePlugins(e=>{var t;null==(t=e.provider)||null==t.logout||t.logout()})}calculateTotalProgress(){var e=this.getFiles().filter(e=>e.progress.uploadStarted||e.progress.preprocess||e.progress.postprocess);if(0===e.length)return this.emit("progress",0),void this.setState({totalProgress:0});var t=e.filter(e=>null!=e.progress.bytesTotal),r=e.filter(e=>null==e.progress.bytesTotal);if(0!==t.length){var n=t.reduce((e,t)=>{var r;return e+(null!=(r=t.progress.bytesTotal)?r:0)},0),i=n/t.length;n+=i*r.length;var o=0;t.forEach(e=>{o+=e.progress.bytesUploaded}),r.forEach(e=>{o+=i*(e.progress.percentage||0)/100});var a=0===n?0:Math.round(o/n*100);a>100&&(a=100),this.setState({totalProgress:a}),this.emit("progress",a)}else{var s=100*e.length,l=r.reduce((e,t)=>e+t.progress.percentage,0),u=Math.round(l/s*100);this.setState({totalProgress:u})}}updateOnlineStatus(){var e;null==(e=window.navigator.onLine)||e?(this.emit("is-online"),this.wasOffline&&(this.emit("back-online"),this.info(this.i18n("connectedToInternet"),"success",3e3),this.wasOffline=!1)):(this.emit("is-offline"),this.info(this.i18n("noInternetConnection"),"error",0),this.wasOffline=!0)}getID(){return this.opts.id}use(e,t){if("function"!==typeof e){var r="Expected a plugin class, but got ".concat(null===e?"null":typeof e,".")+" Please verify that the plugin was imported and spelled correctly.";throw new TypeError(r)}var n=new e(this,t),i=n.id;if(!i)throw new Error("Your plugin must have an id");if(!n.type)throw new Error("Your plugin must have a type");var o=this.getPlugin(i);if(o){var a="Already found a plugin named '".concat(o.id,"'. ")+"Tried to use: '".concat(i,"'.\n")+"Uppy plugins must have unique `id` options. See https://uppy.io/docs/plugins/#id.";throw new Error(a)}return e.VERSION&&this.log("Using ".concat(i," v").concat(e.VERSION)),n.type in U(this,N)[N]?U(this,N)[N][n.type].push(n):U(this,N)[N][n.type]=[n],n.install(),this.emit("plugin-added",n),this}getPlugin(e){for(var t of Object.values(U(this,N)[N])){var r=t.find(t=>t.id===e);if(null!=r)return r}}[x](e){return U(this,N)[N][e]}iteratePlugins(e){Object.values(U(this,N)[N]).flat(1).forEach(e)}removePlugin(e){this.log("Removing plugin ".concat(e.id)),this.emit("plugin-remove",e),e.uninstall&&e.uninstall();var t=U(this,N)[N][e.type],r=t.findIndex(t=>t.id===e.id);-1!==r&&t.splice(r,1);var n=this.getState(),o={plugins:(0,i.A)((0,i.A)({},n.plugins),{},{[e.id]:void 0})};this.setState(o)}close(e){var{reason:t}=void 0===e?{}:e;this.log("Closing Uppy instance ".concat(this.opts.id,": removing all files and uninstalling plugins")),this.cancelAll({reason:t}),U(this,B)[B](),this.iteratePlugins(e=>{this.removePlugin(e)}),"undefined"!==typeof window&&window.removeEventListener&&(window.removeEventListener("online",U(this,Q)[Q]),window.removeEventListener("offline",U(this,Q)[Q]))}hideInfo(){var{info:e}=this.getState();this.setState({info:e.slice(1)}),this.emit("info-hidden")}info(e,t,r){void 0===t&&(t="info"),void 0===r&&(r=3e3);var n="object"===typeof e;this.setState({info:[...this.getState().info,{type:t,message:n?e.message:e,details:n?e.details:null}]}),setTimeout(()=>this.hideInfo(),r),this.emit("info-visible")}log(e,t){var{logger:r}=this.opts;switch(t){case"error":r.error(e);break;case"warning":r.warn(e);break;default:r.debug(e)}}registerRequestClient(e,t){U(this,Z)[Z].set(e,t)}getRequestClientForFile(e){if(!e.remote)throw new Error("Tried to get RequestClient for a non-remote file ".concat(e.id));var t=U(this,Z)[Z].get(e.remote.requestClientId);if(null==t)throw new Error('requestClientId "'.concat(e.remote.requestClientId,'" not registered for file "').concat(e.id,'"'));return t}restore(e){return this.log('Core: attempting to restore upload "'.concat(e,'"')),this.getState().currentUploads[e]?U(this,re)[re](e):(U(this,te)[te](e),Promise.reject(new Error("Nonexistent upload")))}[T](){return U(this,J)[J](...arguments)}addResultData(e,t){if(U(this,ee)[ee](e)){var{currentUploads:r}=this.getState(),n=(0,i.A)((0,i.A)({},r[e]),{},{result:(0,i.A)((0,i.A)({},r[e].result),t)});this.setState({currentUploads:(0,i.A)((0,i.A)({},r),{},{[e]:n})})}else this.log("Not setting result for an upload that has been removed: ".concat(e))}upload(){var e;null!=(e=U(this,N)[N].uploader)&&e.length||this.log("No uploader type plugins are used","warning");var{files:t}=this.getState(),r=this.opts.onBeforeUpload(t);return!1===r?Promise.reject(new Error("Not starting the upload because onBeforeUpload returned false")):(r&&"object"===typeof r&&(t=r,this.setState({files:t})),Promise.resolve().then(()=>U(this,j)[j].validateMinNumberOfFiles(t)).catch(e=>{throw U(this,H)[H]([e]),e}).then(()=>{if(!U(this,V)[V](t))throw new O(this.i18n("missingRequiredMetaField"))}).catch(e=>{throw e}).then(()=>{var{currentUploads:e}=this.getState(),r=Object.values(e).flatMap(e=>e.fileIDs),n=[];Object.keys(t).forEach(e=>{var t=this.getFile(e);t.progress.uploadStarted||-1!==r.indexOf(e)||n.push(t.id)});var i=U(this,J)[J](n);return U(this,re)[re](i)}).catch(e=>{throw this.emit("error",e),this.log(e,"error"),e}))}}function ie(e){for(var t of e)t.isRestriction?this.emit("restriction-failed",t.file,t):this.emit("error",t,t.file),this.log(t,"warning");var r=e.filter(e=>e.isUserFacing),n=r.slice(0,4),i=r.slice(4);n.forEach(e=>{var{message:t,details:r=""}=e;this.info({message:t,details:r},"error",this.opts.infoTimeout)}),i.length>0&&this.info({message:this.i18n("additionalRestrictionsFailed",{count:i.length})})}function oe(e){var{missingFields:t,error:r}=U(this,j)[j].getMissingRequiredMetaFields(e);return!(t.length>0)||(this.setFileState(e.id,{missingRequiredMetaFields:t}),this.log(r.message),this.emit("restriction-failed",e,r),!1)}function ae(e){var t=!0;for(var r of Object.values(e))U(this,W)[W](r)||(t=!1);return t}function se(e){var{allowNewUpload:t}=this.getState();if(!1===t){var r=new O(this.i18n("noMoreFilesAllowed"),{file:e});throw U(this,H)[H]([r]),r}}function le(e){var t=e instanceof File?{name:e.name,type:e.type,size:e.size,data:e}:e,r=(0,g.A)(t),n=function(e,t){return t.name?t.name:"image"===e.split("/")[0]?"".concat(e.split("/")[0],".").concat(e.split("/")[1]):"noname"}(r,t),o=(0,m.A)(n).extension,a=(0,y.N)(t,this.getID()),s=t.meta||{};s.name=n,s.type=r;var l=Number.isFinite(t.data.size)?t.data.size:null;return{source:t.source||"",id:a,name:n,extension:o||"",meta:(0,i.A)((0,i.A)({},this.getState().meta),s),type:r,data:t.data,progress:{percentage:0,bytesUploaded:0,bytesTotal:l,uploadComplete:!1,uploadStarted:null},size:l,isGhost:!1,isRemote:t.isRemote||!1,remote:t.remote||"",preview:t.preview}}function ue(){this.opts.autoProceed&&!this.scheduledAutoProceed&&(this.scheduledAutoProceed=setTimeout(()=>{this.scheduledAutoProceed=null,this.upload().catch(e=>{e.isRestriction||this.log(e.stack||e.message||e)})},4))}function ce(e){var{files:t}=this.getState(),r=(0,i.A)({},t),n=[],o=[];for(var a of e)try{var s,l=U(this,K)[K](a),u=null==(s=t[l.id])?void 0:s.isGhost;if(u){var c=t[l.id];l=(0,i.A)((0,i.A)({},c),{},{isGhost:!1,data:a.data}),this.log("Replaced the blob in the restored ghost file: ".concat(l.name,", ").concat(l.id))}var p=this.opts.onBeforeFileAdded(l,r);if(!p&&this.checkIfFileAlreadyExists(l.id))throw new O(this.i18n("noDuplicates",{fileName:l.name}),{file:a});if(!1===p&&!u)throw new O("Cannot add the file because onBeforeFileAdded returned false.",{isUserFacing:!1,file:a});"object"===typeof p&&null!==p&&(l=p),U(this,j)[j].validateSingleFile(l),r[l.id]=l,n.push(l)}catch(h){o.push(h)}try{U(this,j)[j].validateAggregateRestrictions(Object.values(t),n)}catch(h){return o.push(h),{nextFilesState:t,validFilesToAdd:[],errors:o}}return{nextFilesState:r,validFilesToAdd:n,errors:o}}function pe(){var e=(e,t,r)=>{var n=e.message||"Unknown error";e.details&&(n+=" ".concat(e.details)),this.setState({error:n}),null!=t&&t.id in this.getState().files&&this.setFileState(t.id,{error:n,response:r})};this.on("error",e),this.on("upload-error",(t,r,n)=>{if(e(r,t,n),"object"===typeof r&&r.message){var i;this.log(r.message,"error");var o=new Error(this.i18n("failedToUpload",{file:null!=(i=null==t?void 0:t.name)?i:""}));o.isUserFacing=!0,o.details=r.message,r.details&&(o.details+=" ".concat(r.details)),U(this,H)[H]([o])}else U(this,H)[H]([r])});var t=null;this.on("upload-stalled",(e,r)=>{var{message:n}=e,i=r.map(e=>e.meta.name).join(", ");t||(this.info({message:n,details:i},"warning",this.opts.infoTimeout),t=setTimeout(()=>{t=null},this.opts.infoTimeout)),this.log("".concat(n," ").concat(i).trim(),"warning")}),this.on("upload",()=>{this.setState({error:null})});var r=e=>{var t=e.filter(e=>{var t=null!=e&&this.getFile(e.id);return t||this.log("Not setting progress for a file that has been removed: ".concat(null==e?void 0:e.id)),t}),r=Object.fromEntries(t.map(e=>[e.id,{progress:{uploadStarted:Date.now(),uploadComplete:!1,percentage:0,bytesUploaded:0,bytesTotal:e.size}}]));this.patchFilesState(r)};this.on("upload-start",e=>{e.forEach(e=>{this.emit("upload-started",e)}),r(e)}),this.on("upload-progress",this.calculateProgress),this.on("upload-success",(e,t)=>{if(null!=e&&this.getFile(e.id)){var r=this.getFile(e.id).progress;this.setFileState(e.id,{progress:(0,i.A)((0,i.A)({},r),{},{postprocess:U(this,q)[q].size>0?{mode:"indeterminate"}:void 0,uploadComplete:!0,percentage:100,bytesUploaded:r.bytesTotal}),response:t,uploadURL:t.uploadURL,isPaused:!1}),null==e.size&&this.setFileState(e.id,{size:t.bytesUploaded||r.bytesTotal}),this.calculateTotalProgress()}else this.log("Not setting progress for a file that has been removed: ".concat(null==e?void 0:e.id))}),this.on("preprocess-progress",(e,t)=>{null!=e&&this.getFile(e.id)?this.setFileState(e.id,{progress:(0,i.A)((0,i.A)({},this.getFile(e.id).progress),{},{preprocess:t})}):this.log("Not setting progress for a file that has been removed: ".concat(null==e?void 0:e.id))}),this.on("preprocess-complete",e=>{if(null!=e&&this.getFile(e.id)){var t=(0,i.A)({},this.getState().files);t[e.id]=(0,i.A)((0,i.A)({},t[e.id]),{},{progress:(0,i.A)({},t[e.id].progress)}),delete t[e.id].progress.preprocess,this.setState({files:t})}else this.log("Not setting progress for a file that has been removed: ".concat(null==e?void 0:e.id))}),this.on("postprocess-progress",(e,t)=>{null!=e&&this.getFile(e.id)?this.setFileState(e.id,{progress:(0,i.A)((0,i.A)({},this.getState().files[e.id].progress),{},{postprocess:t})}):this.log("Not setting progress for a file that has been removed: ".concat(null==e?void 0:e.id))}),this.on("postprocess-complete",e=>{if(null!=e&&this.getFile(e.id)){var t=(0,i.A)({},this.getState().files);t[e.id]=(0,i.A)((0,i.A)({},t[e.id]),{},{progress:(0,i.A)({},t[e.id].progress)}),delete t[e.id].progress.postprocess,this.setState({files:t})}else this.log("Not setting progress for a file that has been removed: ".concat(null==e?void 0:e.id))}),this.on("restored",()=>{this.calculateTotalProgress()}),this.on("dashboard:file-edit-complete",e=>{e&&U(this,W)[W](e)}),"undefined"!==typeof window&&window.addEventListener&&(window.addEventListener("online",U(this,Q)[Q]),window.addEventListener("offline",U(this,Q)[Q]),setTimeout(U(this,Q)[Q],3e3))}function he(e,t){void 0===t&&(t={});var{forceAllowNewUpload:r=!1}=t,{allowNewUpload:n,currentUploads:o}=this.getState();if(!n&&!r)throw new Error("Cannot create a new upload: already uploading.");var a=function(){for(var e="",t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;t--;)e+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64*Math.random()|0];return e}();return this.emit("upload",{id:a,fileIDs:e}),this.setState({allowNewUpload:!1!==this.opts.allowMultipleUploadBatches&&!1!==this.opts.allowMultipleUploads,currentUploads:(0,i.A)((0,i.A)({},o),{},{[a]:{fileIDs:e,step:0,result:{}}})}),a}function de(e){var{currentUploads:t}=this.getState();return t[e]}function fe(e){var t=(0,i.A)({},this.getState().currentUploads);delete t[e],this.setState({currentUploads:t})}function ve(e){return ge.apply(this,arguments)}function ge(){return(ge=(0,n.A)(function*(e){var t,r=()=>{var{currentUploads:t}=this.getState();return t[e]},n=r(),o=[...U(this,M)[M],...U(this,z)[z],...U(this,q)[q]];try{for(var a=n.step||0;a<o.length&&n;a++){var s=o[a];this.setState({currentUploads:(0,i.A)((0,i.A)({},this.getState().currentUploads),{},{[e]:(0,i.A)((0,i.A)({},n),{},{step:a})})});var{fileIDs:l}=n;yield s(l,e),n=r()}}catch(h){throw U(this,te)[te](e),h}if(n){n.fileIDs.forEach(e=>{var t=this.getFile(e);t&&t.progress.postprocess&&this.emit("postprocess-complete",t)});var u=n.fileIDs.map(e=>this.getFile(e)),c=u.filter(e=>!e.error),p=u.filter(e=>e.error);this.addResultData(e,{successful:c,failed:p,uploadID:e}),n=r()}return n&&(t=n.result,this.emit("complete",t),U(this,te)[te](e)),null==t&&this.log("Not setting result for an upload that has been removed: ".concat(e)),t})).apply(this,arguments)}ne.VERSION="3.13.1";const me=ne},39248:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},40127:e=>{"use strict";e.exports=function(e){if("number"!==typeof e||Number.isNaN(e))throw new TypeError("Expected a number, got ".concat(typeof e));var t=e<0,r=Math.abs(e);if(t&&(r=-r),0===r)return"0 B";var n=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],i=Math.min(Math.floor(Math.log(r)/Math.log(1024)),n.length-1),o=Number(r/Math.pow(1024,i)),a=n[i];return"".concat(o>=10||o%1===0?Math.round(o):o.toFixed(1)," ").concat(a)}},41397:function(e,t,r){var n;e=r.nmd(e),function(){var i,o="Expected a function",a="__lodash_hash_undefined__",s="__lodash_placeholder__",l=16,u=32,c=64,p=128,h=256,d=1/0,f=9007199254740991,v=NaN,g=4294967295,m=[["ary",p],["bind",1],["bindKey",2],["curry",8],["curryRight",l],["flip",512],["partial",u],["partialRight",c],["rearg",h]],y="[object Arguments]",b="[object Array]",_="[object Boolean]",w="[object Date]",P="[object Error]",S="[object Function]",A="[object GeneratorFunction]",F="[object Map]",C="[object Number]",O="[object Object]",k="[object Promise]",E="[object RegExp]",x="[object Set]",T="[object String]",U="[object Symbol]",D="[object WeakMap]",I="[object ArrayBuffer]",R="[object DataView]",N="[object Float32Array]",j="[object Float64Array]",B="[object Int8Array]",L="[object Int16Array]",M="[object Int32Array]",z="[object Uint8Array]",q="[object Uint8ClampedArray]",H="[object Uint16Array]",W="[object Uint32Array]",V=/\b__p \+= '';/g,G=/\b(__p \+=) '' \+/g,K=/(__e\(.*?\)|\b__t\)) \+\n'';/g,X=/&(?:amp|lt|gt|quot|#39);/g,$=/[&<>"']/g,Y=RegExp(X.source),Q=RegExp($.source),Z=/<%-([\s\S]+?)%>/g,J=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,re=/^\w*$/,ne=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ie=/[\\^$.*+?()[\]{}|]/g,oe=RegExp(ie.source),ae=/^\s+/,se=/\s/,le=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ue=/\{\n\/\* \[wrapped with (.+)\] \*/,ce=/,? & /,pe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,he=/[()=,{}\[\]\/\s]/,de=/\\(\\)?/g,fe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ve=/\w*$/,ge=/^[-+]0x[0-9a-f]+$/i,me=/^0b[01]+$/i,ye=/^\[object .+?Constructor\]$/,be=/^0o[0-7]+$/i,_e=/^(?:0|[1-9]\d*)$/,we=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Pe=/($^)/,Se=/['\n\r\u2028\u2029\\]/g,Ae="\\ud800-\\udfff",Fe="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ce="\\u2700-\\u27bf",Oe="a-z\\xdf-\\xf6\\xf8-\\xff",ke="A-Z\\xc0-\\xd6\\xd8-\\xde",Ee="\\ufe0e\\ufe0f",xe="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Te="['\u2019]",Ue="["+Ae+"]",De="["+xe+"]",Ie="["+Fe+"]",Re="\\d+",Ne="["+Ce+"]",je="["+Oe+"]",Be="[^"+Ae+xe+Re+Ce+Oe+ke+"]",Le="\\ud83c[\\udffb-\\udfff]",Me="[^"+Ae+"]",ze="(?:\\ud83c[\\udde6-\\uddff]){2}",qe="[\\ud800-\\udbff][\\udc00-\\udfff]",He="["+ke+"]",We="\\u200d",Ve="(?:"+je+"|"+Be+")",Ge="(?:"+He+"|"+Be+")",Ke="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Xe="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",$e="(?:"+Ie+"|"+Le+")"+"?",Ye="["+Ee+"]?",Qe=Ye+$e+("(?:"+We+"(?:"+[Me,ze,qe].join("|")+")"+Ye+$e+")*"),Ze="(?:"+[Ne,ze,qe].join("|")+")"+Qe,Je="(?:"+[Me+Ie+"?",Ie,ze,qe,Ue].join("|")+")",et=RegExp(Te,"g"),tt=RegExp(Ie,"g"),rt=RegExp(Le+"(?="+Le+")|"+Je+Qe,"g"),nt=RegExp([He+"?"+je+"+"+Ke+"(?="+[De,He,"$"].join("|")+")",Ge+"+"+Xe+"(?="+[De,He+Ve,"$"].join("|")+")",He+"?"+Ve+"+"+Ke,He+"+"+Xe,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Re,Ze].join("|"),"g"),it=RegExp("["+We+Ae+Fe+Ee+"]"),ot=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,at=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],st=-1,lt={};lt[N]=lt[j]=lt[B]=lt[L]=lt[M]=lt[z]=lt[q]=lt[H]=lt[W]=!0,lt[y]=lt[b]=lt[I]=lt[_]=lt[R]=lt[w]=lt[P]=lt[S]=lt[F]=lt[C]=lt[O]=lt[E]=lt[x]=lt[T]=lt[D]=!1;var ut={};ut[y]=ut[b]=ut[I]=ut[R]=ut[_]=ut[w]=ut[N]=ut[j]=ut[B]=ut[L]=ut[M]=ut[F]=ut[C]=ut[O]=ut[E]=ut[x]=ut[T]=ut[U]=ut[z]=ut[q]=ut[H]=ut[W]=!0,ut[P]=ut[S]=ut[D]=!1;var ct={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},pt=parseFloat,ht=parseInt,dt="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,ft="object"==typeof self&&self&&self.Object===Object&&self,vt=dt||ft||Function("return this")(),gt=t&&!t.nodeType&&t,mt=gt&&e&&!e.nodeType&&e,yt=mt&&mt.exports===gt,bt=yt&&dt.process,_t=function(){try{var e=mt&&mt.require&&mt.require("util").types;return e||bt&&bt.binding&&bt.binding("util")}catch(t){}}(),wt=_t&&_t.isArrayBuffer,Pt=_t&&_t.isDate,St=_t&&_t.isMap,At=_t&&_t.isRegExp,Ft=_t&&_t.isSet,Ct=_t&&_t.isTypedArray;function Ot(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function kt(e,t,r,n){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(n,a,r(a),e)}return n}function Et(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}function xt(e,t){for(var r=null==e?0:e.length;r--&&!1!==t(e[r],r,e););return e}function Tt(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}function Ut(e,t){for(var r=-1,n=null==e?0:e.length,i=0,o=[];++r<n;){var a=e[r];t(a,r,e)&&(o[i++]=a)}return o}function Dt(e,t){return!!(null==e?0:e.length)&&Ht(e,t,0)>-1}function It(e,t,r){for(var n=-1,i=null==e?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}function Rt(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}function Nt(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}function jt(e,t,r,n){var i=-1,o=null==e?0:e.length;for(n&&o&&(r=e[++i]);++i<o;)r=t(r,e[i],i,e);return r}function Bt(e,t,r,n){var i=null==e?0:e.length;for(n&&i&&(r=e[--i]);i--;)r=t(r,e[i],i,e);return r}function Lt(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var Mt=Kt("length");function zt(e,t,r){var n;return r(e,function(e,r,i){if(t(e,r,i))return n=r,!1}),n}function qt(e,t,r,n){for(var i=e.length,o=r+(n?1:-1);n?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function Ht(e,t,r){return t===t?function(e,t,r){var n=r-1,i=e.length;for(;++n<i;)if(e[n]===t)return n;return-1}(e,t,r):qt(e,Vt,r)}function Wt(e,t,r,n){for(var i=r-1,o=e.length;++i<o;)if(n(e[i],t))return i;return-1}function Vt(e){return e!==e}function Gt(e,t){var r=null==e?0:e.length;return r?Yt(e,t)/r:v}function Kt(e){return function(t){return null==t?i:t[e]}}function Xt(e){return function(t){return null==e?i:e[t]}}function $t(e,t,r,n,i){return i(e,function(e,i,o){r=n?(n=!1,e):t(r,e,i,o)}),r}function Yt(e,t){for(var r,n=-1,o=e.length;++n<o;){var a=t(e[n]);a!==i&&(r=r===i?a:r+a)}return r}function Qt(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function Zt(e){return e?e.slice(0,vr(e)+1).replace(ae,""):e}function Jt(e){return function(t){return e(t)}}function er(e,t){return Rt(t,function(t){return e[t]})}function tr(e,t){return e.has(t)}function rr(e,t){for(var r=-1,n=e.length;++r<n&&Ht(t,e[r],0)>-1;);return r}function nr(e,t){for(var r=e.length;r--&&Ht(t,e[r],0)>-1;);return r}var ir=Xt({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),or=Xt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function ar(e){return"\\"+ct[e]}function sr(e){return it.test(e)}function lr(e){var t=-1,r=Array(e.size);return e.forEach(function(e,n){r[++t]=[n,e]}),r}function ur(e,t){return function(r){return e(t(r))}}function cr(e,t){for(var r=-1,n=e.length,i=0,o=[];++r<n;){var a=e[r];a!==t&&a!==s||(e[r]=s,o[i++]=r)}return o}function pr(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}function hr(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=[e,e]}),r}function dr(e){return sr(e)?function(e){var t=rt.lastIndex=0;for(;rt.test(e);)++t;return t}(e):Mt(e)}function fr(e){return sr(e)?function(e){return e.match(rt)||[]}(e):function(e){return e.split("")}(e)}function vr(e){for(var t=e.length;t--&&se.test(e.charAt(t)););return t}var gr=Xt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var mr=function e(t){var r=(t=null==t?vt:mr.defaults(vt.Object(),t,mr.pick(vt,at))).Array,n=t.Date,se=t.Error,Ae=t.Function,Fe=t.Math,Ce=t.Object,Oe=t.RegExp,ke=t.String,Ee=t.TypeError,xe=r.prototype,Te=Ae.prototype,Ue=Ce.prototype,De=t["__core-js_shared__"],Ie=Te.toString,Re=Ue.hasOwnProperty,Ne=0,je=function(){var e=/[^.]+$/.exec(De&&De.keys&&De.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Be=Ue.toString,Le=Ie.call(Ce),Me=vt._,ze=Oe("^"+Ie.call(Re).replace(ie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),qe=yt?t.Buffer:i,He=t.Symbol,We=t.Uint8Array,Ve=qe?qe.allocUnsafe:i,Ge=ur(Ce.getPrototypeOf,Ce),Ke=Ce.create,Xe=Ue.propertyIsEnumerable,$e=xe.splice,Ye=He?He.isConcatSpreadable:i,Qe=He?He.iterator:i,Ze=He?He.toStringTag:i,Je=function(){try{var e=po(Ce,"defineProperty");return e({},"",{}),e}catch(t){}}(),rt=t.clearTimeout!==vt.clearTimeout&&t.clearTimeout,it=n&&n.now!==vt.Date.now&&n.now,ct=t.setTimeout!==vt.setTimeout&&t.setTimeout,dt=Fe.ceil,ft=Fe.floor,gt=Ce.getOwnPropertySymbols,mt=qe?qe.isBuffer:i,bt=t.isFinite,_t=xe.join,Mt=ur(Ce.keys,Ce),Xt=Fe.max,yr=Fe.min,br=n.now,_r=t.parseInt,wr=Fe.random,Pr=xe.reverse,Sr=po(t,"DataView"),Ar=po(t,"Map"),Fr=po(t,"Promise"),Cr=po(t,"Set"),Or=po(t,"WeakMap"),kr=po(Ce,"create"),Er=Or&&new Or,xr={},Tr=Bo(Sr),Ur=Bo(Ar),Dr=Bo(Fr),Ir=Bo(Cr),Rr=Bo(Or),Nr=He?He.prototype:i,jr=Nr?Nr.valueOf:i,Br=Nr?Nr.toString:i;function Lr(e){if(ts(e)&&!Wa(e)&&!(e instanceof Hr)){if(e instanceof qr)return e;if(Re.call(e,"__wrapped__"))return Lo(e)}return new qr(e)}var Mr=function(){function e(){}return function(t){if(!es(t))return{};if(Ke)return Ke(t);e.prototype=t;var r=new e;return e.prototype=i,r}}();function zr(){}function qr(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function Hr(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=g,this.__views__=[]}function Wr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Vr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Gr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Kr(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new Gr;++t<r;)this.add(e[t])}function Xr(e){var t=this.__data__=new Vr(e);this.size=t.size}function $r(e,t){var r=Wa(e),n=!r&&Ha(e),i=!r&&!n&&Xa(e),o=!r&&!n&&!i&&us(e),a=r||n||i||o,s=a?Qt(e.length,ke):[],l=s.length;for(var u in e)!t&&!Re.call(e,u)||a&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||bo(u,l))||s.push(u);return s}function Yr(e){var t=e.length;return t?e[Xn(0,t-1)]:i}function Qr(e,t){return Ro(Ei(e),sn(t,0,e.length))}function Zr(e){return Ro(Ei(e))}function Jr(e,t,r){(r!==i&&!Ma(e[t],r)||r===i&&!(t in e))&&on(e,t,r)}function en(e,t,r){var n=e[t];Re.call(e,t)&&Ma(n,r)&&(r!==i||t in e)||on(e,t,r)}function tn(e,t){for(var r=e.length;r--;)if(Ma(e[r][0],t))return r;return-1}function rn(e,t,r,n){return hn(e,function(e,i,o){t(n,e,r(e),o)}),n}function nn(e,t){return e&&xi(t,Ts(t),e)}function on(e,t,r){"__proto__"==t&&Je?Je(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function an(e,t){for(var n=-1,o=t.length,a=r(o),s=null==e;++n<o;)a[n]=s?i:Cs(e,t[n]);return a}function sn(e,t,r){return e===e&&(r!==i&&(e=e<=r?e:r),t!==i&&(e=e>=t?e:t)),e}function ln(e,t,r,n,o,a){var s,l=1&t,u=2&t,c=4&t;if(r&&(s=o?r(e,n,o,a):r(e)),s!==i)return s;if(!es(e))return e;var p=Wa(e);if(p){if(s=function(e){var t=e.length,r=new e.constructor(t);t&&"string"==typeof e[0]&&Re.call(e,"index")&&(r.index=e.index,r.input=e.input);return r}(e),!l)return Ei(e,s)}else{var h=vo(e),d=h==S||h==A;if(Xa(e))return Si(e,l);if(h==O||h==y||d&&!o){if(s=u||d?{}:mo(e),!l)return u?function(e,t){return xi(e,fo(e),t)}(e,function(e,t){return e&&xi(t,Us(t),e)}(s,e)):function(e,t){return xi(e,ho(e),t)}(e,nn(s,e))}else{if(!ut[h])return o?e:{};s=function(e,t,r){var n=e.constructor;switch(t){case I:return Ai(e);case _:case w:return new n(+e);case R:return function(e,t){var r=t?Ai(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,r);case N:case j:case B:case L:case M:case z:case q:case H:case W:return Fi(e,r);case F:return new n;case C:case T:return new n(e);case E:return function(e){var t=new e.constructor(e.source,ve.exec(e));return t.lastIndex=e.lastIndex,t}(e);case x:return new n;case U:return i=e,jr?Ce(jr.call(i)):{}}var i}(e,h,l)}}a||(a=new Xr);var f=a.get(e);if(f)return f;a.set(e,s),as(e)?e.forEach(function(n){s.add(ln(n,t,r,n,e,a))}):rs(e)&&e.forEach(function(n,i){s.set(i,ln(n,t,r,i,e,a))});var v=p?i:(c?u?io:no:u?Us:Ts)(e);return Et(v||e,function(n,i){v&&(n=e[i=n]),en(s,i,ln(n,t,r,i,e,a))}),s}function un(e,t,r){var n=r.length;if(null==e)return!n;for(e=Ce(e);n--;){var o=r[n],a=t[o],s=e[o];if(s===i&&!(o in e)||!a(s))return!1}return!0}function cn(e,t,r){if("function"!=typeof e)throw new Ee(o);return To(function(){e.apply(i,r)},t)}function pn(e,t,r,n){var i=-1,o=Dt,a=!0,s=e.length,l=[],u=t.length;if(!s)return l;r&&(t=Rt(t,Jt(r))),n?(o=It,a=!1):t.length>=200&&(o=tr,a=!1,t=new Kr(t));e:for(;++i<s;){var c=e[i],p=null==r?c:r(c);if(c=n||0!==c?c:0,a&&p===p){for(var h=u;h--;)if(t[h]===p)continue e;l.push(c)}else o(t,p,n)||l.push(c)}return l}Lr.templateSettings={escape:Z,evaluate:J,interpolate:ee,variable:"",imports:{_:Lr}},Lr.prototype=zr.prototype,Lr.prototype.constructor=Lr,qr.prototype=Mr(zr.prototype),qr.prototype.constructor=qr,Hr.prototype=Mr(zr.prototype),Hr.prototype.constructor=Hr,Wr.prototype.clear=function(){this.__data__=kr?kr(null):{},this.size=0},Wr.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Wr.prototype.get=function(e){var t=this.__data__;if(kr){var r=t[e];return r===a?i:r}return Re.call(t,e)?t[e]:i},Wr.prototype.has=function(e){var t=this.__data__;return kr?t[e]!==i:Re.call(t,e)},Wr.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=kr&&t===i?a:t,this},Vr.prototype.clear=function(){this.__data__=[],this.size=0},Vr.prototype.delete=function(e){var t=this.__data__,r=tn(t,e);return!(r<0)&&(r==t.length-1?t.pop():$e.call(t,r,1),--this.size,!0)},Vr.prototype.get=function(e){var t=this.__data__,r=tn(t,e);return r<0?i:t[r][1]},Vr.prototype.has=function(e){return tn(this.__data__,e)>-1},Vr.prototype.set=function(e,t){var r=this.__data__,n=tn(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},Gr.prototype.clear=function(){this.size=0,this.__data__={hash:new Wr,map:new(Ar||Vr),string:new Wr}},Gr.prototype.delete=function(e){var t=uo(this,e).delete(e);return this.size-=t?1:0,t},Gr.prototype.get=function(e){return uo(this,e).get(e)},Gr.prototype.has=function(e){return uo(this,e).has(e)},Gr.prototype.set=function(e,t){var r=uo(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},Kr.prototype.add=Kr.prototype.push=function(e){return this.__data__.set(e,a),this},Kr.prototype.has=function(e){return this.__data__.has(e)},Xr.prototype.clear=function(){this.__data__=new Vr,this.size=0},Xr.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},Xr.prototype.get=function(e){return this.__data__.get(e)},Xr.prototype.has=function(e){return this.__data__.has(e)},Xr.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Vr){var n=r.__data__;if(!Ar||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Gr(n)}return r.set(e,t),this.size=r.size,this};var hn=Di(_n),dn=Di(wn,!0);function fn(e,t){var r=!0;return hn(e,function(e,n,i){return r=!!t(e,n,i)}),r}function vn(e,t,r){for(var n=-1,o=e.length;++n<o;){var a=e[n],s=t(a);if(null!=s&&(l===i?s===s&&!ls(s):r(s,l)))var l=s,u=a}return u}function gn(e,t){var r=[];return hn(e,function(e,n,i){t(e,n,i)&&r.push(e)}),r}function mn(e,t,r,n,i){var o=-1,a=e.length;for(r||(r=yo),i||(i=[]);++o<a;){var s=e[o];t>0&&r(s)?t>1?mn(s,t-1,r,n,i):Nt(i,s):n||(i[i.length]=s)}return i}var yn=Ii(),bn=Ii(!0);function _n(e,t){return e&&yn(e,t,Ts)}function wn(e,t){return e&&bn(e,t,Ts)}function Pn(e,t){return Ut(t,function(t){return Qa(e[t])})}function Sn(e,t){for(var r=0,n=(t=bi(t,e)).length;null!=e&&r<n;)e=e[jo(t[r++])];return r&&r==n?e:i}function An(e,t,r){var n=t(e);return Wa(e)?n:Nt(n,r(e))}function Fn(e){return null==e?e===i?"[object Undefined]":"[object Null]":Ze&&Ze in Ce(e)?function(e){var t=Re.call(e,Ze),r=e[Ze];try{e[Ze]=i;var n=!0}catch(a){}var o=Be.call(e);n&&(t?e[Ze]=r:delete e[Ze]);return o}(e):function(e){return Be.call(e)}(e)}function Cn(e,t){return e>t}function On(e,t){return null!=e&&Re.call(e,t)}function kn(e,t){return null!=e&&t in Ce(e)}function En(e,t,n){for(var o=n?It:Dt,a=e[0].length,s=e.length,l=s,u=r(s),c=1/0,p=[];l--;){var h=e[l];l&&t&&(h=Rt(h,Jt(t))),c=yr(h.length,c),u[l]=!n&&(t||a>=120&&h.length>=120)?new Kr(l&&h):i}h=e[0];var d=-1,f=u[0];e:for(;++d<a&&p.length<c;){var v=h[d],g=t?t(v):v;if(v=n||0!==v?v:0,!(f?tr(f,g):o(p,g,n))){for(l=s;--l;){var m=u[l];if(!(m?tr(m,g):o(e[l],g,n)))continue e}f&&f.push(g),p.push(v)}}return p}function xn(e,t,r){var n=null==(e=ko(e,t=bi(t,e)))?e:e[jo(Yo(t))];return null==n?i:Ot(n,e,r)}function Tn(e){return ts(e)&&Fn(e)==y}function Un(e,t,r,n,o){return e===t||(null==e||null==t||!ts(e)&&!ts(t)?e!==e&&t!==t:function(e,t,r,n,o,a){var s=Wa(e),l=Wa(t),u=s?b:vo(e),c=l?b:vo(t),p=(u=u==y?O:u)==O,h=(c=c==y?O:c)==O,d=u==c;if(d&&Xa(e)){if(!Xa(t))return!1;s=!0,p=!1}if(d&&!p)return a||(a=new Xr),s||us(e)?to(e,t,r,n,o,a):function(e,t,r,n,i,o,a){switch(r){case R:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case I:return!(e.byteLength!=t.byteLength||!o(new We(e),new We(t)));case _:case w:case C:return Ma(+e,+t);case P:return e.name==t.name&&e.message==t.message;case E:case T:return e==t+"";case F:var s=lr;case x:var l=1&n;if(s||(s=pr),e.size!=t.size&&!l)return!1;var u=a.get(e);if(u)return u==t;n|=2,a.set(e,t);var c=to(s(e),s(t),n,i,o,a);return a.delete(e),c;case U:if(jr)return jr.call(e)==jr.call(t)}return!1}(e,t,u,r,n,o,a);if(!(1&r)){var f=p&&Re.call(e,"__wrapped__"),v=h&&Re.call(t,"__wrapped__");if(f||v){var g=f?e.value():e,m=v?t.value():t;return a||(a=new Xr),o(g,m,r,n,a)}}if(!d)return!1;return a||(a=new Xr),function(e,t,r,n,o,a){var s=1&r,l=no(e),u=l.length,c=no(t),p=c.length;if(u!=p&&!s)return!1;var h=u;for(;h--;){var d=l[h];if(!(s?d in t:Re.call(t,d)))return!1}var f=a.get(e),v=a.get(t);if(f&&v)return f==t&&v==e;var g=!0;a.set(e,t),a.set(t,e);var m=s;for(;++h<u;){var y=e[d=l[h]],b=t[d];if(n)var _=s?n(b,y,d,t,e,a):n(y,b,d,e,t,a);if(!(_===i?y===b||o(y,b,r,n,a):_)){g=!1;break}m||(m="constructor"==d)}if(g&&!m){var w=e.constructor,P=t.constructor;w==P||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof P&&P instanceof P||(g=!1)}return a.delete(e),a.delete(t),g}(e,t,r,n,o,a)}(e,t,r,n,Un,o))}function Dn(e,t,r,n){var o=r.length,a=o,s=!n;if(null==e)return!a;for(e=Ce(e);o--;){var l=r[o];if(s&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++o<a;){var u=(l=r[o])[0],c=e[u],p=l[1];if(s&&l[2]){if(c===i&&!(u in e))return!1}else{var h=new Xr;if(n)var d=n(c,p,u,e,t,h);if(!(d===i?Un(p,c,3,n,h):d))return!1}}return!0}function In(e){return!(!es(e)||(t=e,je&&je in t))&&(Qa(e)?ze:ye).test(Bo(e));var t}function Rn(e){return"function"==typeof e?e:null==e?nl:"object"==typeof e?Wa(e)?zn(e[0],e[1]):Mn(e):hl(e)}function Nn(e){if(!Ao(e))return Mt(e);var t=[];for(var r in Ce(e))Re.call(e,r)&&"constructor"!=r&&t.push(r);return t}function jn(e){if(!es(e))return function(e){var t=[];if(null!=e)for(var r in Ce(e))t.push(r);return t}(e);var t=Ao(e),r=[];for(var n in e)("constructor"!=n||!t&&Re.call(e,n))&&r.push(n);return r}function Bn(e,t){return e<t}function Ln(e,t){var n=-1,i=Ga(e)?r(e.length):[];return hn(e,function(e,r,o){i[++n]=t(e,r,o)}),i}function Mn(e){var t=co(e);return 1==t.length&&t[0][2]?Co(t[0][0],t[0][1]):function(r){return r===e||Dn(r,e,t)}}function zn(e,t){return wo(e)&&Fo(t)?Co(jo(e),t):function(r){var n=Cs(r,e);return n===i&&n===t?Os(r,e):Un(t,n,3)}}function qn(e,t,r,n,o){e!==t&&yn(t,function(a,s){if(o||(o=new Xr),es(a))!function(e,t,r,n,o,a,s){var l=Eo(e,r),u=Eo(t,r),c=s.get(u);if(c)return void Jr(e,r,c);var p=a?a(l,u,r+"",e,t,s):i,h=p===i;if(h){var d=Wa(u),f=!d&&Xa(u),v=!d&&!f&&us(u);p=u,d||f||v?Wa(l)?p=l:Ka(l)?p=Ei(l):f?(h=!1,p=Si(u,!0)):v?(h=!1,p=Fi(u,!0)):p=[]:is(u)||Ha(u)?(p=l,Ha(l)?p=ms(l):es(l)&&!Qa(l)||(p=mo(u))):h=!1}h&&(s.set(u,p),o(p,u,n,a,s),s.delete(u));Jr(e,r,p)}(e,t,s,r,qn,n,o);else{var l=n?n(Eo(e,s),a,s+"",e,t,o):i;l===i&&(l=a),Jr(e,s,l)}},Us)}function Hn(e,t){var r=e.length;if(r)return bo(t+=t<0?r:0,r)?e[t]:i}function Wn(e,t,r){t=t.length?Rt(t,function(e){return Wa(e)?function(t){return Sn(t,1===e.length?e[0]:e)}:e}):[nl];var n=-1;t=Rt(t,Jt(lo()));var i=Ln(e,function(e,r,i){var o=Rt(t,function(t){return t(e)});return{criteria:o,index:++n,value:e}});return function(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}(i,function(e,t){return function(e,t,r){var n=-1,i=e.criteria,o=t.criteria,a=i.length,s=r.length;for(;++n<a;){var l=Ci(i[n],o[n]);if(l)return n>=s?l:l*("desc"==r[n]?-1:1)}return e.index-t.index}(e,t,r)})}function Vn(e,t,r){for(var n=-1,i=t.length,o={};++n<i;){var a=t[n],s=Sn(e,a);r(s,a)&&Jn(o,bi(a,e),s)}return o}function Gn(e,t,r,n){var i=n?Wt:Ht,o=-1,a=t.length,s=e;for(e===t&&(t=Ei(t)),r&&(s=Rt(e,Jt(r)));++o<a;)for(var l=0,u=t[o],c=r?r(u):u;(l=i(s,c,l,n))>-1;)s!==e&&$e.call(s,l,1),$e.call(e,l,1);return e}function Kn(e,t){for(var r=e?t.length:0,n=r-1;r--;){var i=t[r];if(r==n||i!==o){var o=i;bo(i)?$e.call(e,i,1):pi(e,i)}}return e}function Xn(e,t){return e+ft(wr()*(t-e+1))}function $n(e,t){var r="";if(!e||t<1||t>f)return r;do{t%2&&(r+=e),(t=ft(t/2))&&(e+=e)}while(t);return r}function Yn(e,t){return Uo(Oo(e,t,nl),e+"")}function Qn(e){return Yr(Ms(e))}function Zn(e,t){var r=Ms(e);return Ro(r,sn(t,0,r.length))}function Jn(e,t,r,n){if(!es(e))return e;for(var o=-1,a=(t=bi(t,e)).length,s=a-1,l=e;null!=l&&++o<a;){var u=jo(t[o]),c=r;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;if(o!=s){var p=l[u];(c=n?n(p,u,l):i)===i&&(c=es(p)?p:bo(t[o+1])?[]:{})}en(l,u,c),l=l[u]}return e}var ei=Er?function(e,t){return Er.set(e,t),e}:nl,ti=Je?function(e,t){return Je(e,"toString",{configurable:!0,enumerable:!1,value:el(t),writable:!0})}:nl;function ri(e){return Ro(Ms(e))}function ni(e,t,n){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var a=r(o);++i<o;)a[i]=e[i+t];return a}function ii(e,t){var r;return hn(e,function(e,n,i){return!(r=t(e,n,i))}),!!r}function oi(e,t,r){var n=0,i=null==e?n:e.length;if("number"==typeof t&&t===t&&i<=2147483647){for(;n<i;){var o=n+i>>>1,a=e[o];null!==a&&!ls(a)&&(r?a<=t:a<t)?n=o+1:i=o}return i}return ai(e,t,nl,r)}function ai(e,t,r,n){var o=0,a=null==e?0:e.length;if(0===a)return 0;for(var s=(t=r(t))!==t,l=null===t,u=ls(t),c=t===i;o<a;){var p=ft((o+a)/2),h=r(e[p]),d=h!==i,f=null===h,v=h===h,g=ls(h);if(s)var m=n||v;else m=c?v&&(n||d):l?v&&d&&(n||!f):u?v&&d&&!f&&(n||!g):!f&&!g&&(n?h<=t:h<t);m?o=p+1:a=p}return yr(a,4294967294)}function si(e,t){for(var r=-1,n=e.length,i=0,o=[];++r<n;){var a=e[r],s=t?t(a):a;if(!r||!Ma(s,l)){var l=s;o[i++]=0===a?0:a}}return o}function li(e){return"number"==typeof e?e:ls(e)?v:+e}function ui(e){if("string"==typeof e)return e;if(Wa(e))return Rt(e,ui)+"";if(ls(e))return Br?Br.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function ci(e,t,r){var n=-1,i=Dt,o=e.length,a=!0,s=[],l=s;if(r)a=!1,i=It;else if(o>=200){var u=t?null:$i(e);if(u)return pr(u);a=!1,i=tr,l=new Kr}else l=t?[]:s;e:for(;++n<o;){var c=e[n],p=t?t(c):c;if(c=r||0!==c?c:0,a&&p===p){for(var h=l.length;h--;)if(l[h]===p)continue e;t&&l.push(p),s.push(c)}else i(l,p,r)||(l!==s&&l.push(p),s.push(c))}return s}function pi(e,t){return null==(e=ko(e,t=bi(t,e)))||delete e[jo(Yo(t))]}function hi(e,t,r,n){return Jn(e,t,r(Sn(e,t)),n)}function di(e,t,r,n){for(var i=e.length,o=n?i:-1;(n?o--:++o<i)&&t(e[o],o,e););return r?ni(e,n?0:o,n?o+1:i):ni(e,n?o+1:0,n?i:o)}function fi(e,t){var r=e;return r instanceof Hr&&(r=r.value()),jt(t,function(e,t){return t.func.apply(t.thisArg,Nt([e],t.args))},r)}function vi(e,t,n){var i=e.length;if(i<2)return i?ci(e[0]):[];for(var o=-1,a=r(i);++o<i;)for(var s=e[o],l=-1;++l<i;)l!=o&&(a[o]=pn(a[o]||s,e[l],t,n));return ci(mn(a,1),t,n)}function gi(e,t,r){for(var n=-1,o=e.length,a=t.length,s={};++n<o;){var l=n<a?t[n]:i;r(s,e[n],l)}return s}function mi(e){return Ka(e)?e:[]}function yi(e){return"function"==typeof e?e:nl}function bi(e,t){return Wa(e)?e:wo(e,t)?[e]:No(ys(e))}var _i=Yn;function wi(e,t,r){var n=e.length;return r=r===i?n:r,!t&&r>=n?e:ni(e,t,r)}var Pi=rt||function(e){return vt.clearTimeout(e)};function Si(e,t){if(t)return e.slice();var r=e.length,n=Ve?Ve(r):new e.constructor(r);return e.copy(n),n}function Ai(e){var t=new e.constructor(e.byteLength);return new We(t).set(new We(e)),t}function Fi(e,t){var r=t?Ai(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function Ci(e,t){if(e!==t){var r=e!==i,n=null===e,o=e===e,a=ls(e),s=t!==i,l=null===t,u=t===t,c=ls(t);if(!l&&!c&&!a&&e>t||a&&s&&u&&!l&&!c||n&&s&&u||!r&&u||!o)return 1;if(!n&&!a&&!c&&e<t||c&&r&&o&&!n&&!a||l&&r&&o||!s&&o||!u)return-1}return 0}function Oi(e,t,n,i){for(var o=-1,a=e.length,s=n.length,l=-1,u=t.length,c=Xt(a-s,0),p=r(u+c),h=!i;++l<u;)p[l]=t[l];for(;++o<s;)(h||o<a)&&(p[n[o]]=e[o]);for(;c--;)p[l++]=e[o++];return p}function ki(e,t,n,i){for(var o=-1,a=e.length,s=-1,l=n.length,u=-1,c=t.length,p=Xt(a-l,0),h=r(p+c),d=!i;++o<p;)h[o]=e[o];for(var f=o;++u<c;)h[f+u]=t[u];for(;++s<l;)(d||o<a)&&(h[f+n[s]]=e[o++]);return h}function Ei(e,t){var n=-1,i=e.length;for(t||(t=r(i));++n<i;)t[n]=e[n];return t}function xi(e,t,r,n){var o=!r;r||(r={});for(var a=-1,s=t.length;++a<s;){var l=t[a],u=n?n(r[l],e[l],l,r,e):i;u===i&&(u=e[l]),o?on(r,l,u):en(r,l,u)}return r}function Ti(e,t){return function(r,n){var i=Wa(r)?kt:rn,o=t?t():{};return i(r,e,lo(n,2),o)}}function Ui(e){return Yn(function(t,r){var n=-1,o=r.length,a=o>1?r[o-1]:i,s=o>2?r[2]:i;for(a=e.length>3&&"function"==typeof a?(o--,a):i,s&&_o(r[0],r[1],s)&&(a=o<3?i:a,o=1),t=Ce(t);++n<o;){var l=r[n];l&&e(t,l,n,a)}return t})}function Di(e,t){return function(r,n){if(null==r)return r;if(!Ga(r))return e(r,n);for(var i=r.length,o=t?i:-1,a=Ce(r);(t?o--:++o<i)&&!1!==n(a[o],o,a););return r}}function Ii(e){return function(t,r,n){for(var i=-1,o=Ce(t),a=n(t),s=a.length;s--;){var l=a[e?s:++i];if(!1===r(o[l],l,o))break}return t}}function Ri(e){return function(t){var r=sr(t=ys(t))?fr(t):i,n=r?r[0]:t.charAt(0),o=r?wi(r,1).join(""):t.slice(1);return n[e]()+o}}function Ni(e){return function(t){return jt(Qs(Hs(t).replace(et,"")),e,"")}}function ji(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=Mr(e.prototype),n=e.apply(r,t);return es(n)?n:r}}function Bi(e){return function(t,r,n){var o=Ce(t);if(!Ga(t)){var a=lo(r,3);t=Ts(t),r=function(e){return a(o[e],e,o)}}var s=e(t,r,n);return s>-1?o[a?t[s]:s]:i}}function Li(e){return ro(function(t){var r=t.length,n=r,a=qr.prototype.thru;for(e&&t.reverse();n--;){var s=t[n];if("function"!=typeof s)throw new Ee(o);if(a&&!l&&"wrapper"==ao(s))var l=new qr([],!0)}for(n=l?n:r;++n<r;){var u=ao(s=t[n]),c="wrapper"==u?oo(s):i;l=c&&Po(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?l[ao(c[0])].apply(l,c[3]):1==s.length&&Po(s)?l[u]():l.thru(s)}return function(){var e=arguments,n=e[0];if(l&&1==e.length&&Wa(n))return l.plant(n).value();for(var i=0,o=r?t[i].apply(this,e):n;++i<r;)o=t[i].call(this,o);return o}})}function Mi(e,t,n,o,a,s,l,u,c,h){var d=t&p,f=1&t,v=2&t,g=24&t,m=512&t,y=v?i:ji(e);return function p(){for(var b=arguments.length,_=r(b),w=b;w--;)_[w]=arguments[w];if(g)var P=so(p),S=function(e,t){for(var r=e.length,n=0;r--;)e[r]===t&&++n;return n}(_,P);if(o&&(_=Oi(_,o,a,g)),s&&(_=ki(_,s,l,g)),b-=S,g&&b<h){var A=cr(_,P);return Ki(e,t,Mi,p.placeholder,n,_,A,u,c,h-b)}var F=f?n:this,C=v?F[e]:e;return b=_.length,u?_=function(e,t){var r=e.length,n=yr(t.length,r),o=Ei(e);for(;n--;){var a=t[n];e[n]=bo(a,r)?o[a]:i}return e}(_,u):m&&b>1&&_.reverse(),d&&c<b&&(_.length=c),this&&this!==vt&&this instanceof p&&(C=y||ji(C)),C.apply(F,_)}}function zi(e,t){return function(r,n){return function(e,t,r,n){return _n(e,function(e,i,o){t(n,r(e),i,o)}),n}(r,e,t(n),{})}}function qi(e,t){return function(r,n){var o;if(r===i&&n===i)return t;if(r!==i&&(o=r),n!==i){if(o===i)return n;"string"==typeof r||"string"==typeof n?(r=ui(r),n=ui(n)):(r=li(r),n=li(n)),o=e(r,n)}return o}}function Hi(e){return ro(function(t){return t=Rt(t,Jt(lo())),Yn(function(r){var n=this;return e(t,function(e){return Ot(e,n,r)})})})}function Wi(e,t){var r=(t=t===i?" ":ui(t)).length;if(r<2)return r?$n(t,e):t;var n=$n(t,dt(e/dr(t)));return sr(t)?wi(fr(n),0,e).join(""):n.slice(0,e)}function Vi(e){return function(t,n,o){return o&&"number"!=typeof o&&_o(t,n,o)&&(n=o=i),t=ds(t),n===i?(n=t,t=0):n=ds(n),function(e,t,n,i){for(var o=-1,a=Xt(dt((t-e)/(n||1)),0),s=r(a);a--;)s[i?a:++o]=e,e+=n;return s}(t,n,o=o===i?t<n?1:-1:ds(o),e)}}function Gi(e){return function(t,r){return"string"==typeof t&&"string"==typeof r||(t=gs(t),r=gs(r)),e(t,r)}}function Ki(e,t,r,n,o,a,s,l,p,h){var d=8&t;t|=d?u:c,4&(t&=~(d?c:u))||(t&=-4);var f=[e,t,o,d?a:i,d?s:i,d?i:a,d?i:s,l,p,h],v=r.apply(i,f);return Po(e)&&xo(v,f),v.placeholder=n,Do(v,e,t)}function Xi(e){var t=Fe[e];return function(e,r){if(e=gs(e),(r=null==r?0:yr(fs(r),292))&&bt(e)){var n=(ys(e)+"e").split("e");return+((n=(ys(t(n[0]+"e"+(+n[1]+r)))+"e").split("e"))[0]+"e"+(+n[1]-r))}return t(e)}}var $i=Cr&&1/pr(new Cr([,-0]))[1]==d?function(e){return new Cr(e)}:ll;function Yi(e){return function(t){var r=vo(t);return r==F?lr(t):r==x?hr(t):function(e,t){return Rt(t,function(t){return[t,e[t]]})}(t,e(t))}}function Qi(e,t,n,a,d,f,v,g){var m=2&t;if(!m&&"function"!=typeof e)throw new Ee(o);var y=a?a.length:0;if(y||(t&=-97,a=d=i),v=v===i?v:Xt(fs(v),0),g=g===i?g:fs(g),y-=d?d.length:0,t&c){var b=a,_=d;a=d=i}var w=m?i:oo(e),P=[e,t,n,a,d,b,_,f,v,g];if(w&&function(e,t){var r=e[1],n=t[1],i=r|n,o=i<131,a=n==p&&8==r||n==p&&r==h&&e[7].length<=t[8]||384==n&&t[7].length<=t[8]&&8==r;if(!o&&!a)return e;1&n&&(e[2]=t[2],i|=1&r?0:4);var l=t[3];if(l){var u=e[3];e[3]=u?Oi(u,l,t[4]):l,e[4]=u?cr(e[3],s):t[4]}(l=t[5])&&(u=e[5],e[5]=u?ki(u,l,t[6]):l,e[6]=u?cr(e[5],s):t[6]);(l=t[7])&&(e[7]=l);n&p&&(e[8]=null==e[8]?t[8]:yr(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(P,w),e=P[0],t=P[1],n=P[2],a=P[3],d=P[4],!(g=P[9]=P[9]===i?m?0:e.length:Xt(P[9]-y,0))&&24&t&&(t&=-25),t&&1!=t)S=8==t||t==l?function(e,t,n){var o=ji(e);return function a(){for(var s=arguments.length,l=r(s),u=s,c=so(a);u--;)l[u]=arguments[u];var p=s<3&&l[0]!==c&&l[s-1]!==c?[]:cr(l,c);return(s-=p.length)<n?Ki(e,t,Mi,a.placeholder,i,l,p,i,i,n-s):Ot(this&&this!==vt&&this instanceof a?o:e,this,l)}}(e,t,g):t!=u&&33!=t||d.length?Mi.apply(i,P):function(e,t,n,i){var o=1&t,a=ji(e);return function t(){for(var s=-1,l=arguments.length,u=-1,c=i.length,p=r(c+l),h=this&&this!==vt&&this instanceof t?a:e;++u<c;)p[u]=i[u];for(;l--;)p[u++]=arguments[++s];return Ot(h,o?n:this,p)}}(e,t,n,a);else var S=function(e,t,r){var n=1&t,i=ji(e);return function t(){return(this&&this!==vt&&this instanceof t?i:e).apply(n?r:this,arguments)}}(e,t,n);return Do((w?ei:xo)(S,P),e,t)}function Zi(e,t,r,n){return e===i||Ma(e,Ue[r])&&!Re.call(n,r)?t:e}function Ji(e,t,r,n,o,a){return es(e)&&es(t)&&(a.set(t,e),qn(e,t,i,Ji,a),a.delete(t)),e}function eo(e){return is(e)?i:e}function to(e,t,r,n,o,a){var s=1&r,l=e.length,u=t.length;if(l!=u&&!(s&&u>l))return!1;var c=a.get(e),p=a.get(t);if(c&&p)return c==t&&p==e;var h=-1,d=!0,f=2&r?new Kr:i;for(a.set(e,t),a.set(t,e);++h<l;){var v=e[h],g=t[h];if(n)var m=s?n(g,v,h,t,e,a):n(v,g,h,e,t,a);if(m!==i){if(m)continue;d=!1;break}if(f){if(!Lt(t,function(e,t){if(!tr(f,t)&&(v===e||o(v,e,r,n,a)))return f.push(t)})){d=!1;break}}else if(v!==g&&!o(v,g,r,n,a)){d=!1;break}}return a.delete(e),a.delete(t),d}function ro(e){return Uo(Oo(e,i,Vo),e+"")}function no(e){return An(e,Ts,ho)}function io(e){return An(e,Us,fo)}var oo=Er?function(e){return Er.get(e)}:ll;function ao(e){for(var t=e.name+"",r=xr[t],n=Re.call(xr,t)?r.length:0;n--;){var i=r[n],o=i.func;if(null==o||o==e)return i.name}return t}function so(e){return(Re.call(Lr,"placeholder")?Lr:e).placeholder}function lo(){var e=Lr.iteratee||il;return e=e===il?Rn:e,arguments.length?e(arguments[0],arguments[1]):e}function uo(e,t){var r=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?r["string"==typeof t?"string":"hash"]:r.map}function co(e){for(var t=Ts(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,Fo(i)]}return t}function po(e,t){var r=function(e,t){return null==e?i:e[t]}(e,t);return In(r)?r:i}var ho=gt?function(e){return null==e?[]:(e=Ce(e),Ut(gt(e),function(t){return Xe.call(e,t)}))}:vl,fo=gt?function(e){for(var t=[];e;)Nt(t,ho(e)),e=Ge(e);return t}:vl,vo=Fn;function go(e,t,r){for(var n=-1,i=(t=bi(t,e)).length,o=!1;++n<i;){var a=jo(t[n]);if(!(o=null!=e&&r(e,a)))break;e=e[a]}return o||++n!=i?o:!!(i=null==e?0:e.length)&&Ja(i)&&bo(a,i)&&(Wa(e)||Ha(e))}function mo(e){return"function"!=typeof e.constructor||Ao(e)?{}:Mr(Ge(e))}function yo(e){return Wa(e)||Ha(e)||!!(Ye&&e&&e[Ye])}function bo(e,t){var r=typeof e;return!!(t=null==t?f:t)&&("number"==r||"symbol"!=r&&_e.test(e))&&e>-1&&e%1==0&&e<t}function _o(e,t,r){if(!es(r))return!1;var n=typeof t;return!!("number"==n?Ga(r)&&bo(t,r.length):"string"==n&&t in r)&&Ma(r[t],e)}function wo(e,t){if(Wa(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!ls(e))||(re.test(e)||!te.test(e)||null!=t&&e in Ce(t))}function Po(e){var t=ao(e),r=Lr[t];if("function"!=typeof r||!(t in Hr.prototype))return!1;if(e===r)return!0;var n=oo(r);return!!n&&e===n[0]}(Sr&&vo(new Sr(new ArrayBuffer(1)))!=R||Ar&&vo(new Ar)!=F||Fr&&vo(Fr.resolve())!=k||Cr&&vo(new Cr)!=x||Or&&vo(new Or)!=D)&&(vo=function(e){var t=Fn(e),r=t==O?e.constructor:i,n=r?Bo(r):"";if(n)switch(n){case Tr:return R;case Ur:return F;case Dr:return k;case Ir:return x;case Rr:return D}return t});var So=De?Qa:gl;function Ao(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Ue)}function Fo(e){return e===e&&!es(e)}function Co(e,t){return function(r){return null!=r&&(r[e]===t&&(t!==i||e in Ce(r)))}}function Oo(e,t,n){return t=Xt(t===i?e.length-1:t,0),function(){for(var i=arguments,o=-1,a=Xt(i.length-t,0),s=r(a);++o<a;)s[o]=i[t+o];o=-1;for(var l=r(t+1);++o<t;)l[o]=i[o];return l[t]=n(s),Ot(e,this,l)}}function ko(e,t){return t.length<2?e:Sn(e,ni(t,0,-1))}function Eo(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var xo=Io(ei),To=ct||function(e,t){return vt.setTimeout(e,t)},Uo=Io(ti);function Do(e,t,r){var n=t+"";return Uo(e,function(e,t){var r=t.length;if(!r)return e;var n=r-1;return t[n]=(r>1?"& ":"")+t[n],t=t.join(r>2?", ":" "),e.replace(le,"{\n/* [wrapped with "+t+"] */\n")}(n,function(e,t){return Et(m,function(r){var n="_."+r[0];t&r[1]&&!Dt(e,n)&&e.push(n)}),e.sort()}(function(e){var t=e.match(ue);return t?t[1].split(ce):[]}(n),r)))}function Io(e){var t=0,r=0;return function(){var n=br(),o=16-(n-r);if(r=n,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(i,arguments)}}function Ro(e,t){var r=-1,n=e.length,o=n-1;for(t=t===i?n:t;++r<t;){var a=Xn(r,o),s=e[a];e[a]=e[r],e[r]=s}return e.length=t,e}var No=function(e){var t=Ia(e,function(e){return 500===r.size&&r.clear(),e}),r=t.cache;return t}(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ne,function(e,r,n,i){t.push(n?i.replace(de,"$1"):r||e)}),t});function jo(e){if("string"==typeof e||ls(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Bo(e){if(null!=e){try{return Ie.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Lo(e){if(e instanceof Hr)return e.clone();var t=new qr(e.__wrapped__,e.__chain__);return t.__actions__=Ei(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Mo=Yn(function(e,t){return Ka(e)?pn(e,mn(t,1,Ka,!0)):[]}),zo=Yn(function(e,t){var r=Yo(t);return Ka(r)&&(r=i),Ka(e)?pn(e,mn(t,1,Ka,!0),lo(r,2)):[]}),qo=Yn(function(e,t){var r=Yo(t);return Ka(r)&&(r=i),Ka(e)?pn(e,mn(t,1,Ka,!0),i,r):[]});function Ho(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:fs(r);return i<0&&(i=Xt(n+i,0)),qt(e,lo(t,3),i)}function Wo(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var o=n-1;return r!==i&&(o=fs(r),o=r<0?Xt(n+o,0):yr(o,n-1)),qt(e,lo(t,3),o,!0)}function Vo(e){return(null==e?0:e.length)?mn(e,1):[]}function Go(e){return e&&e.length?e[0]:i}var Ko=Yn(function(e){var t=Rt(e,mi);return t.length&&t[0]===e[0]?En(t):[]}),Xo=Yn(function(e){var t=Yo(e),r=Rt(e,mi);return t===Yo(r)?t=i:r.pop(),r.length&&r[0]===e[0]?En(r,lo(t,2)):[]}),$o=Yn(function(e){var t=Yo(e),r=Rt(e,mi);return(t="function"==typeof t?t:i)&&r.pop(),r.length&&r[0]===e[0]?En(r,i,t):[]});function Yo(e){var t=null==e?0:e.length;return t?e[t-1]:i}var Qo=Yn(Zo);function Zo(e,t){return e&&e.length&&t&&t.length?Gn(e,t):e}var Jo=ro(function(e,t){var r=null==e?0:e.length,n=an(e,t);return Kn(e,Rt(t,function(e){return bo(e,r)?+e:e}).sort(Ci)),n});function ea(e){return null==e?e:Pr.call(e)}var ta=Yn(function(e){return ci(mn(e,1,Ka,!0))}),ra=Yn(function(e){var t=Yo(e);return Ka(t)&&(t=i),ci(mn(e,1,Ka,!0),lo(t,2))}),na=Yn(function(e){var t=Yo(e);return t="function"==typeof t?t:i,ci(mn(e,1,Ka,!0),i,t)});function ia(e){if(!e||!e.length)return[];var t=0;return e=Ut(e,function(e){if(Ka(e))return t=Xt(e.length,t),!0}),Qt(t,function(t){return Rt(e,Kt(t))})}function oa(e,t){if(!e||!e.length)return[];var r=ia(e);return null==t?r:Rt(r,function(e){return Ot(t,i,e)})}var aa=Yn(function(e,t){return Ka(e)?pn(e,t):[]}),sa=Yn(function(e){return vi(Ut(e,Ka))}),la=Yn(function(e){var t=Yo(e);return Ka(t)&&(t=i),vi(Ut(e,Ka),lo(t,2))}),ua=Yn(function(e){var t=Yo(e);return t="function"==typeof t?t:i,vi(Ut(e,Ka),i,t)}),ca=Yn(ia);var pa=Yn(function(e){var t=e.length,r=t>1?e[t-1]:i;return r="function"==typeof r?(e.pop(),r):i,oa(e,r)});function ha(e){var t=Lr(e);return t.__chain__=!0,t}function da(e,t){return t(e)}var fa=ro(function(e){var t=e.length,r=t?e[0]:0,n=this.__wrapped__,o=function(t){return an(t,e)};return!(t>1||this.__actions__.length)&&n instanceof Hr&&bo(r)?((n=n.slice(r,+r+(t?1:0))).__actions__.push({func:da,args:[o],thisArg:i}),new qr(n,this.__chain__).thru(function(e){return t&&!e.length&&e.push(i),e})):this.thru(o)});var va=Ti(function(e,t,r){Re.call(e,r)?++e[r]:on(e,r,1)});var ga=Bi(Ho),ma=Bi(Wo);function ya(e,t){return(Wa(e)?Et:hn)(e,lo(t,3))}function ba(e,t){return(Wa(e)?xt:dn)(e,lo(t,3))}var _a=Ti(function(e,t,r){Re.call(e,r)?e[r].push(t):on(e,r,[t])});var wa=Yn(function(e,t,n){var i=-1,o="function"==typeof t,a=Ga(e)?r(e.length):[];return hn(e,function(e){a[++i]=o?Ot(t,e,n):xn(e,t,n)}),a}),Pa=Ti(function(e,t,r){on(e,r,t)});function Sa(e,t){return(Wa(e)?Rt:Ln)(e,lo(t,3))}var Aa=Ti(function(e,t,r){e[r?0:1].push(t)},function(){return[[],[]]});var Fa=Yn(function(e,t){if(null==e)return[];var r=t.length;return r>1&&_o(e,t[0],t[1])?t=[]:r>2&&_o(t[0],t[1],t[2])&&(t=[t[0]]),Wn(e,mn(t,1),[])}),Ca=it||function(){return vt.Date.now()};function Oa(e,t,r){return t=r?i:t,t=e&&null==t?e.length:t,Qi(e,p,i,i,i,i,t)}function ka(e,t){var r;if("function"!=typeof t)throw new Ee(o);return e=fs(e),function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=i),r}}var Ea=Yn(function(e,t,r){var n=1;if(r.length){var i=cr(r,so(Ea));n|=u}return Qi(e,n,t,r,i)}),xa=Yn(function(e,t,r){var n=3;if(r.length){var i=cr(r,so(xa));n|=u}return Qi(t,n,e,r,i)});function Ta(e,t,r){var n,a,s,l,u,c,p=0,h=!1,d=!1,f=!0;if("function"!=typeof e)throw new Ee(o);function v(t){var r=n,o=a;return n=a=i,p=t,l=e.apply(o,r)}function g(e){var r=e-c;return c===i||r>=t||r<0||d&&e-p>=s}function m(){var e=Ca();if(g(e))return y(e);u=To(m,function(e){var r=t-(e-c);return d?yr(r,s-(e-p)):r}(e))}function y(e){return u=i,f&&n?v(e):(n=a=i,l)}function b(){var e=Ca(),r=g(e);if(n=arguments,a=this,c=e,r){if(u===i)return function(e){return p=e,u=To(m,t),h?v(e):l}(c);if(d)return Pi(u),u=To(m,t),v(c)}return u===i&&(u=To(m,t)),l}return t=gs(t)||0,es(r)&&(h=!!r.leading,s=(d="maxWait"in r)?Xt(gs(r.maxWait)||0,t):s,f="trailing"in r?!!r.trailing:f),b.cancel=function(){u!==i&&Pi(u),p=0,n=c=a=u=i},b.flush=function(){return u===i?l:y(Ca())},b}var Ua=Yn(function(e,t){return cn(e,1,t)}),Da=Yn(function(e,t,r){return cn(e,gs(t)||0,r)});function Ia(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Ee(o);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=e.apply(this,n);return r.cache=o.set(i,a)||o,a};return r.cache=new(Ia.Cache||Gr),r}function Ra(e){if("function"!=typeof e)throw new Ee(o);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Ia.Cache=Gr;var Na=_i(function(e,t){var r=(t=1==t.length&&Wa(t[0])?Rt(t[0],Jt(lo())):Rt(mn(t,1),Jt(lo()))).length;return Yn(function(n){for(var i=-1,o=yr(n.length,r);++i<o;)n[i]=t[i].call(this,n[i]);return Ot(e,this,n)})}),ja=Yn(function(e,t){var r=cr(t,so(ja));return Qi(e,u,i,t,r)}),Ba=Yn(function(e,t){var r=cr(t,so(Ba));return Qi(e,c,i,t,r)}),La=ro(function(e,t){return Qi(e,h,i,i,i,t)});function Ma(e,t){return e===t||e!==e&&t!==t}var za=Gi(Cn),qa=Gi(function(e,t){return e>=t}),Ha=Tn(function(){return arguments}())?Tn:function(e){return ts(e)&&Re.call(e,"callee")&&!Xe.call(e,"callee")},Wa=r.isArray,Va=wt?Jt(wt):function(e){return ts(e)&&Fn(e)==I};function Ga(e){return null!=e&&Ja(e.length)&&!Qa(e)}function Ka(e){return ts(e)&&Ga(e)}var Xa=mt||gl,$a=Pt?Jt(Pt):function(e){return ts(e)&&Fn(e)==w};function Ya(e){if(!ts(e))return!1;var t=Fn(e);return t==P||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!is(e)}function Qa(e){if(!es(e))return!1;var t=Fn(e);return t==S||t==A||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Za(e){return"number"==typeof e&&e==fs(e)}function Ja(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=f}function es(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ts(e){return null!=e&&"object"==typeof e}var rs=St?Jt(St):function(e){return ts(e)&&vo(e)==F};function ns(e){return"number"==typeof e||ts(e)&&Fn(e)==C}function is(e){if(!ts(e)||Fn(e)!=O)return!1;var t=Ge(e);if(null===t)return!0;var r=Re.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&Ie.call(r)==Le}var os=At?Jt(At):function(e){return ts(e)&&Fn(e)==E};var as=Ft?Jt(Ft):function(e){return ts(e)&&vo(e)==x};function ss(e){return"string"==typeof e||!Wa(e)&&ts(e)&&Fn(e)==T}function ls(e){return"symbol"==typeof e||ts(e)&&Fn(e)==U}var us=Ct?Jt(Ct):function(e){return ts(e)&&Ja(e.length)&&!!lt[Fn(e)]};var cs=Gi(Bn),ps=Gi(function(e,t){return e<=t});function hs(e){if(!e)return[];if(Ga(e))return ss(e)?fr(e):Ei(e);if(Qe&&e[Qe])return function(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r}(e[Qe]());var t=vo(e);return(t==F?lr:t==x?pr:Ms)(e)}function ds(e){return e?(e=gs(e))===d||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}function fs(e){var t=ds(e),r=t%1;return t===t?r?t-r:t:0}function vs(e){return e?sn(fs(e),0,g):0}function gs(e){if("number"==typeof e)return e;if(ls(e))return v;if(es(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=es(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Zt(e);var r=me.test(e);return r||be.test(e)?ht(e.slice(2),r?2:8):ge.test(e)?v:+e}function ms(e){return xi(e,Us(e))}function ys(e){return null==e?"":ui(e)}var bs=Ui(function(e,t){if(Ao(t)||Ga(t))xi(t,Ts(t),e);else for(var r in t)Re.call(t,r)&&en(e,r,t[r])}),_s=Ui(function(e,t){xi(t,Us(t),e)}),ws=Ui(function(e,t,r,n){xi(t,Us(t),e,n)}),Ps=Ui(function(e,t,r,n){xi(t,Ts(t),e,n)}),Ss=ro(an);var As=Yn(function(e,t){e=Ce(e);var r=-1,n=t.length,o=n>2?t[2]:i;for(o&&_o(t[0],t[1],o)&&(n=1);++r<n;)for(var a=t[r],s=Us(a),l=-1,u=s.length;++l<u;){var c=s[l],p=e[c];(p===i||Ma(p,Ue[c])&&!Re.call(e,c))&&(e[c]=a[c])}return e}),Fs=Yn(function(e){return e.push(i,Ji),Ot(Is,i,e)});function Cs(e,t,r){var n=null==e?i:Sn(e,t);return n===i?r:n}function Os(e,t){return null!=e&&go(e,t,kn)}var ks=zi(function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=Be.call(t)),e[t]=r},el(nl)),Es=zi(function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=Be.call(t)),Re.call(e,t)?e[t].push(r):e[t]=[r]},lo),xs=Yn(xn);function Ts(e){return Ga(e)?$r(e):Nn(e)}function Us(e){return Ga(e)?$r(e,!0):jn(e)}var Ds=Ui(function(e,t,r){qn(e,t,r)}),Is=Ui(function(e,t,r,n){qn(e,t,r,n)}),Rs=ro(function(e,t){var r={};if(null==e)return r;var n=!1;t=Rt(t,function(t){return t=bi(t,e),n||(n=t.length>1),t}),xi(e,io(e),r),n&&(r=ln(r,7,eo));for(var i=t.length;i--;)pi(r,t[i]);return r});var Ns=ro(function(e,t){return null==e?{}:function(e,t){return Vn(e,t,function(t,r){return Os(e,r)})}(e,t)});function js(e,t){if(null==e)return{};var r=Rt(io(e),function(e){return[e]});return t=lo(t),Vn(e,r,function(e,r){return t(e,r[0])})}var Bs=Yi(Ts),Ls=Yi(Us);function Ms(e){return null==e?[]:er(e,Ts(e))}var zs=Ni(function(e,t,r){return t=t.toLowerCase(),e+(r?qs(t):t)});function qs(e){return Ys(ys(e).toLowerCase())}function Hs(e){return(e=ys(e))&&e.replace(we,ir).replace(tt,"")}var Ws=Ni(function(e,t,r){return e+(r?"-":"")+t.toLowerCase()}),Vs=Ni(function(e,t,r){return e+(r?" ":"")+t.toLowerCase()}),Gs=Ri("toLowerCase");var Ks=Ni(function(e,t,r){return e+(r?"_":"")+t.toLowerCase()});var Xs=Ni(function(e,t,r){return e+(r?" ":"")+Ys(t)});var $s=Ni(function(e,t,r){return e+(r?" ":"")+t.toUpperCase()}),Ys=Ri("toUpperCase");function Qs(e,t,r){return e=ys(e),(t=r?i:t)===i?function(e){return ot.test(e)}(e)?function(e){return e.match(nt)||[]}(e):function(e){return e.match(pe)||[]}(e):e.match(t)||[]}var Zs=Yn(function(e,t){try{return Ot(e,i,t)}catch(r){return Ya(r)?r:new se(r)}}),Js=ro(function(e,t){return Et(t,function(t){t=jo(t),on(e,t,Ea(e[t],e))}),e});function el(e){return function(){return e}}var tl=Li(),rl=Li(!0);function nl(e){return e}function il(e){return Rn("function"==typeof e?e:ln(e,1))}var ol=Yn(function(e,t){return function(r){return xn(r,e,t)}}),al=Yn(function(e,t){return function(r){return xn(e,r,t)}});function sl(e,t,r){var n=Ts(t),i=Pn(t,n);null!=r||es(t)&&(i.length||!n.length)||(r=t,t=e,e=this,i=Pn(t,Ts(t)));var o=!(es(r)&&"chain"in r)||!!r.chain,a=Qa(e);return Et(i,function(r){var n=t[r];e[r]=n,a&&(e.prototype[r]=function(){var t=this.__chain__;if(o||t){var r=e(this.__wrapped__);return(r.__actions__=Ei(this.__actions__)).push({func:n,args:arguments,thisArg:e}),r.__chain__=t,r}return n.apply(e,Nt([this.value()],arguments))})}),e}function ll(){}var ul=Hi(Rt),cl=Hi(Tt),pl=Hi(Lt);function hl(e){return wo(e)?Kt(jo(e)):function(e){return function(t){return Sn(t,e)}}(e)}var dl=Vi(),fl=Vi(!0);function vl(){return[]}function gl(){return!1}var ml=qi(function(e,t){return e+t},0),yl=Xi("ceil"),bl=qi(function(e,t){return e/t},1),_l=Xi("floor");var wl=qi(function(e,t){return e*t},1),Pl=Xi("round"),Sl=qi(function(e,t){return e-t},0);return Lr.after=function(e,t){if("function"!=typeof t)throw new Ee(o);return e=fs(e),function(){if(--e<1)return t.apply(this,arguments)}},Lr.ary=Oa,Lr.assign=bs,Lr.assignIn=_s,Lr.assignInWith=ws,Lr.assignWith=Ps,Lr.at=Ss,Lr.before=ka,Lr.bind=Ea,Lr.bindAll=Js,Lr.bindKey=xa,Lr.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Wa(e)?e:[e]},Lr.chain=ha,Lr.chunk=function(e,t,n){t=(n?_o(e,t,n):t===i)?1:Xt(fs(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var a=0,s=0,l=r(dt(o/t));a<o;)l[s++]=ni(e,a,a+=t);return l},Lr.compact=function(e){for(var t=-1,r=null==e?0:e.length,n=0,i=[];++t<r;){var o=e[t];o&&(i[n++]=o)}return i},Lr.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],i=e;i--;)t[i-1]=arguments[i];return Nt(Wa(n)?Ei(n):[n],mn(t,1))},Lr.cond=function(e){var t=null==e?0:e.length,r=lo();return e=t?Rt(e,function(e){if("function"!=typeof e[1])throw new Ee(o);return[r(e[0]),e[1]]}):[],Yn(function(r){for(var n=-1;++n<t;){var i=e[n];if(Ot(i[0],this,r))return Ot(i[1],this,r)}})},Lr.conforms=function(e){return function(e){var t=Ts(e);return function(r){return un(r,e,t)}}(ln(e,1))},Lr.constant=el,Lr.countBy=va,Lr.create=function(e,t){var r=Mr(e);return null==t?r:nn(r,t)},Lr.curry=function e(t,r,n){var o=Qi(t,8,i,i,i,i,i,r=n?i:r);return o.placeholder=e.placeholder,o},Lr.curryRight=function e(t,r,n){var o=Qi(t,l,i,i,i,i,i,r=n?i:r);return o.placeholder=e.placeholder,o},Lr.debounce=Ta,Lr.defaults=As,Lr.defaultsDeep=Fs,Lr.defer=Ua,Lr.delay=Da,Lr.difference=Mo,Lr.differenceBy=zo,Lr.differenceWith=qo,Lr.drop=function(e,t,r){var n=null==e?0:e.length;return n?ni(e,(t=r||t===i?1:fs(t))<0?0:t,n):[]},Lr.dropRight=function(e,t,r){var n=null==e?0:e.length;return n?ni(e,0,(t=n-(t=r||t===i?1:fs(t)))<0?0:t):[]},Lr.dropRightWhile=function(e,t){return e&&e.length?di(e,lo(t,3),!0,!0):[]},Lr.dropWhile=function(e,t){return e&&e.length?di(e,lo(t,3),!0):[]},Lr.fill=function(e,t,r,n){var o=null==e?0:e.length;return o?(r&&"number"!=typeof r&&_o(e,t,r)&&(r=0,n=o),function(e,t,r,n){var o=e.length;for((r=fs(r))<0&&(r=-r>o?0:o+r),(n=n===i||n>o?o:fs(n))<0&&(n+=o),n=r>n?0:vs(n);r<n;)e[r++]=t;return e}(e,t,r,n)):[]},Lr.filter=function(e,t){return(Wa(e)?Ut:gn)(e,lo(t,3))},Lr.flatMap=function(e,t){return mn(Sa(e,t),1)},Lr.flatMapDeep=function(e,t){return mn(Sa(e,t),d)},Lr.flatMapDepth=function(e,t,r){return r=r===i?1:fs(r),mn(Sa(e,t),r)},Lr.flatten=Vo,Lr.flattenDeep=function(e){return(null==e?0:e.length)?mn(e,d):[]},Lr.flattenDepth=function(e,t){return(null==e?0:e.length)?mn(e,t=t===i?1:fs(t)):[]},Lr.flip=function(e){return Qi(e,512)},Lr.flow=tl,Lr.flowRight=rl,Lr.fromPairs=function(e){for(var t=-1,r=null==e?0:e.length,n={};++t<r;){var i=e[t];n[i[0]]=i[1]}return n},Lr.functions=function(e){return null==e?[]:Pn(e,Ts(e))},Lr.functionsIn=function(e){return null==e?[]:Pn(e,Us(e))},Lr.groupBy=_a,Lr.initial=function(e){return(null==e?0:e.length)?ni(e,0,-1):[]},Lr.intersection=Ko,Lr.intersectionBy=Xo,Lr.intersectionWith=$o,Lr.invert=ks,Lr.invertBy=Es,Lr.invokeMap=wa,Lr.iteratee=il,Lr.keyBy=Pa,Lr.keys=Ts,Lr.keysIn=Us,Lr.map=Sa,Lr.mapKeys=function(e,t){var r={};return t=lo(t,3),_n(e,function(e,n,i){on(r,t(e,n,i),e)}),r},Lr.mapValues=function(e,t){var r={};return t=lo(t,3),_n(e,function(e,n,i){on(r,n,t(e,n,i))}),r},Lr.matches=function(e){return Mn(ln(e,1))},Lr.matchesProperty=function(e,t){return zn(e,ln(t,1))},Lr.memoize=Ia,Lr.merge=Ds,Lr.mergeWith=Is,Lr.method=ol,Lr.methodOf=al,Lr.mixin=sl,Lr.negate=Ra,Lr.nthArg=function(e){return e=fs(e),Yn(function(t){return Hn(t,e)})},Lr.omit=Rs,Lr.omitBy=function(e,t){return js(e,Ra(lo(t)))},Lr.once=function(e){return ka(2,e)},Lr.orderBy=function(e,t,r,n){return null==e?[]:(Wa(t)||(t=null==t?[]:[t]),Wa(r=n?i:r)||(r=null==r?[]:[r]),Wn(e,t,r))},Lr.over=ul,Lr.overArgs=Na,Lr.overEvery=cl,Lr.overSome=pl,Lr.partial=ja,Lr.partialRight=Ba,Lr.partition=Aa,Lr.pick=Ns,Lr.pickBy=js,Lr.property=hl,Lr.propertyOf=function(e){return function(t){return null==e?i:Sn(e,t)}},Lr.pull=Qo,Lr.pullAll=Zo,Lr.pullAllBy=function(e,t,r){return e&&e.length&&t&&t.length?Gn(e,t,lo(r,2)):e},Lr.pullAllWith=function(e,t,r){return e&&e.length&&t&&t.length?Gn(e,t,i,r):e},Lr.pullAt=Jo,Lr.range=dl,Lr.rangeRight=fl,Lr.rearg=La,Lr.reject=function(e,t){return(Wa(e)?Ut:gn)(e,Ra(lo(t,3)))},Lr.remove=function(e,t){var r=[];if(!e||!e.length)return r;var n=-1,i=[],o=e.length;for(t=lo(t,3);++n<o;){var a=e[n];t(a,n,e)&&(r.push(a),i.push(n))}return Kn(e,i),r},Lr.rest=function(e,t){if("function"!=typeof e)throw new Ee(o);return Yn(e,t=t===i?t:fs(t))},Lr.reverse=ea,Lr.sampleSize=function(e,t,r){return t=(r?_o(e,t,r):t===i)?1:fs(t),(Wa(e)?Qr:Zn)(e,t)},Lr.set=function(e,t,r){return null==e?e:Jn(e,t,r)},Lr.setWith=function(e,t,r,n){return n="function"==typeof n?n:i,null==e?e:Jn(e,t,r,n)},Lr.shuffle=function(e){return(Wa(e)?Zr:ri)(e)},Lr.slice=function(e,t,r){var n=null==e?0:e.length;return n?(r&&"number"!=typeof r&&_o(e,t,r)?(t=0,r=n):(t=null==t?0:fs(t),r=r===i?n:fs(r)),ni(e,t,r)):[]},Lr.sortBy=Fa,Lr.sortedUniq=function(e){return e&&e.length?si(e):[]},Lr.sortedUniqBy=function(e,t){return e&&e.length?si(e,lo(t,2)):[]},Lr.split=function(e,t,r){return r&&"number"!=typeof r&&_o(e,t,r)&&(t=r=i),(r=r===i?g:r>>>0)?(e=ys(e))&&("string"==typeof t||null!=t&&!os(t))&&!(t=ui(t))&&sr(e)?wi(fr(e),0,r):e.split(t,r):[]},Lr.spread=function(e,t){if("function"!=typeof e)throw new Ee(o);return t=null==t?0:Xt(fs(t),0),Yn(function(r){var n=r[t],i=wi(r,0,t);return n&&Nt(i,n),Ot(e,this,i)})},Lr.tail=function(e){var t=null==e?0:e.length;return t?ni(e,1,t):[]},Lr.take=function(e,t,r){return e&&e.length?ni(e,0,(t=r||t===i?1:fs(t))<0?0:t):[]},Lr.takeRight=function(e,t,r){var n=null==e?0:e.length;return n?ni(e,(t=n-(t=r||t===i?1:fs(t)))<0?0:t,n):[]},Lr.takeRightWhile=function(e,t){return e&&e.length?di(e,lo(t,3),!1,!0):[]},Lr.takeWhile=function(e,t){return e&&e.length?di(e,lo(t,3)):[]},Lr.tap=function(e,t){return t(e),e},Lr.throttle=function(e,t,r){var n=!0,i=!0;if("function"!=typeof e)throw new Ee(o);return es(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),Ta(e,t,{leading:n,maxWait:t,trailing:i})},Lr.thru=da,Lr.toArray=hs,Lr.toPairs=Bs,Lr.toPairsIn=Ls,Lr.toPath=function(e){return Wa(e)?Rt(e,jo):ls(e)?[e]:Ei(No(ys(e)))},Lr.toPlainObject=ms,Lr.transform=function(e,t,r){var n=Wa(e),i=n||Xa(e)||us(e);if(t=lo(t,4),null==r){var o=e&&e.constructor;r=i?n?new o:[]:es(e)&&Qa(o)?Mr(Ge(e)):{}}return(i?Et:_n)(e,function(e,n,i){return t(r,e,n,i)}),r},Lr.unary=function(e){return Oa(e,1)},Lr.union=ta,Lr.unionBy=ra,Lr.unionWith=na,Lr.uniq=function(e){return e&&e.length?ci(e):[]},Lr.uniqBy=function(e,t){return e&&e.length?ci(e,lo(t,2)):[]},Lr.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?ci(e,i,t):[]},Lr.unset=function(e,t){return null==e||pi(e,t)},Lr.unzip=ia,Lr.unzipWith=oa,Lr.update=function(e,t,r){return null==e?e:hi(e,t,yi(r))},Lr.updateWith=function(e,t,r,n){return n="function"==typeof n?n:i,null==e?e:hi(e,t,yi(r),n)},Lr.values=Ms,Lr.valuesIn=function(e){return null==e?[]:er(e,Us(e))},Lr.without=aa,Lr.words=Qs,Lr.wrap=function(e,t){return ja(yi(t),e)},Lr.xor=sa,Lr.xorBy=la,Lr.xorWith=ua,Lr.zip=ca,Lr.zipObject=function(e,t){return gi(e||[],t||[],en)},Lr.zipObjectDeep=function(e,t){return gi(e||[],t||[],Jn)},Lr.zipWith=pa,Lr.entries=Bs,Lr.entriesIn=Ls,Lr.extend=_s,Lr.extendWith=ws,sl(Lr,Lr),Lr.add=ml,Lr.attempt=Zs,Lr.camelCase=zs,Lr.capitalize=qs,Lr.ceil=yl,Lr.clamp=function(e,t,r){return r===i&&(r=t,t=i),r!==i&&(r=(r=gs(r))===r?r:0),t!==i&&(t=(t=gs(t))===t?t:0),sn(gs(e),t,r)},Lr.clone=function(e){return ln(e,4)},Lr.cloneDeep=function(e){return ln(e,5)},Lr.cloneDeepWith=function(e,t){return ln(e,5,t="function"==typeof t?t:i)},Lr.cloneWith=function(e,t){return ln(e,4,t="function"==typeof t?t:i)},Lr.conformsTo=function(e,t){return null==t||un(e,t,Ts(t))},Lr.deburr=Hs,Lr.defaultTo=function(e,t){return null==e||e!==e?t:e},Lr.divide=bl,Lr.endsWith=function(e,t,r){e=ys(e),t=ui(t);var n=e.length,o=r=r===i?n:sn(fs(r),0,n);return(r-=t.length)>=0&&e.slice(r,o)==t},Lr.eq=Ma,Lr.escape=function(e){return(e=ys(e))&&Q.test(e)?e.replace($,or):e},Lr.escapeRegExp=function(e){return(e=ys(e))&&oe.test(e)?e.replace(ie,"\\$&"):e},Lr.every=function(e,t,r){var n=Wa(e)?Tt:fn;return r&&_o(e,t,r)&&(t=i),n(e,lo(t,3))},Lr.find=ga,Lr.findIndex=Ho,Lr.findKey=function(e,t){return zt(e,lo(t,3),_n)},Lr.findLast=ma,Lr.findLastIndex=Wo,Lr.findLastKey=function(e,t){return zt(e,lo(t,3),wn)},Lr.floor=_l,Lr.forEach=ya,Lr.forEachRight=ba,Lr.forIn=function(e,t){return null==e?e:yn(e,lo(t,3),Us)},Lr.forInRight=function(e,t){return null==e?e:bn(e,lo(t,3),Us)},Lr.forOwn=function(e,t){return e&&_n(e,lo(t,3))},Lr.forOwnRight=function(e,t){return e&&wn(e,lo(t,3))},Lr.get=Cs,Lr.gt=za,Lr.gte=qa,Lr.has=function(e,t){return null!=e&&go(e,t,On)},Lr.hasIn=Os,Lr.head=Go,Lr.identity=nl,Lr.includes=function(e,t,r,n){e=Ga(e)?e:Ms(e),r=r&&!n?fs(r):0;var i=e.length;return r<0&&(r=Xt(i+r,0)),ss(e)?r<=i&&e.indexOf(t,r)>-1:!!i&&Ht(e,t,r)>-1},Lr.indexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:fs(r);return i<0&&(i=Xt(n+i,0)),Ht(e,t,i)},Lr.inRange=function(e,t,r){return t=ds(t),r===i?(r=t,t=0):r=ds(r),function(e,t,r){return e>=yr(t,r)&&e<Xt(t,r)}(e=gs(e),t,r)},Lr.invoke=xs,Lr.isArguments=Ha,Lr.isArray=Wa,Lr.isArrayBuffer=Va,Lr.isArrayLike=Ga,Lr.isArrayLikeObject=Ka,Lr.isBoolean=function(e){return!0===e||!1===e||ts(e)&&Fn(e)==_},Lr.isBuffer=Xa,Lr.isDate=$a,Lr.isElement=function(e){return ts(e)&&1===e.nodeType&&!is(e)},Lr.isEmpty=function(e){if(null==e)return!0;if(Ga(e)&&(Wa(e)||"string"==typeof e||"function"==typeof e.splice||Xa(e)||us(e)||Ha(e)))return!e.length;var t=vo(e);if(t==F||t==x)return!e.size;if(Ao(e))return!Nn(e).length;for(var r in e)if(Re.call(e,r))return!1;return!0},Lr.isEqual=function(e,t){return Un(e,t)},Lr.isEqualWith=function(e,t,r){var n=(r="function"==typeof r?r:i)?r(e,t):i;return n===i?Un(e,t,i,r):!!n},Lr.isError=Ya,Lr.isFinite=function(e){return"number"==typeof e&&bt(e)},Lr.isFunction=Qa,Lr.isInteger=Za,Lr.isLength=Ja,Lr.isMap=rs,Lr.isMatch=function(e,t){return e===t||Dn(e,t,co(t))},Lr.isMatchWith=function(e,t,r){return r="function"==typeof r?r:i,Dn(e,t,co(t),r)},Lr.isNaN=function(e){return ns(e)&&e!=+e},Lr.isNative=function(e){if(So(e))throw new se("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return In(e)},Lr.isNil=function(e){return null==e},Lr.isNull=function(e){return null===e},Lr.isNumber=ns,Lr.isObject=es,Lr.isObjectLike=ts,Lr.isPlainObject=is,Lr.isRegExp=os,Lr.isSafeInteger=function(e){return Za(e)&&e>=-9007199254740991&&e<=f},Lr.isSet=as,Lr.isString=ss,Lr.isSymbol=ls,Lr.isTypedArray=us,Lr.isUndefined=function(e){return e===i},Lr.isWeakMap=function(e){return ts(e)&&vo(e)==D},Lr.isWeakSet=function(e){return ts(e)&&"[object WeakSet]"==Fn(e)},Lr.join=function(e,t){return null==e?"":_t.call(e,t)},Lr.kebabCase=Ws,Lr.last=Yo,Lr.lastIndexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var o=n;return r!==i&&(o=(o=fs(r))<0?Xt(n+o,0):yr(o,n-1)),t===t?function(e,t,r){for(var n=r+1;n--;)if(e[n]===t)return n;return n}(e,t,o):qt(e,Vt,o,!0)},Lr.lowerCase=Vs,Lr.lowerFirst=Gs,Lr.lt=cs,Lr.lte=ps,Lr.max=function(e){return e&&e.length?vn(e,nl,Cn):i},Lr.maxBy=function(e,t){return e&&e.length?vn(e,lo(t,2),Cn):i},Lr.mean=function(e){return Gt(e,nl)},Lr.meanBy=function(e,t){return Gt(e,lo(t,2))},Lr.min=function(e){return e&&e.length?vn(e,nl,Bn):i},Lr.minBy=function(e,t){return e&&e.length?vn(e,lo(t,2),Bn):i},Lr.stubArray=vl,Lr.stubFalse=gl,Lr.stubObject=function(){return{}},Lr.stubString=function(){return""},Lr.stubTrue=function(){return!0},Lr.multiply=wl,Lr.nth=function(e,t){return e&&e.length?Hn(e,fs(t)):i},Lr.noConflict=function(){return vt._===this&&(vt._=Me),this},Lr.noop=ll,Lr.now=Ca,Lr.pad=function(e,t,r){e=ys(e);var n=(t=fs(t))?dr(e):0;if(!t||n>=t)return e;var i=(t-n)/2;return Wi(ft(i),r)+e+Wi(dt(i),r)},Lr.padEnd=function(e,t,r){e=ys(e);var n=(t=fs(t))?dr(e):0;return t&&n<t?e+Wi(t-n,r):e},Lr.padStart=function(e,t,r){e=ys(e);var n=(t=fs(t))?dr(e):0;return t&&n<t?Wi(t-n,r)+e:e},Lr.parseInt=function(e,t,r){return r||null==t?t=0:t&&(t=+t),_r(ys(e).replace(ae,""),t||0)},Lr.random=function(e,t,r){if(r&&"boolean"!=typeof r&&_o(e,t,r)&&(t=r=i),r===i&&("boolean"==typeof t?(r=t,t=i):"boolean"==typeof e&&(r=e,e=i)),e===i&&t===i?(e=0,t=1):(e=ds(e),t===i?(t=e,e=0):t=ds(t)),e>t){var n=e;e=t,t=n}if(r||e%1||t%1){var o=wr();return yr(e+o*(t-e+pt("1e-"+((o+"").length-1))),t)}return Xn(e,t)},Lr.reduce=function(e,t,r){var n=Wa(e)?jt:$t,i=arguments.length<3;return n(e,lo(t,4),r,i,hn)},Lr.reduceRight=function(e,t,r){var n=Wa(e)?Bt:$t,i=arguments.length<3;return n(e,lo(t,4),r,i,dn)},Lr.repeat=function(e,t,r){return t=(r?_o(e,t,r):t===i)?1:fs(t),$n(ys(e),t)},Lr.replace=function(){var e=arguments,t=ys(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Lr.result=function(e,t,r){var n=-1,o=(t=bi(t,e)).length;for(o||(o=1,e=i);++n<o;){var a=null==e?i:e[jo(t[n])];a===i&&(n=o,a=r),e=Qa(a)?a.call(e):a}return e},Lr.round=Pl,Lr.runInContext=e,Lr.sample=function(e){return(Wa(e)?Yr:Qn)(e)},Lr.size=function(e){if(null==e)return 0;if(Ga(e))return ss(e)?dr(e):e.length;var t=vo(e);return t==F||t==x?e.size:Nn(e).length},Lr.snakeCase=Ks,Lr.some=function(e,t,r){var n=Wa(e)?Lt:ii;return r&&_o(e,t,r)&&(t=i),n(e,lo(t,3))},Lr.sortedIndex=function(e,t){return oi(e,t)},Lr.sortedIndexBy=function(e,t,r){return ai(e,t,lo(r,2))},Lr.sortedIndexOf=function(e,t){var r=null==e?0:e.length;if(r){var n=oi(e,t);if(n<r&&Ma(e[n],t))return n}return-1},Lr.sortedLastIndex=function(e,t){return oi(e,t,!0)},Lr.sortedLastIndexBy=function(e,t,r){return ai(e,t,lo(r,2),!0)},Lr.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var r=oi(e,t,!0)-1;if(Ma(e[r],t))return r}return-1},Lr.startCase=Xs,Lr.startsWith=function(e,t,r){return e=ys(e),r=null==r?0:sn(fs(r),0,e.length),t=ui(t),e.slice(r,r+t.length)==t},Lr.subtract=Sl,Lr.sum=function(e){return e&&e.length?Yt(e,nl):0},Lr.sumBy=function(e,t){return e&&e.length?Yt(e,lo(t,2)):0},Lr.template=function(e,t,r){var n=Lr.templateSettings;r&&_o(e,t,r)&&(t=i),e=ys(e),t=ws({},t,n,Zi);var o,a,s=ws({},t.imports,n.imports,Zi),l=Ts(s),u=er(s,l),c=0,p=t.interpolate||Pe,h="__p += '",d=Oe((t.escape||Pe).source+"|"+p.source+"|"+(p===ee?fe:Pe).source+"|"+(t.evaluate||Pe).source+"|$","g"),f="//# sourceURL="+(Re.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++st+"]")+"\n";e.replace(d,function(t,r,n,i,s,l){return n||(n=i),h+=e.slice(c,l).replace(Se,ar),r&&(o=!0,h+="' +\n__e("+r+") +\n'"),s&&(a=!0,h+="';\n"+s+";\n__p += '"),n&&(h+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),c=l+t.length,t}),h+="';\n";var v=Re.call(t,"variable")&&t.variable;if(v){if(he.test(v))throw new se("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(a?h.replace(V,""):h).replace(G,"$1").replace(K,"$1;"),h="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var g=Zs(function(){return Ae(l,f+"return "+h).apply(i,u)});if(g.source=h,Ya(g))throw g;return g},Lr.times=function(e,t){if((e=fs(e))<1||e>f)return[];var r=g,n=yr(e,g);t=lo(t),e-=g;for(var i=Qt(n,t);++r<e;)t(r);return i},Lr.toFinite=ds,Lr.toInteger=fs,Lr.toLength=vs,Lr.toLower=function(e){return ys(e).toLowerCase()},Lr.toNumber=gs,Lr.toSafeInteger=function(e){return e?sn(fs(e),-9007199254740991,f):0===e?e:0},Lr.toString=ys,Lr.toUpper=function(e){return ys(e).toUpperCase()},Lr.trim=function(e,t,r){if((e=ys(e))&&(r||t===i))return Zt(e);if(!e||!(t=ui(t)))return e;var n=fr(e),o=fr(t);return wi(n,rr(n,o),nr(n,o)+1).join("")},Lr.trimEnd=function(e,t,r){if((e=ys(e))&&(r||t===i))return e.slice(0,vr(e)+1);if(!e||!(t=ui(t)))return e;var n=fr(e);return wi(n,0,nr(n,fr(t))+1).join("")},Lr.trimStart=function(e,t,r){if((e=ys(e))&&(r||t===i))return e.replace(ae,"");if(!e||!(t=ui(t)))return e;var n=fr(e);return wi(n,rr(n,fr(t))).join("")},Lr.truncate=function(e,t){var r=30,n="...";if(es(t)){var o="separator"in t?t.separator:o;r="length"in t?fs(t.length):r,n="omission"in t?ui(t.omission):n}var a=(e=ys(e)).length;if(sr(e)){var s=fr(e);a=s.length}if(r>=a)return e;var l=r-dr(n);if(l<1)return n;var u=s?wi(s,0,l).join(""):e.slice(0,l);if(o===i)return u+n;if(s&&(l+=u.length-l),os(o)){if(e.slice(l).search(o)){var c,p=u;for(o.global||(o=Oe(o.source,ys(ve.exec(o))+"g")),o.lastIndex=0;c=o.exec(p);)var h=c.index;u=u.slice(0,h===i?l:h)}}else if(e.indexOf(ui(o),l)!=l){var d=u.lastIndexOf(o);d>-1&&(u=u.slice(0,d))}return u+n},Lr.unescape=function(e){return(e=ys(e))&&Y.test(e)?e.replace(X,gr):e},Lr.uniqueId=function(e){var t=++Ne;return ys(e)+t},Lr.upperCase=$s,Lr.upperFirst=Ys,Lr.each=ya,Lr.eachRight=ba,Lr.first=Go,sl(Lr,function(){var e={};return _n(Lr,function(t,r){Re.call(Lr.prototype,r)||(e[r]=t)}),e}(),{chain:!1}),Lr.VERSION="4.17.21",Et(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){Lr[e].placeholder=Lr}),Et(["drop","take"],function(e,t){Hr.prototype[e]=function(r){r=r===i?1:Xt(fs(r),0);var n=this.__filtered__&&!t?new Hr(this):this.clone();return n.__filtered__?n.__takeCount__=yr(r,n.__takeCount__):n.__views__.push({size:yr(r,g),type:e+(n.__dir__<0?"Right":"")}),n},Hr.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),Et(["filter","map","takeWhile"],function(e,t){var r=t+1,n=1==r||3==r;Hr.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:lo(e,3),type:r}),t.__filtered__=t.__filtered__||n,t}}),Et(["head","last"],function(e,t){var r="take"+(t?"Right":"");Hr.prototype[e]=function(){return this[r](1).value()[0]}}),Et(["initial","tail"],function(e,t){var r="drop"+(t?"":"Right");Hr.prototype[e]=function(){return this.__filtered__?new Hr(this):this[r](1)}}),Hr.prototype.compact=function(){return this.filter(nl)},Hr.prototype.find=function(e){return this.filter(e).head()},Hr.prototype.findLast=function(e){return this.reverse().find(e)},Hr.prototype.invokeMap=Yn(function(e,t){return"function"==typeof e?new Hr(this):this.map(function(r){return xn(r,e,t)})}),Hr.prototype.reject=function(e){return this.filter(Ra(lo(e)))},Hr.prototype.slice=function(e,t){e=fs(e);var r=this;return r.__filtered__&&(e>0||t<0)?new Hr(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),t!==i&&(r=(t=fs(t))<0?r.dropRight(-t):r.take(t-e)),r)},Hr.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Hr.prototype.toArray=function(){return this.take(g)},_n(Hr.prototype,function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),n=/^(?:head|last)$/.test(t),o=Lr[n?"take"+("last"==t?"Right":""):t],a=n||/^find/.test(t);o&&(Lr.prototype[t]=function(){var t=this.__wrapped__,s=n?[1]:arguments,l=t instanceof Hr,u=s[0],c=l||Wa(t),p=function(e){var t=o.apply(Lr,Nt([e],s));return n&&h?t[0]:t};c&&r&&"function"==typeof u&&1!=u.length&&(l=c=!1);var h=this.__chain__,d=!!this.__actions__.length,f=a&&!h,v=l&&!d;if(!a&&c){t=v?t:new Hr(this);var g=e.apply(t,s);return g.__actions__.push({func:da,args:[p],thisArg:i}),new qr(g,h)}return f&&v?e.apply(this,s):(g=this.thru(p),f?n?g.value()[0]:g.value():g)})}),Et(["pop","push","shift","sort","splice","unshift"],function(e){var t=xe[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",n=/^(?:pop|shift)$/.test(e);Lr.prototype[e]=function(){var e=arguments;if(n&&!this.__chain__){var i=this.value();return t.apply(Wa(i)?i:[],e)}return this[r](function(r){return t.apply(Wa(r)?r:[],e)})}}),_n(Hr.prototype,function(e,t){var r=Lr[t];if(r){var n=r.name+"";Re.call(xr,n)||(xr[n]=[]),xr[n].push({name:t,func:r})}}),xr[Mi(i,2).name]=[{name:"wrapper",func:i}],Hr.prototype.clone=function(){var e=new Hr(this.__wrapped__);return e.__actions__=Ei(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ei(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ei(this.__views__),e},Hr.prototype.reverse=function(){if(this.__filtered__){var e=new Hr(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Hr.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,r=Wa(e),n=t<0,i=r?e.length:0,o=function(e,t,r){var n=-1,i=r.length;for(;++n<i;){var o=r[n],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=yr(t,e+a);break;case"takeRight":e=Xt(e,t-a)}}return{start:e,end:t}}(0,i,this.__views__),a=o.start,s=o.end,l=s-a,u=n?s:a-1,c=this.__iteratees__,p=c.length,h=0,d=yr(l,this.__takeCount__);if(!r||!n&&i==l&&d==l)return fi(e,this.__actions__);var f=[];e:for(;l--&&h<d;){for(var v=-1,g=e[u+=t];++v<p;){var m=c[v],y=m.iteratee,b=m.type,_=y(g);if(2==b)g=_;else if(!_){if(1==b)continue e;break e}}f[h++]=g}return f},Lr.prototype.at=fa,Lr.prototype.chain=function(){return ha(this)},Lr.prototype.commit=function(){return new qr(this.value(),this.__chain__)},Lr.prototype.next=function(){this.__values__===i&&(this.__values__=hs(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},Lr.prototype.plant=function(e){for(var t,r=this;r instanceof zr;){var n=Lo(r);n.__index__=0,n.__values__=i,t?o.__wrapped__=n:t=n;var o=n;r=r.__wrapped__}return o.__wrapped__=e,t},Lr.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Hr){var t=e;return this.__actions__.length&&(t=new Hr(this)),(t=t.reverse()).__actions__.push({func:da,args:[ea],thisArg:i}),new qr(t,this.__chain__)}return this.thru(ea)},Lr.prototype.toJSON=Lr.prototype.valueOf=Lr.prototype.value=function(){return fi(this.__wrapped__,this.__actions__)},Lr.prototype.first=Lr.prototype.head,Qe&&(Lr.prototype[Qe]=function(){return this}),Lr}();vt._=mr,(n=function(){return mr}.call(t,r,t,e))===i||(e.exports=n)}.call(this)},42512:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(89379),i=r(35584);class o{constructor(e,t){this.uppy=e,this.opts=null!=t?t:{}}getPluginState(){var{plugins:e}=this.uppy.getState();return(null==e?void 0:e[this.id])||{}}setPluginState(e){var{plugins:t}=this.uppy.getState();this.uppy.setState({plugins:(0,n.A)((0,n.A)({},t),{},{[this.id]:(0,n.A)((0,n.A)({},t[this.id]),e)})})}setOptions(e){this.opts=(0,n.A)((0,n.A)({},this.opts),e),this.setPluginState(void 0),this.i18nInit()}i18nInit(){var e=new i.A([this.defaultLocale,this.uppy.locale,this.opts.locale]);this.i18n=e.translate.bind(e),this.i18nArray=e.translateArray.bind(e),this.setPluginState(void 0)}addTarget(e){throw new Error("Extend the addTarget method to add your plugin to another plugin's target")}install(){}uninstall(){}update(e){}afterUpdate(){}}},43488:(e,t,r)=>{"use strict";var n=r(93959);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,r,i,o,a){if(a!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return r.PropTypes=r,r}},48738:(e,t)=>{var r;!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var e="",t=0;t<arguments.length;t++){var r=arguments[t];r&&(e=a(e,o(r)))}return e}function o(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return i.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var r in e)n.call(e,r)&&e[r]&&(t=a(t,r));return t}function a(e,t){return t?e?e+" "+t:e+t:e}e.exports?(i.default=i,e.exports=i):void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r)}()},49461:e=>{"use strict";function t(e,t){this.text=e=e||"",this.hasWild=~e.indexOf("*"),this.separator=t,this.parts=e.split(t)}t.prototype.match=function(e){var t,r,n=!0,i=this.parts,o=i.length;if("string"==typeof e||e instanceof String)if(this.hasWild||this.text==e){for(r=(e||"").split(this.separator),t=0;n&&t<o;t++)"*"!==i[t]&&(n=t<r.length&&i[t]===r[t]);n=n&&r}else n=!1;else if("function"==typeof e.splice)for(n=[],t=e.length;t--;)this.match(e[t])&&(n[n.length]=e[t]);else if("object"==typeof e)for(var a in n={},e)this.match(a)&&(n[a]=e[a]);return n},e.exports=function(e,r,n){var i=new t(e,n||/[\/\.]/);return"undefined"!=typeof r?i.match(r):i}},50184:(e,t,r)=>{var n=r(22022),i=r(39248);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==n(e)}},64918:(e,t,r)=>{"use strict";r.d(t,{N:()=>a});var n=r(89379),i=r(69856);function o(e){var t="";return e.replace(/[^A-Z0-9]/gi,e=>(t+="-".concat(function(e){return e.charCodeAt(0).toString(32)}(e)),"/"))+t}function a(e,t){if(function(e){return!(!e.isRemote||!e.remote)&&new Set(["box","dropbox","drive","facebook","unsplash"]).has(e.remote.provider)}(e))return e.id;var r=(0,i.A)(e);return function(e,t){var r=t||"uppy";return"string"===typeof e.name&&(r+="-".concat(o(e.name.toLowerCase()))),void 0!==e.type&&(r+="-".concat(e.type)),e.meta&&"string"===typeof e.meta.relativePath&&(r+="-".concat(o(e.meta.relativePath.toLowerCase()))),void 0!==e.data.size&&(r+="-".concat(e.data.size)),void 0!==e.data.lastModified&&(r+="-".concat(e.data.lastModified)),r}((0,n.A)((0,n.A)({},e),{},{type:r}),t)}},65336:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},69005:e=>{"use strict";e.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}},69856:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(98943);const i={__proto__:null,md:"text/markdown",markdown:"text/markdown",mp4:"video/mp4",mp3:"audio/mp3",svg:"image/svg+xml",jpg:"image/jpeg",png:"image/png",webp:"image/webp",gif:"image/gif",heic:"image/heic",heif:"image/heif",yaml:"text/yaml",yml:"text/yaml",csv:"text/csv",tsv:"text/tab-separated-values",tab:"text/tab-separated-values",avi:"video/x-msvideo",mks:"video/x-matroska",mkv:"video/x-matroska",mov:"video/quicktime",dicom:"application/dicom",doc:"application/msword",docm:"application/vnd.ms-word.document.macroenabled.12",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dot:"application/msword",dotm:"application/vnd.ms-word.template.macroenabled.12",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",xla:"application/vnd.ms-excel",xlam:"application/vnd.ms-excel.addin.macroenabled.12",xlc:"application/vnd.ms-excel",xlf:"application/x-xliff+xml",xlm:"application/vnd.ms-excel",xls:"application/vnd.ms-excel",xlsb:"application/vnd.ms-excel.sheet.binary.macroenabled.12",xlsm:"application/vnd.ms-excel.sheet.macroenabled.12",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xlt:"application/vnd.ms-excel",xltm:"application/vnd.ms-excel.template.macroenabled.12",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",xlw:"application/vnd.ms-excel",txt:"text/plain",text:"text/plain",conf:"text/plain",log:"text/plain",pdf:"application/pdf",zip:"application/zip","7z":"application/x-7z-compressed",rar:"application/x-rar-compressed",tar:"application/x-tar",gz:"application/gzip",dmg:"application/x-apple-diskimage"};function o(e){var t;if(e.type)return e.type;var r=e.name?null==(t=(0,n.A)(e.name).extension)?void 0:t.toLowerCase():null;return r&&r in i?i[r]:"application/octet-stream"}},71451:(e,t,r)=>{var n=r(49461),i=/[\/\+\.]/;e.exports=function(e,t){function r(t){var r=n(t,e,i);return r&&r.length>=2}return t?r(t.split(";")[0]):r}},72588:(e,t,r)=>{var n=r(86914),i=r(24567),o=r(50184),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=n(e);var r=s.test(e);return r||l.test(e)?u(e.slice(2),r?2:8):a.test(e)?NaN:+e}},72642:e=>{"use strict";var t=Object.prototype.hasOwnProperty,r="~";function n(){}function i(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function o(e,t,n,o,a){if("function"!==typeof n)throw new TypeError("The listener must be a function");var s=new i(n,o||e,a),l=r?r+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function a(e,t){0===--e._eventsCount?e._events=new n:delete e._events[t]}function s(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),s.prototype.eventNames=function(){var e,n,i=[];if(0===this._eventsCount)return i;for(n in e=this._events)t.call(e,n)&&i.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,o=n.length,a=new Array(o);i<o;i++)a[i]=n[i].fn;return a},s.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},s.prototype.emit=function(e,t,n,i,o,a){var s=r?r+e:e;if(!this._events[s])return!1;var l,u,c=this._events[s],p=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),p){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,n),!0;case 4:return c.fn.call(c.context,t,n,i),!0;case 5:return c.fn.call(c.context,t,n,i,o),!0;case 6:return c.fn.call(c.context,t,n,i,o,a),!0}for(u=1,l=new Array(p-1);u<p;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var h,d=c.length;for(u=0;u<d;u++)switch(c[u].once&&this.removeListener(e,c[u].fn,void 0,!0),p){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,t);break;case 3:c[u].fn.call(c[u].context,t,n);break;case 4:c[u].fn.call(c[u].context,t,n,i);break;default:if(!l)for(h=1,l=new Array(p-1);h<p;h++)l[h-1]=arguments[h];c[u].fn.apply(c[u].context,l)}}return!0},s.prototype.on=function(e,t,r){return o(this,e,t,r,!1)},s.prototype.once=function(e,t,r){return o(this,e,t,r,!0)},s.prototype.removeListener=function(e,t,n,i){var o=r?r+e:e;if(!this._events[o])return this;if(!t)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==t||i&&!s.once||n&&s.context!==n||a(this,o);else{for(var l=0,u=[],c=s.length;l<c;l++)(s[l].fn!==t||i&&!s[l].once||n&&s[l].context!==n)&&u.push(s[l]);u.length?this._events[o]=1===u.length?u[0]:u:a(this,o)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&a(this,t)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s},74031:e=>{e.exports=function(e,t){if(e===t)return!0;for(var r in e)if(!(r in t))return!1;for(var r in t)if(e[r]!==t[r])return!1;return!0}},80492:(e,t,r)=>{var n=r(95491),i=r(24567);e.exports=function(e,t,r){var o=!0,a=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return i(r)&&(o="leading"in r?!!r.leading:o,a="trailing"in r?!!r.trailing:a),n(e,t,{leading:o,maxWait:t,trailing:a})}},81581:(e,t,r)=>{var n=r(4635),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=n?n.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),r=e[s];try{e[s]=void 0;var n=!0}catch(l){}var i=a.call(e);return n&&(t?e[s]=r:delete e[s]),i}},86914:(e,t,r)=>{var n=r(88798),i=/^\s+/;e.exports=function(e){return e?e.slice(0,n(e)+1).replace(i,""):e}},88798:e=>{var t=/\s/;e.exports=function(e){for(var r=e.length;r--&&t.test(e.charAt(r)););return r}},92043:()=>{},93807:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>Wn});var n=r(10467),i=r(89379);function o(e,t){return Object.prototype.hasOwnProperty.call(e,t)}class a extends Error{constructor(e,t){super(e),this.cause=null==t?void 0:t.cause,this.cause&&o(this.cause,"isNetworkError")?this.isNetworkError=this.cause.isNetworkError:this.isNetworkError=!1}}const s=a;function l(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var u=0;function c(e){return"__private_"+u+++"_"+e}function p(e){if(null!=e){var t,r=()=>this.abort(e.reason);e.addEventListener("abort",r,{once:!0});var n=()=>{e.removeEventListener("abort",r)};null==(t=this.then)||t.call(this,n,n)}return this}var h=c("activeRequests"),d=c("queuedHandlers"),f=c("paused"),v=c("pauseTimer"),g=c("downLimit"),m=c("upperLimit"),y=c("rateLimitingTimer"),b=c("call"),_=c("queueNext"),w=c("next"),P=c("queue"),S=c("dequeue"),A=c("resume"),F=c("increaseLimit");class C{constructor(e){Object.defineProperty(this,S,{value:T}),Object.defineProperty(this,P,{value:x}),Object.defineProperty(this,w,{value:E}),Object.defineProperty(this,_,{value:k}),Object.defineProperty(this,b,{value:O}),Object.defineProperty(this,h,{writable:!0,value:0}),Object.defineProperty(this,d,{writable:!0,value:[]}),Object.defineProperty(this,f,{writable:!0,value:!1}),Object.defineProperty(this,v,{writable:!0,value:void 0}),Object.defineProperty(this,g,{writable:!0,value:1}),Object.defineProperty(this,m,{writable:!0,value:void 0}),Object.defineProperty(this,y,{writable:!0,value:void 0}),Object.defineProperty(this,A,{writable:!0,value:()=>this.resume()}),Object.defineProperty(this,F,{writable:!0,value:()=>{if(l(this,f)[f])l(this,y)[y]=setTimeout(l(this,F)[F],0);else{l(this,g)[g]=this.limit,this.limit=Math.ceil((l(this,m)[m]+l(this,g)[g])/2);for(var e=l(this,g)[g];e<=this.limit;e++)l(this,_)[_]();l(this,m)[m]-l(this,g)[g]>3?l(this,y)[y]=setTimeout(l(this,F)[F],2e3):l(this,g)[g]=Math.floor(l(this,g)[g]/2)}}}),this.limit="number"!==typeof e||0===e?1/0:e}run(e,t){return!l(this,f)[f]&&l(this,h)[h]<this.limit?l(this,b)[b](e):l(this,P)[P](e,t)}wrapSyncFunction(e,t){var r=this;return function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];var a=r.run(()=>(e(...i),queueMicrotask(()=>a.done()),()=>{}),t);return{abortOn:p,abort(){a.abort()}}}}wrapPromiseFunction(e,t){var r=this;return function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];var a,s=new Promise((n,o)=>{a=r.run(()=>{var t,r;try{r=Promise.resolve(e(...i))}catch(s){r=Promise.reject(s)}return r.then(e=>{t?o(t):(a.done(),n(e))},e=>{t?o(t):(a.done(),o(e))}),e=>{t=function(e){return new Error("Cancelled",{cause:e})}(e)}},t)});return s.abort=e=>{a.abort(e)},s.abortOn=p,s}}resume(){l(this,f)[f]=!1,clearTimeout(l(this,v)[v]);for(var e=0;e<this.limit;e++)l(this,_)[_]()}pause(e){void 0===e&&(e=null),l(this,f)[f]=!0,clearTimeout(l(this,v)[v]),null!=e&&(l(this,v)[v]=setTimeout(l(this,A)[A],e))}rateLimit(e){clearTimeout(l(this,y)[y]),this.pause(e),this.limit>1&&Number.isFinite(this.limit)&&(l(this,m)[m]=this.limit-1,this.limit=l(this,g)[g],l(this,y)[y]=setTimeout(l(this,F)[F],e))}get isPaused(){return l(this,f)[f]}}function O(e){l(this,h)[h]+=1;var t,r=!1;try{t=e()}catch(n){throw l(this,h)[h]-=1,n}return{abort:e=>{r||(r=!0,l(this,h)[h]-=1,null==t||t(e),l(this,_)[_]())},done:()=>{r||(r=!0,l(this,h)[h]-=1,l(this,_)[_]())}}}function k(){queueMicrotask(()=>l(this,w)[w]())}function E(){if(!(l(this,f)[f]||l(this,h)[h]>=this.limit)&&0!==l(this,d)[d].length){var e=l(this,d)[d].shift();if(null==e)throw new Error("Invariant violation: next is null");var t=l(this,b)[b](e.fn);e.abort=t.abort,e.done=t.done}}function x(e,t){var r={fn:e,priority:(null==t?void 0:t.priority)||0,abort:()=>{l(this,S)[S](r)},done:()=>{throw new Error("Cannot mark a queued request as done: this indicates a bug")}},n=l(this,d)[d].findIndex(e=>r.priority>e.priority);return-1===n?l(this,d)[d].push(r):l(this,d)[d].splice(n,0,r),r}function T(e){var t=l(this,d)[d].indexOf(e);-1!==t&&l(this,d)[d].splice(t,1)}Symbol("__queue");var U=r(42512),D=r(53986),I="function"===typeof Buffer,R=("function"===typeof TextDecoder&&new TextDecoder,"function"===typeof TextEncoder?new TextEncoder:void 0),N=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),j=(e=>{var t={};return e.forEach((e,r)=>t[e]=r),t})(N),B=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,L=String.fromCharCode.bind(String),M=("function"===typeof Uint8Array.from&&Uint8Array.from.bind(Uint8Array),e=>e.replace(/=/g,"").replace(/[+\/]/g,e=>"+"==e?"-":"_")),z=e=>e.replace(/[^A-Za-z0-9\+\/]/g,""),q=e=>{for(var t,r,n,i,o="",a=e.length%3,s=0;s<e.length;){if((r=e.charCodeAt(s++))>255||(n=e.charCodeAt(s++))>255||(i=e.charCodeAt(s++))>255)throw new TypeError("invalid character found");o+=N[(t=r<<16|n<<8|i)>>18&63]+N[t>>12&63]+N[t>>6&63]+N[63&t]}return a?o.slice(0,a-3)+"===".substring(a):o},H="function"===typeof btoa?e=>btoa(e):I?e=>Buffer.from(e,"binary").toString("base64"):q,W=I?e=>Buffer.from(e).toString("base64"):e=>{for(var t=[],r=0,n=e.length;r<n;r+=4096)t.push(L.apply(null,e.subarray(r,r+4096)));return H(t.join(""))},V=e=>{if(e.length<2)return(t=e.charCodeAt(0))<128?e:t<2048?L(192|t>>>6)+L(128|63&t):L(224|t>>>12&15)+L(128|t>>>6&63)+L(128|63&t);var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return L(240|t>>>18&7)+L(128|t>>>12&63)+L(128|t>>>6&63)+L(128|63&t)},G=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,K=e=>e.replace(G,V),X=I?e=>Buffer.from(e,"utf8").toString("base64"):R?e=>W(R.encode(e)):e=>H(K(e)),$=function(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?M(X(e)):X(e)},Y=e=>{if(e=e.replace(/\s+/g,""),!B.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(3&e.length));for(var t,r,n,i="",o=0;o<e.length;)t=j[e.charAt(o++)]<<18|j[e.charAt(o++)]<<12|(r=j[e.charAt(o++)])<<6|(n=j[e.charAt(o++)]),i+=64===r?L(t>>16&255):64===n?L(t>>16&255,t>>8&255):L(t>>16&255,t>>8&255,255&t);return i},Q=$,Z=r(23134),J=r.n(Z);function ee(e){return ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ee(e)}function te(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,re(n.key),n)}}function re(e){var t=function(e,t){if("object"!==ee(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==ee(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ee(t)?t:String(t)}function ne(e){var t=ae();return function(){var r,n=le(e);if(t){var i=le(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===ee(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function ie(e){var t="function"===typeof Map?new Map:void 0;return ie=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"===typeof e}}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return oe(e,arguments,le(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),se(r,e)},ie(e)}function oe(e,t,r){return oe=ae()?Reflect.construct.bind():function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&se(i,r.prototype),i},oe.apply(null,arguments)}function ae(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function se(e,t){return se=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},se(e,t)}function le(e){return le=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},le(e)}const ue=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&se(e,t)}(o,e);var t,r,n,i=ne(o);function o(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=i.call(this,e)).originalRequest=n,t.originalResponse=a,t.causingError=r,null!=r&&(e+=", caused by ".concat(r.toString())),null!=n){var s=n.getHeader("X-Request-ID")||"n/a",l=n.getMethod(),u=n.getURL(),c=a?a.getStatus():"n/a",p=a?a.getBody()||"":"n/a";e+=", originated from request (method: ".concat(l,", url: ").concat(u,", response code: ").concat(c,", response text: ").concat(p,", request id: ").concat(s,")")}return t.message=e,t}return t=o,r&&te(t.prototype,r),n&&te(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(ie(Error));var ce=!1;function pe(e){ce&&console.log(e)}function he(){he=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var o=t&&t.prototype instanceof m?t:m,a=Object.create(o.prototype),s=new x(n||[]);return i(a,"_invoke",{value:C(e,r,s)}),a}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=c;var h="suspendedStart",d="suspendedYield",f="executing",v="completed",g={};function m(){}function y(){}function b(){}var _={};u(_,a,function(){return this});var w=Object.getPrototypeOf,P=w&&w(w(T([])));P&&P!==r&&n.call(P,a)&&(_=P);var S=b.prototype=m.prototype=Object.create(_);function A(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function F(e,t){function r(i,o,a,s){var l=p(e[i],e,o);if("throw"!==l.type){var u=l.arg,c=u.value;return c&&"object"==ge(c)&&n.call(c,"__await")?t.resolve(c.__await).then(function(e){r("next",e,a,s)},function(e){r("throw",e,a,s)}):t.resolve(c).then(function(e){u.value=e,a(u)},function(e){return r("throw",e,a,s)})}s(l.arg)}var o;i(this,"_invoke",{value:function(e,n){function i(){return new t(function(t,i){r(e,n,t,i)})}return o=o?o.then(i,i):i()}})}function C(t,r,n){var i=h;return function(o,a){if(i===f)throw new Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:e,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var l=O(s,n);if(l){if(l===g)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===h)throw i=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=f;var u=p(t,r,n);if("normal"===u.type){if(i=n.done?v:d,u.arg===g)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(i=v,n.method="throw",n.arg=u.arg)}}}function O(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,O(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var o=p(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,g;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,g):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function r(){for(;++i<t.length;)if(n.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(ge(t)+" is not iterable")}return y.prototype=b,i(S,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:y,configurable:!0}),y.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},A(F.prototype),u(F.prototype,s,function(){return this}),t.AsyncIterator=F,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new F(c(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then(function(e){return e.done?e.value:a.next()})},A(S),u(S,l,"Generator"),u(S,a,function(){return this}),u(S,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(E),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function i(n,i){return s.type="throw",s.arg=t,r.next=n,i&&(r.method="next",r.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var l=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;E(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),g}},t}function de(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(ue){return void r(ue)}s.done?t(l):Promise.resolve(l).then(n,i)}function fe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return ve(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ve(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ge(e){return ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ge(e)}function me(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ye(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?me(Object(r),!0).forEach(function(t){be(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):me(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function be(e,t,r){return(t=we(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,we(n.key),n)}}function we(e){var t=function(e,t){if("object"!==ge(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==ge(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ge(t)?t:String(t)}var Pe={endpoint:null,uploadUrl:null,metadata:{},fingerprint:null,uploadSize:null,onProgress:null,onChunkComplete:null,onSuccess:null,onError:null,onUploadUrlAvailable:null,overridePatchMethod:!1,headers:{},addRequestId:!1,onBeforeRequest:null,onAfterResponse:null,onShouldRetry:xe,chunkSize:1/0,retryDelays:[0,1e3,3e3,5e3],parallelUploads:1,parallelUploadBoundaries:null,storeFingerprintForResuming:!0,removeFingerprintOnSuccess:!1,uploadLengthDeferred:!1,uploadDataDuringCreation:!1,urlStorage:null,fileReader:null,httpStack:null},Se=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),"resume"in r&&console.log("tus: The `resume` option has been removed in tus-js-client v2. Please use the URL storage API instead."),this.options=r,this.options.chunkSize=Number(this.options.chunkSize),this._urlStorage=this.options.urlStorage,this.file=t,this.url=null,this._req=null,this._fingerprint=null,this._urlStorageKey=null,this._offset=null,this._aborted=!1,this._size=null,this._source=null,this._retryAttempt=0,this._retryTimeout=null,this._offsetBeforeRetry=0,this._parallelUploads=null,this._parallelUploadUrls=null}var t,r,n;return t=e,r=[{key:"findPreviousUploads",value:function(){var e=this;return this.options.fingerprint(this.file,this.options).then(function(t){return e._urlStorage.findUploadsByFingerprint(t)})}},{key:"resumeFromPreviousUpload",value:function(e){this.url=e.uploadUrl||null,this._parallelUploadUrls=e.parallelUploadUrls||null,this._urlStorageKey=e.urlStorageKey}},{key:"start",value:function(){var e=this,t=this.file;if(t)if(this.options.endpoint||this.options.uploadUrl||this.url){var r=this.options.retryDelays;if(null==r||"[object Array]"===Object.prototype.toString.call(r)){if(this.options.parallelUploads>1)for(var n=0,i=["uploadUrl","uploadSize","uploadLengthDeferred"];n<i.length;n++){var o=i[n];if(this.options[o])return void this._emitError(new Error("tus: cannot use the ".concat(o," option when parallelUploads is enabled")))}if(this.options.parallelUploadBoundaries){if(this.options.parallelUploads<=1)return void this._emitError(new Error("tus: cannot use the `parallelUploadBoundaries` option when `parallelUploads` is disabled"));if(this.options.parallelUploads!==this.options.parallelUploadBoundaries.length)return void this._emitError(new Error("tus: the `parallelUploadBoundaries` must have the same length as the value of `parallelUploads`"))}this.options.fingerprint(t,this.options).then(function(r){return pe(null==r?"No fingerprint was calculated meaning that the upload cannot be stored in the URL storage.":"Calculated fingerprint: ".concat(r)),e._fingerprint=r,e._source?e._source:e.options.fileReader.openFile(t,e.options.chunkSize)}).then(function(t){if(e._source=t,e.options.uploadLengthDeferred)e._size=null;else if(null!=e.options.uploadSize){if(e._size=Number(e.options.uploadSize),Number.isNaN(e._size))return void e._emitError(new Error("tus: cannot convert `uploadSize` option into a number"))}else if(e._size=e._source.size,null==e._size)return void e._emitError(new Error("tus: cannot automatically derive upload's size from input. Specify it manually using the `uploadSize` option or use the `uploadLengthDeferred` option"));e.options.parallelUploads>1||null!=e._parallelUploadUrls?e._startParallelUpload():e._startSingleUpload()}).catch(function(t){e._emitError(t)})}else this._emitError(new Error("tus: the `retryDelays` option must either be an array or null"))}else this._emitError(new Error("tus: neither an endpoint or an upload URL is provided"));else this._emitError(new Error("tus: no file or stream to upload provided"))}},{key:"_startParallelUpload",value:function(){var t,r=this,n=this._size,i=0;this._parallelUploads=[];var o=null!=this._parallelUploadUrls?this._parallelUploadUrls.length:this.options.parallelUploads,a=null!==(t=this.options.parallelUploadBoundaries)&&void 0!==t?t:function(e,t){for(var r=Math.floor(e/t),n=[],i=0;i<t;i++)n.push({start:r*i,end:r*(i+1)});return n[t-1].end=e,n}(this._source.size,o);this._parallelUploadUrls&&a.forEach(function(e,t){e.uploadUrl=r._parallelUploadUrls[t]||null}),this._parallelUploadUrls=new Array(a.length);var s,l=a.map(function(t,o){var s=0;return r._source.slice(t.start,t.end).then(function(l){var u=l.value;return new Promise(function(l,c){var p=ye(ye({},r.options),{},{uploadUrl:t.uploadUrl||null,storeFingerprintForResuming:!1,removeFingerprintOnSuccess:!1,parallelUploads:1,parallelUploadBoundaries:null,metadata:{},headers:ye(ye({},r.options.headers),{},{"Upload-Concat":"partial"}),onSuccess:l,onError:c,onProgress:function(e){i=i-s+e,s=e,r._emitProgress(i,n)},onUploadUrlAvailable:function(){r._parallelUploadUrls[o]=h.url,r._parallelUploadUrls.filter(function(e){return Boolean(e)}).length===a.length&&r._saveUploadInUrlStorage()}}),h=new e(u,p);h.start(),r._parallelUploads.push(h)})})});Promise.all(l).then(function(){(s=r._openRequest("POST",r.options.endpoint)).setHeader("Upload-Concat","final;".concat(r._parallelUploadUrls.join(" ")));var e=Ae(r.options.metadata);return""!==e&&s.setHeader("Upload-Metadata",e),r._sendRequest(s,null)}).then(function(e){if(Fe(e.getStatus(),200)){var t=e.getHeader("Location");null!=t?(r.url=Te(r.options.endpoint,t),pe("Created upload at ".concat(r.url)),r._emitSuccess()):r._emitHttpError(s,e,"tus: invalid or missing Location header")}else r._emitHttpError(s,e,"tus: unexpected response while creating upload")}).catch(function(e){r._emitError(e)})}},{key:"_startSingleUpload",value:function(){return this._aborted=!1,null!=this.url?(pe("Resuming upload from previous URL: ".concat(this.url)),void this._resumeUpload()):null!=this.options.uploadUrl?(pe("Resuming upload from provided URL: ".concat(this.options.uploadUrl)),this.url=this.options.uploadUrl,void this._resumeUpload()):(pe("Creating a new upload"),void this._createUpload())}},{key:"abort",value:function(t){var r=this;return null!=this._parallelUploads&&this._parallelUploads.forEach(function(e){e.abort(t)}),null!==this._req&&this._req.abort(),this._aborted=!0,null!=this._retryTimeout&&(clearTimeout(this._retryTimeout),this._retryTimeout=null),t&&null!=this.url?e.terminate(this.url,this.options).then(function(){return r._removeFromUrlStorage()}):Promise.resolve()}},{key:"_emitHttpError",value:function(e,t,r,n){this._emitError(new ue(r,n,e,t))}},{key:"_emitError",value:function(e){var t=this;if(!this._aborted){if(null!=this.options.retryDelays&&(null!=this._offset&&this._offset>this._offsetBeforeRetry&&(this._retryAttempt=0),Ee(e,this._retryAttempt,this.options))){var r=this.options.retryDelays[this._retryAttempt++];return this._offsetBeforeRetry=this._offset,void(this._retryTimeout=setTimeout(function(){t.start()},r))}if("function"!==typeof this.options.onError)throw e;this.options.onError(e)}}},{key:"_emitSuccess",value:function(){this.options.removeFingerprintOnSuccess&&this._removeFromUrlStorage(),"function"===typeof this.options.onSuccess&&this.options.onSuccess()}},{key:"_emitProgress",value:function(e,t){"function"===typeof this.options.onProgress&&this.options.onProgress(e,t)}},{key:"_emitChunkComplete",value:function(e,t,r){"function"===typeof this.options.onChunkComplete&&this.options.onChunkComplete(e,t,r)}},{key:"_createUpload",value:function(){var e=this;if(this.options.endpoint){var t=this._openRequest("POST",this.options.endpoint);this.options.uploadLengthDeferred?t.setHeader("Upload-Defer-Length",1):t.setHeader("Upload-Length",this._size);var r,n=Ae(this.options.metadata);""!==n&&t.setHeader("Upload-Metadata",n),this.options.uploadDataDuringCreation&&!this.options.uploadLengthDeferred?(this._offset=0,r=this._addChunkToRequest(t)):r=this._sendRequest(t,null),r.then(function(r){if(Fe(r.getStatus(),200)){var n=r.getHeader("Location");if(null!=n){if(e.url=Te(e.options.endpoint,n),pe("Created upload at ".concat(e.url)),"function"===typeof e.options.onUploadUrlAvailable&&e.options.onUploadUrlAvailable(),0===e._size)return e._emitSuccess(),void e._source.close();e._saveUploadInUrlStorage().then(function(){e.options.uploadDataDuringCreation?e._handleUploadResponse(t,r):(e._offset=0,e._performUpload())})}else e._emitHttpError(t,r,"tus: invalid or missing Location header")}else e._emitHttpError(t,r,"tus: unexpected response while creating upload")}).catch(function(r){e._emitHttpError(t,null,"tus: failed to create upload",r)})}else this._emitError(new Error("tus: unable to create upload because no endpoint is provided"))}},{key:"_resumeUpload",value:function(){var e=this,t=this._openRequest("HEAD",this.url);this._sendRequest(t,null).then(function(r){var n=r.getStatus();if(!Fe(n,200))return 423===n?void e._emitHttpError(t,r,"tus: upload is currently locked; retry later"):(Fe(n,400)&&e._removeFromUrlStorage(),e.options.endpoint?(e.url=null,void e._createUpload()):void e._emitHttpError(t,r,"tus: unable to resume upload (new upload cannot be created without an endpoint)"));var i=parseInt(r.getHeader("Upload-Offset"),10);if(Number.isNaN(i))e._emitHttpError(t,r,"tus: invalid or missing offset value");else{var o=parseInt(r.getHeader("Upload-Length"),10);!Number.isNaN(o)||e.options.uploadLengthDeferred?("function"===typeof e.options.onUploadUrlAvailable&&e.options.onUploadUrlAvailable(),e._saveUploadInUrlStorage().then(function(){if(i===o)return e._emitProgress(o,o),void e._emitSuccess();e._offset=i,e._performUpload()})):e._emitHttpError(t,r,"tus: invalid or missing length value")}}).catch(function(r){e._emitHttpError(t,null,"tus: failed to resume upload",r)})}},{key:"_performUpload",value:function(){var e,t=this;this._aborted||(this.options.overridePatchMethod?(e=this._openRequest("POST",this.url)).setHeader("X-HTTP-Method-Override","PATCH"):e=this._openRequest("PATCH",this.url),e.setHeader("Upload-Offset",this._offset),this._addChunkToRequest(e).then(function(r){Fe(r.getStatus(),200)?t._handleUploadResponse(e,r):t._emitHttpError(e,r,"tus: unexpected response while uploading chunk")}).catch(function(r){t._aborted||t._emitHttpError(e,null,"tus: failed to upload chunk at offset ".concat(t._offset),r)}))}},{key:"_addChunkToRequest",value:function(e){var t=this,r=this._offset,n=this._offset+this.options.chunkSize;return e.setProgressHandler(function(e){t._emitProgress(r+e,t._size)}),e.setHeader("Content-Type","application/offset+octet-stream"),(n===1/0||n>this._size)&&!this.options.uploadLengthDeferred&&(n=this._size),this._source.slice(r,n).then(function(r){var n=r.value,i=r.done,o=n&&n.size?n.size:0;t.options.uploadLengthDeferred&&i&&(t._size=t._offset+o,e.setHeader("Upload-Length",t._size));var a=t._offset+o;return!t.options.uploadLengthDeferred&&i&&a!==t._size?Promise.reject(new Error("upload was configured with a size of ".concat(t._size," bytes, but the source is done after ").concat(a," bytes"))):null===n?t._sendRequest(e):(t._emitProgress(t._offset,t._size),t._sendRequest(e,n))})}},{key:"_handleUploadResponse",value:function(e,t){var r=parseInt(t.getHeader("Upload-Offset"),10);if(Number.isNaN(r))this._emitHttpError(e,t,"tus: invalid or missing offset value");else{if(this._emitProgress(r,this._size),this._emitChunkComplete(r-this._offset,r,this._size),this._offset=r,r===this._size)return this._emitSuccess(),void this._source.close();this._performUpload()}}},{key:"_openRequest",value:function(e,t){var r=Ce(e,t,this.options);return this._req=r,r}},{key:"_removeFromUrlStorage",value:function(){var e=this;this._urlStorageKey&&(this._urlStorage.removeUpload(this._urlStorageKey).catch(function(t){e._emitError(t)}),this._urlStorageKey=null)}},{key:"_saveUploadInUrlStorage",value:function(){var e=this;if(!this.options.storeFingerprintForResuming||!this._fingerprint||null!==this._urlStorageKey)return Promise.resolve();var t={size:this._size,metadata:this.options.metadata,creationTime:(new Date).toString()};return this._parallelUploads?t.parallelUploadUrls=this._parallelUploadUrls:t.uploadUrl=this.url,this._urlStorage.addUpload(this._fingerprint,t).then(function(t){e._urlStorageKey=t})}},{key:"_sendRequest",value:function(e){return Oe(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,this.options)}}],n=[{key:"terminate",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Ce("DELETE",t,r);return Oe(n,null,r).then(function(e){if(204!==e.getStatus())throw new ue("tus: unexpected response while terminating upload",null,n,e)}).catch(function(i){if(i instanceof ue||(i=new ue("tus: failed to terminate upload",i,n,null)),!Ee(i,0,r))throw i;var o=r.retryDelays[0],a=r.retryDelays.slice(1),s=ye(ye({},r),{},{retryDelays:a});return new Promise(function(e){return setTimeout(e,o)}).then(function(){return e.terminate(t,s)})})}}],r&&_e(t.prototype,r),n&&_e(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Ae(e){return Object.entries(e).map(function(e){var t=fe(e,2),r=t[0],n=t[1];return"".concat(r," ").concat(Q(String(n)))}).join(",")}function Fe(e,t){return e>=t&&e<t+100}function Ce(e,t,r){var n=r.httpStack.createRequest(e,t);n.setHeader("Tus-Resumable","1.0.0");var i=r.headers||{};if(Object.entries(i).forEach(function(e){var t=fe(e,2),r=t[0],i=t[1];n.setHeader(r,i)}),r.addRequestId){var o="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)});n.setHeader("X-Request-ID",o)}return n}function Oe(e,t,r){return ke.apply(this,arguments)}function ke(){var e;return e=he().mark(function e(t,r,n){var i;return he().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!==typeof n.onBeforeRequest){e.next=3;break}return e.next=3,n.onBeforeRequest(t);case 3:return e.next=5,t.send(r);case 5:if(i=e.sent,"function"!==typeof n.onAfterResponse){e.next=9;break}return e.next=9,n.onAfterResponse(t,i);case 9:return e.abrupt("return",i);case 10:case"end":return e.stop()}},e)}),ke=function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e){de(o,n,i,a,s,"next",e)}function s(e){de(o,n,i,a,s,"throw",e)}a(void 0)})},ke.apply(this,arguments)}function Ee(e,t,r){return!(null==r.retryDelays||t>=r.retryDelays.length||null==e.originalRequest)&&(r&&"function"===typeof r.onShouldRetry?r.onShouldRetry(e,t,r):xe(e))}function xe(e){var t=e.originalResponse?e.originalResponse.getStatus():0;return(!Fe(t,400)||409===t||423===t)&&function(){var e=!0;return"undefined"!==typeof window&&"navigator"in window&&!1===window.navigator.onLine&&(e=!1),e}()}function Te(e,t){return new(J())(t,e).toString()}Se.defaultOptions=Pe;const Ue=Se;function De(e){return De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},De(e)}function Ie(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Re(n.key),n)}}function Re(e){var t=function(e,t){if("object"!==De(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==De(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===De(t)?t:String(t)}var Ne=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,n;return t=e,(r=[{key:"listAllUploads",value:function(){return Promise.resolve([])}},{key:"findUploadsByFingerprint",value:function(e){return Promise.resolve([])}},{key:"removeUpload",value:function(e){return Promise.resolve()}},{key:"addUpload",value:function(e,t){return Promise.resolve(null)}}])&&Ie(t.prototype,r),n&&Ie(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function je(e){return je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},je(e)}function Be(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Le(n.key),n)}}function Le(e){var t=function(e,t){if("object"!==je(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==je(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===je(t)?t:String(t)}var Me=!1;try{Me="localStorage"in window;var ze="tusSupport",qe=localStorage.getItem(ze);localStorage.setItem(ze,qe),null===qe&&localStorage.removeItem(ze)}catch(ii){if(ii.code!==ii.SECURITY_ERR&&ii.code!==ii.QUOTA_EXCEEDED_ERR)throw ii;Me=!1}var He=Me,We=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,n;return t=e,r=[{key:"findAllUploads",value:function(){var e=this._findEntries("tus::");return Promise.resolve(e)}},{key:"findUploadsByFingerprint",value:function(e){var t=this._findEntries("tus::".concat(e,"::"));return Promise.resolve(t)}},{key:"removeUpload",value:function(e){return localStorage.removeItem(e),Promise.resolve()}},{key:"addUpload",value:function(e,t){var r=Math.round(1e12*Math.random()),n="tus::".concat(e,"::").concat(r);return localStorage.setItem(n,JSON.stringify(t)),Promise.resolve(n)}},{key:"_findEntries",value:function(e){for(var t=[],r=0;r<localStorage.length;r++){var n=localStorage.key(r);if(0===n.indexOf(e))try{var i=JSON.parse(localStorage.getItem(n));i.urlStorageKey=n,t.push(i)}catch(ii){}}return t}}],r&&Be(t.prototype,r),n&&Be(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Ve(e){return Ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ve(e)}function Ge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ke(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$e(n.key),n)}}function Xe(e,t,r){return t&&Ke(e.prototype,t),r&&Ke(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function $e(e){var t=function(e,t){if("object"!==Ve(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Ve(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ve(t)?t:String(t)}var Ye=function(){function e(){Ge(this,e)}return Xe(e,[{key:"createRequest",value:function(e,t){return new Qe(e,t)}},{key:"getName",value:function(){return"XHRHttpStack"}}]),e}(),Qe=function(){function e(t,r){Ge(this,e),this._xhr=new XMLHttpRequest,this._xhr.open(t,r,!0),this._method=t,this._url=r,this._headers={}}return Xe(e,[{key:"getMethod",value:function(){return this._method}},{key:"getURL",value:function(){return this._url}},{key:"setHeader",value:function(e,t){this._xhr.setRequestHeader(e,t),this._headers[e]=t}},{key:"getHeader",value:function(e){return this._headers[e]}},{key:"setProgressHandler",value:function(e){"upload"in this._xhr&&(this._xhr.upload.onprogress=function(t){t.lengthComputable&&e(t.loaded)})}},{key:"send",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new Promise(function(r,n){e._xhr.onload=function(){r(new Ze(e._xhr))},e._xhr.onerror=function(e){n(e)},e._xhr.send(t)})}},{key:"abort",value:function(){return this._xhr.abort(),Promise.resolve()}},{key:"getUnderlyingObject",value:function(){return this._xhr}}]),e}(),Ze=function(){function e(t){Ge(this,e),this._xhr=t}return Xe(e,[{key:"getStatus",value:function(){return this._xhr.status}},{key:"getHeader",value:function(e){return this._xhr.getResponseHeader(e)}},{key:"getBody",value:function(){return this._xhr.responseText}},{key:"getUnderlyingObject",value:function(){return this._xhr}}]),e}();const Je=function(){return"undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase()};function et(e){return new Promise(function(t,r){var n=new XMLHttpRequest;n.responseType="blob",n.onload=function(){var e=n.response;t(e)},n.onerror=function(e){r(e)},n.open("GET",e),n.send()})}const tt=function(){return"undefined"!==typeof window&&("undefined"!==typeof window.PhoneGap||"undefined"!==typeof window.Cordova||"undefined"!==typeof window.cordova)};function rt(e){return rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rt(e)}function nt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,it(n.key),n)}}function it(e){var t=function(e,t){if("object"!==rt(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==rt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===rt(t)?t:String(t)}var ot=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._file=t,this.size=t.size}var t,r,n;return t=e,(r=[{key:"slice",value:function(e,t){if(tt())return r=this._file.slice(e,t),new Promise(function(e,t){var n=new FileReader;n.onload=function(){var t=new Uint8Array(n.result);e({value:t})},n.onerror=function(e){t(e)},n.readAsArrayBuffer(r)});var r,n=this._file.slice(e,t),i=t>=this.size;return Promise.resolve({value:n,done:i})}},{key:"close",value:function(){}}])&&nt(t.prototype,r),n&&nt(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function at(e){return at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},at(e)}function st(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lt(n.key),n)}}function lt(e){var t=function(e,t){if("object"!==at(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==at(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===at(t)?t:String(t)}function ut(e){return void 0===e?0:void 0!==e.size?e.size:e.length}var ct=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._buffer=void 0,this._bufferOffset=0,this._reader=t,this._done=!1}var t,r,n;return t=e,(r=[{key:"slice",value:function(e,t){return e<this._bufferOffset?Promise.reject(new Error("Requested data is before the reader's current offset")):this._readUntilEnoughDataOrDone(e,t)}},{key:"_readUntilEnoughDataOrDone",value:function(e,t){var r=this,n=t<=this._bufferOffset+ut(this._buffer);if(this._done||n){var i=this._getDataFromBuffer(e,t),o=null==i&&this._done;return Promise.resolve({value:i,done:o})}return this._reader.read().then(function(n){var i=n.value;return n.done?r._done=!0:void 0===r._buffer?r._buffer=i:r._buffer=function(e,t){if(e.concat)return e.concat(t);if(e instanceof Blob)return new Blob([e,t],{type:e.type});if(e.set){var r=new e.constructor(e.length+t.length);return r.set(e),r.set(t,e.length),r}throw new Error("Unknown data type")}(r._buffer,i),r._readUntilEnoughDataOrDone(e,t)})}},{key:"_getDataFromBuffer",value:function(e,t){e>this._bufferOffset&&(this._buffer=this._buffer.slice(e-this._bufferOffset),this._bufferOffset=e);var r=0===ut(this._buffer);return this._done&&r?null:this._buffer.slice(0,t-e)}},{key:"close",value:function(){this._reader.cancel&&this._reader.cancel()}}])&&st(t.prototype,r),n&&st(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function pt(e){return pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pt(e)}function ht(){ht=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var o=t&&t.prototype instanceof m?t:m,a=Object.create(o.prototype),s=new x(n||[]);return i(a,"_invoke",{value:C(e,r,s)}),a}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=c;var h="suspendedStart",d="suspendedYield",f="executing",v="completed",g={};function m(){}function y(){}function b(){}var _={};u(_,a,function(){return this});var w=Object.getPrototypeOf,P=w&&w(w(T([])));P&&P!==r&&n.call(P,a)&&(_=P);var S=b.prototype=m.prototype=Object.create(_);function A(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function F(e,t){function r(i,o,a,s){var l=p(e[i],e,o);if("throw"!==l.type){var u=l.arg,c=u.value;return c&&"object"==pt(c)&&n.call(c,"__await")?t.resolve(c.__await).then(function(e){r("next",e,a,s)},function(e){r("throw",e,a,s)}):t.resolve(c).then(function(e){u.value=e,a(u)},function(e){return r("throw",e,a,s)})}s(l.arg)}var o;i(this,"_invoke",{value:function(e,n){function i(){return new t(function(t,i){r(e,n,t,i)})}return o=o?o.then(i,i):i()}})}function C(t,r,n){var i=h;return function(o,a){if(i===f)throw new Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:e,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var l=O(s,n);if(l){if(l===g)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===h)throw i=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=f;var u=p(t,r,n);if("normal"===u.type){if(i=n.done?v:d,u.arg===g)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(i=v,n.method="throw",n.arg=u.arg)}}}function O(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,O(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var o=p(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,g;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,g):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function r(){for(;++i<t.length;)if(n.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(pt(t)+" is not iterable")}return y.prototype=b,i(S,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:y,configurable:!0}),y.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},A(F.prototype),u(F.prototype,s,function(){return this}),t.AsyncIterator=F,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new F(c(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then(function(e){return e.done?e.value:a.next()})},A(S),u(S,l,"Generator"),u(S,a,function(){return this}),u(S,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(E),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function i(n,i){return s.type="throw",s.arg=t,r.next=n,i&&(r.method="next",r.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var l=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;E(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),g}},t}function dt(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(ue){return void r(ue)}s.done?t(l):Promise.resolve(l).then(n,i)}function ft(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vt(n.key),n)}}function vt(e){var t=function(e,t){if("object"!==pt(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==pt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===pt(t)?t:String(t)}var gt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,n;return t=e,r=[{key:"openFile",value:function(){var e,t=(e=ht().mark(function e(t,r){var n;return ht().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Je()||!t||"undefined"===typeof t.uri){e.next=11;break}return e.prev=1,e.next=4,et(t.uri);case 4:return n=e.sent,e.abrupt("return",new ot(n));case 8:throw e.prev=8,e.t0=e.catch(1),new Error("tus: cannot fetch `file.uri` as Blob, make sure the uri is correct and accessible. ".concat(e.t0));case 11:if("function"!==typeof t.slice||"undefined"===typeof t.size){e.next=13;break}return e.abrupt("return",Promise.resolve(new ot(t)));case 13:if("function"!==typeof t.read){e.next=18;break}if(r=Number(r),Number.isFinite(r)){e.next=17;break}return e.abrupt("return",Promise.reject(new Error("cannot create source for stream without a finite value for the `chunkSize` option")));case 17:return e.abrupt("return",Promise.resolve(new ct(t,r)));case 18:return e.abrupt("return",Promise.reject(new Error("source object may only be an instance of File, Blob, or Reader in this environment")));case 19:case"end":return e.stop()}},e,null,[[1,8]])}),function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e){dt(o,n,i,a,s,"next",e)}function s(e){dt(o,n,i,a,s,"throw",e)}a(void 0)})});return function(e,r){return t.apply(this,arguments)}}()}],r&&ft(t.prototype,r),n&&ft(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function mt(e){return mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mt(e)}function yt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ft(n.key),n)}}function bt(e,t){return bt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},bt(e,t)}function _t(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(ii){return!1}}();return function(){var r,n=wt(e);if(t){var i=wt(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===mt(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function wt(e){return wt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},wt(e)}function Pt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function St(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pt(Object(r),!0).forEach(function(t){At(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pt(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function At(e,t,r){return(t=Ft(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ft(e){var t=function(e,t){if("object"!==mt(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==mt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===mt(t)?t:String(t)}var Ct=St(St({},Ue.defaultOptions),{},{httpStack:new Ye,fileReader:new gt,urlStorage:He?new We:new Ne,fingerprint:function(e,t){return Je()?Promise.resolve(function(e,t){var r=e.exif?function(e){var t=0;if(0===e.length)return t;for(var r=0;r<e.length;r++){t=(t<<5)-t+e.charCodeAt(r),t&=t}return t}(JSON.stringify(e.exif)):"noexif";return["tus-rn",e.name||"noname",e.size||"nosize",r,t.endpoint].join("/")}(e,t)):Promise.resolve(["tus-br",e.name,e.type,e.size,e.lastModified,t.endpoint].join("-"))}}),Ot=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bt(e,t)}(o,e);var t,r,n,i=_t(o);function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=St(St({},Ct),t),i.call(this,e,t)}return t=o,n=[{key:"terminate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t=St(St({},Ct),t),Ue.terminate(e,t)}}],(r=null)&&yt(t.prototype,r),n&&yt(t,n),Object.defineProperty(t,"prototype",{writable:!1}),o}(Ue),kt=window,Et=kt.XMLHttpRequest,xt=kt.Blob;Et&&xt&&xt.prototype.slice;function Tt(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var Ut=0;function Dt(e){return"__private_"+Ut+++"_"+e}var It=Dt("uppy"),Rt=Dt("events");class Nt{constructor(e){Object.defineProperty(this,It,{writable:!0,value:void 0}),Object.defineProperty(this,Rt,{writable:!0,value:[]}),Tt(this,It)[It]=e}on(e,t){return Tt(this,Rt)[Rt].push([e,t]),Tt(this,It)[It].on(e,t)}remove(){for(var[e,t]of Tt(this,Rt)[Rt].splice(0))Tt(this,It)[It].off(e,t)}onFilePause(e,t){this.on("upload-pause",(r,n)=>{e===r&&t(n)})}onFileRemove(e,t){this.on("file-removed",r=>{e===r.id&&t(r.id)})}onPause(e,t){this.on("upload-pause",(r,n)=>{e===r&&t(n)})}onRetry(e,t){this.on("upload-retry",r=>{e===r&&t()})}onRetryAll(e,t){this.on("retry-all",()=>{Tt(this,It)[It].getFile(e)&&t()})}onPauseAll(e,t){this.on("pause-all",()=>{Tt(this,It)[It].getFile(e)&&t()})}onCancelAll(e,t){var r=this;this.on("cancel-all",function(){Tt(r,It)[It].getFile(e)&&t(...arguments)})}onResumeAll(e,t){this.on("resume-all",()=>{Tt(this,It)[It].getFile(e)&&t()})}}class jt extends Error{constructor(e,t){void 0===t&&(t=null),super("This looks like a network error, the endpoint might be blocked by an internet provider or a firewall."),this.cause=e,this.isNetworkError=!0,this.request=t}}const Bt=jt;const Lt=function(e){return!!e&&(0!==e.readyState&&4!==e.readyState||0===e.status)};function Mt(e){return(t,r)=>{if("undefined"!==typeof window&&("undefined"!==typeof window.PhoneGap||"undefined"!==typeof window.Cordova||"undefined"!==typeof window.cordova)||"undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase())return Ct.fingerprint(t,r);var n=["tus",e.id,r.endpoint].join("-");return Promise.resolve(n)}}var zt=["onShouldRetry","onBeforeRequest"];function qt(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var Ht=0;function Wt(e){return"__private_"+Ht+++"_"+e}var Vt={endpoint:"",uploadUrl:null,metadata:{},uploadSize:null,onProgress:null,onChunkComplete:null,onSuccess:null,onError:null,overridePatchMethod:!1,headers:{},addRequestId:!1,chunkSize:1/0,retryDelays:[100,1e3,3e3,5e3],parallelUploads:1,removeFingerprintOnSuccess:!1,uploadLengthDeferred:!1,uploadDataDuringCreation:!1},Gt={limit:20,retryDelays:Vt.retryDelays,withCredentials:!1},Kt=Wt("retryDelayIterator"),Xt=Wt("uploadLocalFile"),$t=Wt("getCompanionClientArgs"),Yt=Wt("uploadFiles"),Qt=Wt("handleUpload");class Zt extends U.A{constructor(e,t){var r,o,a;if(super(e,(0,i.A)((0,i.A)({},Gt),t)),r=this,Object.defineProperty(this,Yt,{value:tr}),Object.defineProperty(this,$t,{value:er}),Object.defineProperty(this,Xt,{value:Jt}),Object.defineProperty(this,Kt,{writable:!0,value:void 0}),Object.defineProperty(this,Qt,{writable:!0,value:function(){var e=(0,n.A)(function*(e){if(0!==e.length){0===r.opts.limit&&r.uppy.log("[Tus] When uploading multiple files at once, consider setting the `limit` option (to `10` for example), to limit the number of concurrent uploads, which helps prevent memory and network issues: https://uppy.io/docs/tus/#limit-0","warning"),r.uppy.log("[Tus] Uploading...");var t=r.uppy.getFilesByIds(e);yield qt(r,Yt)[Yt](t)}else r.uppy.log("[Tus] No files to upload")});return function(t){return e.apply(this,arguments)}}()}),this.type="uploader",this.id=this.opts.id||"Tus",void 0===(null==t?void 0:t.allowedMetaFields)&&"metaFields"in this.opts)throw new Error("The `metaFields` option has been renamed to `allowedMetaFields`.");if("autoRetry"in t)throw new Error("The `autoRetry` option was deprecated and has been removed.");this.requests=null!=(o=this.opts.rateLimitedQueue)?o:new C(this.opts.limit),qt(this,Kt)[Kt]=null==(a=this.opts.retryDelays)?void 0:a.values(),this.uploaders=Object.create(null),this.uploaderEvents=Object.create(null),this.handleResetProgress=this.handleResetProgress.bind(this)}handleResetProgress(){var e=(0,i.A)({},this.uppy.getState().files);Object.keys(e).forEach(t=>{var r;if(null!=(r=e[t])&&null!=(r=r.tus)&&r.uploadUrl){var n=(0,i.A)({},e[t].tus);delete n.uploadUrl,e[t]=(0,i.A)((0,i.A)({},e[t]),{},{tus:n})}}),this.uppy.setState({files:e})}resetUploaderReferences(e,t){var r=this.uploaders[e];r&&(r.abort(),null!=t&&t.abort&&r.abort(!0),this.uploaders[e]=null),this.uploaderEvents[e]&&(this.uploaderEvents[e].remove(),this.uploaderEvents[e]=null)}onReceiveUploadUrl(e,t){var r=this.uppy.getFile(e.id);r&&(r.tus&&r.tus.uploadUrl===t||(this.uppy.log("[Tus] Storing upload url"),this.uppy.setFileState(r.id,{tus:(0,i.A)((0,i.A)({},r.tus),{},{uploadUrl:t})})))}install(){this.uppy.setState({capabilities:(0,i.A)((0,i.A)({},this.uppy.getState().capabilities),{},{resumableUploads:!0})}),this.uppy.addUploader(qt(this,Qt)[Qt]),this.uppy.on("reset-progress",this.handleResetProgress)}uninstall(){this.uppy.setState({capabilities:(0,i.A)((0,i.A)({},this.uppy.getState().capabilities),{},{resumableUploads:!1})}),this.uppy.removeUploader(qt(this,Qt)[Qt])}}function Jt(e){var t=this,r=this;return this.resetUploaderReferences(e.id),new Promise((a,s)=>{var l,u,c,p=(0,i.A)((0,i.A)({},this.opts),e.tus||{});"function"===typeof p.headers&&(p.headers=p.headers(e));var{onShouldRetry:h,onBeforeRequest:d}=p,f=(0,D.A)(p,zt),v=(0,i.A)((0,i.A)({},Vt),f);v.fingerprint=Mt(e),v.onBeforeRequest=function(){var r=(0,n.A)(function*(r){var n;if(r.getUnderlyingObject().withCredentials=!!p.withCredentials,"function"===typeof d&&(n=d(r,e)),o(l,"shouldBeRequeued")){if(!l.shouldBeRequeued)return Promise.reject();var i,a=new Promise(e=>{i=e});return l=t.requests.run(()=>(e.isPaused&&l.abort(),i(),()=>{})),void(yield Promise.all([a,n]))}return n});return function(e){return r.apply(this,arguments)}}(),v.onError=t=>{var r;this.uppy.log(t);var n=null!=t.originalRequest?t.originalRequest.getUnderlyingObject():null;Lt(n)&&(t=new Bt(t,n)),this.resetUploaderReferences(e.id),null==(r=l)||r.abort(),this.uppy.emit("upload-error",e,t),"function"===typeof p.onError&&p.onError(t),s(t)},v.onProgress=(t,r)=>{this.onReceiveUploadUrl(e,c.url),"function"===typeof p.onProgress&&p.onProgress(t,r),this.uppy.emit("upload-progress",this.uppy.getFile(e.id),{uploader:this,bytesUploaded:t,bytesTotal:r})},v.onSuccess=()=>{var t,r={uploadURL:null!=(t=c.url)?t:void 0,status:200,body:{}};if(this.resetUploaderReferences(e.id),l.done(),this.uppy.emit("upload-success",this.uppy.getFile(e.id),r),c.url){var{name:n}=c.file;this.uppy.log("Download ".concat(n," from ").concat(c.url))}"function"===typeof p.onSuccess&&p.onSuccess(),a(c)};var g=e=>{var t,r=null==e||null==(t=e.originalResponse)?void 0:t.getStatus();if(429===r){if(!this.requests.isPaused){var n,i=null==(n=qt(this,Kt)[Kt])?void 0:n.next();if(null==i||i.done)return!1;this.requests.rateLimit(i.value)}}else{if(null!=r&&r>400&&r<500&&409!==r&&423!==r)return!1;"undefined"!==typeof navigator&&!1===navigator.onLine&&(this.requests.isPaused||(this.requests.pause(),window.addEventListener("online",()=>{this.requests.resume()},{once:!0})))}return l.abort(),l={shouldBeRequeued:!0,abort(){this.shouldBeRequeued=!1},done(){throw new Error("Cannot mark a queued request as done: this indicates a bug")},fn(){throw new Error("Cannot run a queued request: this indicates a bug")}},!0};v.onShouldRetry=null!=h?(e,t)=>h(e,t,p,g):g;var m=(e,t,r)=>{o(e,t)&&!o(e,r)&&(e[r]=e[t])},y={};(Array.isArray(p.allowedMetaFields)?p.allowedMetaFields:Object.keys(e.meta)).forEach(t=>{y[t]=String(e.meta[t])}),m(y,"type","filetype"),m(y,"name","filename"),v.metadata=y,c=new Ot(e.data,v),this.uploaders[e.id]=c;var b=new Nt(this.uppy);this.uploaderEvents[e.id]=b,u=()=>(e.isPaused||c.start(),()=>{}),c.findPreviousUploads().then(t=>{var r=t[0];r&&(this.uppy.log("[Tus] Resuming upload of ".concat(e.id," started at ").concat(r.creationTime)),c.resumeFromPreviousUpload(r))}),l=this.requests.run(u),b.onFileRemove(e.id,t=>{l.abort(),this.resetUploaderReferences(e.id,{abort:!!c.url}),a("upload ".concat(t," was removed"))}),b.onPause(e.id,e=>{l.abort(),e?c.abort():l=this.requests.run(u)}),b.onPauseAll(e.id,()=>{l.abort(),c.abort()}),b.onCancelAll(e.id,function(t){var{reason:n}=void 0===t?{}:t;"user"===n&&(l.abort(),r.resetUploaderReferences(e.id,{abort:!!c.url})),a("upload ".concat(e.id," was canceled"))}),b.onResumeAll(e.id,()=>{l.abort(),e.error&&c.abort(),l=this.requests.run(u)})}).catch(t=>{throw this.uppy.emit("upload-error",e,t),t})}function er(e){var t,r=(0,i.A)({},this.opts);return e.tus&&Object.assign(r,e.tus),"function"===typeof r.headers&&(r.headers=r.headers(e)),(0,i.A)((0,i.A)({},null==(t=e.remote)?void 0:t.body),{},{endpoint:r.endpoint,uploadUrl:r.uploadUrl,protocol:"tus",size:e.data.size,headers:r.headers,metadata:e.meta})}function tr(e){return rr.apply(this,arguments)}function rr(){return(rr=(0,n.A)(function*(e){var t=function(e){return e.filter(e=>!(e=>"error"in e&&!!e.error)(e))}(e),r=function(e){return e.filter(e=>{var t;return!(null!=(t=e.progress)&&t.uploadStarted)||!e.isRestored})}(t);this.uppy.emit("upload-start",r),yield Promise.allSettled(t.map(e=>{if(e.isRemote){var t=new AbortController,r=r=>{r.id===e.id&&t.abort()};this.uppy.on("file-removed",r);var n=this.uppy.getRequestClientForFile(e).uploadRemoteFile(e,qt(this,$t)[$t](e),{signal:t.signal,getQueue:()=>this.requests});return this.requests.wrapSyncFunction(()=>{this.uppy.off("file-removed",r)},{priority:-1})(),n}return qt(this,Xt)[Xt](e)}))})).apply(this,arguments)}Zt.VERSION="3.5.5";var nr=r(19621);function ir(){return fetch(...arguments).catch(e=>{throw"AbortError"===e.name?e:new Bt(e)})}function or(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var ar=0;function sr(e){return"__private_"+ar+++"_"+e}var lr="ASSEMBLY_EXECUTING",ur="ASSEMBLY_COMPLETED",cr=["ASSEMBLY_UPLOADING",lr,ur];function pr(e,t){return cr.indexOf(e)>=cr.indexOf(t)}var hr=sr("rateLimitedQueue"),dr=sr("fetchWithNetworkError"),fr=sr("previousFetchStatusStillPending"),vr=sr("sse"),gr=sr("onFinished"),mr=sr("connectServerSentEvents"),yr=sr("onError"),br=sr("beginPolling"),_r=sr("fetchStatus"),wr=sr("diffStatus");function Pr(){this.emit("finished"),this.close()}function Sr(){or(this,vr)[vr]=new EventSource("".concat(this.status.websocket_url,"?assembly=").concat(this.status.assembly_id)),or(this,vr)[vr].addEventListener("open",()=>{clearInterval(this.pollInterval),this.pollInterval=null}),or(this,vr)[vr].addEventListener("message",e=>{"assembly_finished"===e.data&&or(this,gr)[gr](),"assembly_uploading_finished"===e.data&&this.emit("executing"),"assembly_upload_meta_data_extracted"===e.data&&(this.emit("metadata"),or(this,_r)[_r]({diff:!1}))}),or(this,vr)[vr].addEventListener("assembly_upload_finished",e=>{var t=JSON.parse(e.data);this.status.uploads.push(t),this.emit("upload",t)}),or(this,vr)[vr].addEventListener("assembly_result_finished",e=>{var t,r,[n,i]=JSON.parse(e.data);(null!=(r=(t=this.status.results)[n])?r:t[n]=[]).push(i),this.emit("result",n,i)}),or(this,vr)[vr].addEventListener("assembly_execution_progress",e=>{var t=JSON.parse(e.data);this.emit("execution-progress",t)}),or(this,vr)[vr].addEventListener("assembly_error",e=>{try{or(this,yr)[yr](JSON.parse(e.data))}catch(t){or(this,yr)[yr](new Error(e.data))}or(this,_r)[_r]({diff:!1})})}function Ar(e){this.emit("error",Object.assign(new Error(e.message),e)),this.close()}function Fr(){this.pollInterval=setInterval(()=>{or(this,_r)[_r]()},2e3)}function Cr(e){return Or.apply(this,arguments)}function Or(){return(Or=(0,n.A)(function*(e){var{diff:t=!0}=void 0===e?{}:e;if(!(this.closed||or(this,hr)[hr].isPaused||or(this,fr)[fr]))try{or(this,fr)[fr]=!0;var r=yield or(this,dr)[dr](this.status.assembly_ssl_url);if(or(this,fr)[fr]=!1,this.closed)return;if(429===r.status)return void or(this,hr)[hr].rateLimit(2e3);if(!r.ok)return void or(this,yr)[yr](new Bt(r.statusText));var n=yield r.json();if(this.closed)return;this.emit("status",n),t?this.updateStatus(n):this.status=n}catch(i){or(this,yr)[yr](i)}})).apply(this,arguments)}function kr(e,t){var r=e.ok,n=t.ok;if(t.error&&!e.error)return or(this,yr)[yr](t);var i=pr(n,lr)&&!pr(r,lr);i&&this.emit("executing"),Object.keys(t.uploads).filter(t=>!o(e.uploads,t)).forEach(e=>{this.emit("upload",t.uploads[e])}),i&&this.emit("metadata"),Object.keys(t.results).forEach(r=>{var n=t.results[r],i=e.results[r];n.filter(e=>!i||!i.some(t=>t.id===e.id)).forEach(e=>{this.emit("result",r,e)})}),pr(n,ur)&&!pr(r,ur)&&this.emit("finished")}const Er=class extends nr{constructor(e,t){super(),Object.defineProperty(this,wr,{value:kr}),Object.defineProperty(this,_r,{value:Cr}),Object.defineProperty(this,br,{value:Fr}),Object.defineProperty(this,yr,{value:Ar}),Object.defineProperty(this,mr,{value:Sr}),Object.defineProperty(this,gr,{value:Pr}),Object.defineProperty(this,hr,{writable:!0,value:void 0}),Object.defineProperty(this,dr,{writable:!0,value:void 0}),Object.defineProperty(this,fr,{writable:!0,value:!1}),Object.defineProperty(this,vr,{writable:!0,value:void 0}),this.status=e,this.pollInterval=null,this.closed=!1,or(this,hr)[hr]=t,or(this,dr)[dr]=t.wrapPromiseFunction(ir)}connect(){or(this,mr)[mr](),or(this,br)[br]()}update(){return or(this,_r)[_r]({diff:!0})}updateStatus(e){or(this,wr)[wr](this.status,e),this.status=e}close(){this.closed=!0,or(this,vr)[vr]&&(or(this,vr)[vr].close(),or(this,vr)[vr]=null),clearInterval(this.pollInterval),this.pollInterval=null}};function xr(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var Tr=0;function Ur(e){return"__private_"+Tr+++"_"+e}var Dr="/assemblies";class Ir extends Error{constructor(e,t,r){super(e),this.details=t,this.assembly=r}}var Rr=Ur("headers"),Nr=Ur("fetchWithNetworkError"),jr=Ur("fetchJSON"),Br=Ur("reportError");class Lr{constructor(e){Object.defineProperty(this,jr,{value:Mr}),Object.defineProperty(this,Rr,{writable:!0,value:{}}),Object.defineProperty(this,Nr,{writable:!0,value:void 0}),Object.defineProperty(this,Br,{writable:!0,value:(e,t)=>{if(!1===this.opts.errorReporting)throw e;var r={type:t.type};throw t.assembly&&(r.assembly=t.assembly.assembly_id,r.instance=t.assembly.instance),t.url&&(r.endpoint=t.url),this.submitError(e,r).catch(()=>{}),e}}),this.opts=e,null!=this.opts.client&&(xr(this,Rr)[Rr]["Transloadit-Client"]=this.opts.client),xr(this,Nr)[Nr]=this.opts.rateLimitedQueue.wrapPromiseFunction(ir)}createAssembly(e){var t=this;return(0,n.A)(function*(){var{params:r,fields:n,signature:i,expectedFiles:o}=e,a=new FormData;a.append("params","string"===typeof r?r:JSON.stringify(r)),i&&a.append("signature",i),Object.keys(n).forEach(e=>{a.append(e,String(n[e]))}),a.append("num_expected_upload_files",String(o));var s=new URL(Dr,"".concat(t.opts.service)).href;return xr(t,jr)[jr](s,{method:"POST",headers:xr(t,Rr)[Rr],body:a}).catch(e=>xr(t,Br)[Br](e,{url:s,type:"API_ERROR"}))})()}reserveFile(e,t){var r=this;return(0,n.A)(function*(){var n=encodeURIComponent(t.size),i="".concat(e.assembly_ssl_url,"/reserve_file?size=").concat(n);return xr(r,jr)[jr](i,{method:"POST",headers:xr(r,Rr)[Rr]}).catch(n=>xr(r,Br)[Br](n,{assembly:e,file:t,url:i,type:"API_ERROR"}))})()}addFile(e,t){var r=this;return(0,n.A)(function*(){if(!t.uploadURL)return Promise.reject(new Error("File does not have an `uploadURL`."));var n=encodeURIComponent(t.size),i=encodeURIComponent(t.uploadURL),o=encodeURIComponent(t.name),a="size=".concat(n,"&filename=").concat(o,"&fieldname=").concat("file","&s3Url=").concat(i),s="".concat(e.assembly_ssl_url,"/add_file?").concat(a);return xr(r,jr)[jr](s,{method:"POST",headers:xr(r,Rr)[Rr]}).catch(n=>xr(r,Br)[Br](n,{assembly:e,file:t,url:s,type:"API_ERROR"}))})()}cancelAssembly(e){var t=this;return(0,n.A)(function*(){var r=e.assembly_ssl_url;return xr(t,jr)[jr](r,{method:"DELETE",headers:xr(t,Rr)[Rr]}).catch(e=>xr(t,Br)[Br](e,{url:r,type:"API_ERROR"}))})()}getAssemblyStatus(e){var t=this;return(0,n.A)(function*(){return xr(t,jr)[jr](e,{headers:xr(t,Rr)[Rr]}).catch(r=>xr(t,Br)[Br](r,{url:e,type:"STATUS_ERROR"}))})()}submitError(e,t){var r=this;return(0,n.A)(function*(){var{endpoint:n,instance:i,assembly:o}=void 0===t?{}:t,a=e.details?"".concat(e.message," (").concat(e.details,")"):e.message;return xr(r,jr)[jr]("https://transloaditstatus.com/client_error",{method:"POST",body:JSON.stringify({endpoint:n,instance:i,assembly_id:o,agent:"undefined"!==typeof navigator?navigator.userAgent:"",client:r.opts.client,error:a})})})()}}function Mr(){return zr.apply(this,arguments)}function zr(){return zr=(0,n.A)(function*(){var e=yield xr(this,Nr)[Nr](...arguments);if(429===e.status)return this.opts.rateLimitedQueue.rateLimit(2e3),xr(this,jr)[jr](...arguments);if(!e.ok){var t=new Error(e.statusText);return t.statusCode=e.status,"".concat(arguments.length<=0?void 0:arguments[0]).endsWith(Dr)?e.json().then(e=>{if(!e.error)throw t;var r=new Ir(e.error,e.message,e);throw e.assembly_id&&(r.details+=" Assembly ID: ".concat(e.assembly_id)),r},e=>{throw e.cause=t,e}):Promise.reject(t)}return e.json()}),zr.apply(this,arguments)}function qr(e){if(null==e)throw new Error("Transloadit: The `params` option is required.");if("string"===typeof e)try{e=JSON.parse(e)}catch(t){throw new s("Transloadit: The `params` option is a malformed JSON string.",{cause:t})}if(!e.auth||!e.auth.key)throw new Error("Transloadit: The `params.auth.key` option is required. You can find your Transloadit API key at https://transloadit.com/c/template-credentials")}function Hr(e){var t=Object.create(null);for(var{fileIDs:r,options:n}of e.filter(Boolean)){var i=JSON.stringify(n);i in t?t[i].fileIDArrays.push(r):t[i]={options:n,fileIDArrays:[r]}}return Object.values(t).map(e=>{var{options:t,fileIDArrays:r}=e;return{options:t,fileIDs:r.flat(1)}})}function Wr(e,t){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,n.A)(function*(e,t){var r="function"===typeof t.assemblyOptions?yield t.assemblyOptions(e,t):t.assemblyOptions;qr(r.params);var{fields:n}=r;return Array.isArray(n)?r.fields=null==e?{}:Object.fromEntries(n.map(t=>[t,e.meta[t]])):null==n&&(r.fields={}),r})).apply(this,arguments)}const Gr=class{constructor(e,t){this.files=e,this.opts=t}build(){var e=this;return(0,n.A)(function*(){var t=e.opts;return e.files.length>0?Promise.all(e.files.map(function(){var e=(0,n.A)(function*(e){if(null!=e){var r=yield Wr(e,t);if(null!=e)return{fileIDs:[e.id],options:r}}});return function(t){return e.apply(this,arguments)}}())).then(Hr):t.alwaysRunAssembly?[{fileIDs:[],options:yield Wr(null,t)}]:[]})()}};function Kr(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var Xr=0;function $r(e){return"__private_"+Xr+++"_"+e}var Yr=$r("assemblyIDs"),Qr=$r("remaining"),Zr=$r("resolve"),Jr=$r("reject"),en=$r("uppy"),tn=$r("watching"),rn=$r("onAssemblyComplete"),nn=$r("onAssemblyCancel"),on=$r("onAssemblyError"),an=$r("onImportError"),sn=$r("checkAllComplete"),ln=$r("removeListeners"),un=$r("addListeners");function cn(e){return-1!==Kr(this,Yr)[Yr].indexOf(e)}function pn(){Kr(this,Qr)[Qr]-=1,0===Kr(this,Qr)[Qr]&&(Kr(this,ln)[ln](),Kr(this,Zr)[Zr]())}function hn(){Kr(this,en)[en].off("transloadit:complete",Kr(this,rn)[rn]),Kr(this,en)[en].off("transloadit:assembly-cancel",Kr(this,nn)[nn]),Kr(this,en)[en].off("transloadit:assembly-error",Kr(this,on)[on]),Kr(this,en)[en].off("transloadit:import-error",Kr(this,an)[an])}function dn(){Kr(this,en)[en].on("transloadit:complete",Kr(this,rn)[rn]),Kr(this,en)[en].on("transloadit:assembly-cancel",Kr(this,nn)[nn]),Kr(this,en)[en].on("transloadit:assembly-error",Kr(this,on)[on]),Kr(this,en)[en].on("transloadit:import-error",Kr(this,an)[an])}const fn=class extends nr{constructor(e,t){super(),Object.defineProperty(this,un,{value:dn}),Object.defineProperty(this,ln,{value:hn}),Object.defineProperty(this,sn,{value:pn}),Object.defineProperty(this,tn,{value:cn}),Object.defineProperty(this,Yr,{writable:!0,value:void 0}),Object.defineProperty(this,Qr,{writable:!0,value:void 0}),Object.defineProperty(this,Zr,{writable:!0,value:void 0}),Object.defineProperty(this,Jr,{writable:!0,value:void 0}),Object.defineProperty(this,en,{writable:!0,value:void 0}),Object.defineProperty(this,rn,{writable:!0,value:e=>{Kr(this,tn)[tn](e.assembly_id)&&(Kr(this,en)[en].log("[Transloadit] AssemblyWatcher: Got Assembly finish ".concat(e.assembly_id)),this.emit("assembly-complete",e.assembly_id),Kr(this,sn)[sn]())}}),Object.defineProperty(this,nn,{writable:!0,value:e=>{Kr(this,tn)[tn](e.assembly_id)&&Kr(this,sn)[sn]()}}),Object.defineProperty(this,on,{writable:!0,value:(e,t)=>{Kr(this,tn)[tn](e.assembly_id)&&(Kr(this,en)[en].log("[Transloadit] AssemblyWatcher: Got Assembly error ".concat(e.assembly_id)),Kr(this,en)[en].log(t),this.emit("assembly-error",e.assembly_id,t),Kr(this,sn)[sn]())}}),Object.defineProperty(this,an,{writable:!0,value:(e,t,r)=>{Kr(this,tn)[tn](e.assembly_id)&&Kr(this,on)[on](e,r)}}),Kr(this,en)[en]=e,Kr(this,Yr)[Yr]=t,Kr(this,Qr)[Qr]=t.length,this.promise=new Promise((e,t)=>{Kr(this,Zr)[Zr]=e,Kr(this,Jr)[Jr]=t}),Kr(this,un)[un]()}},vn={strings:{creatingAssembly:"Preparing upload...",creatingAssemblyFailed:"Transloadit: Could not create Assembly",encoding:"Encoding..."}};function gn(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var mn=0;function yn(e){return"__private_"+mn+++"_"+e}var bn=e=>t=>{var r=new s("Failed to send error to the client",{cause:t});console.error(r,e)},_n=/https?:\/\/api2(?:-\w+)?\.transloadit\.com\/companion/,wn={service:"https://api2.transloadit.com",errorReporting:!0,waitForEncoding:!1,waitForMetadata:!1,alwaysRunAssembly:!1,importFromUploadURLs:!1,signature:null,params:null,fields:null,getAssemblyOptions:null,limit:20,retryDelays:[7e3,1e4,15e3,2e4],clientName:null},Pn=yn("rateLimitedQueue"),Sn=yn("getClientVersion"),An=yn("attachAssemblyMetadata"),Fn=yn("createAssembly"),Cn=yn("createAssemblyWatcher"),On=yn("shouldWaitAfterUpload"),kn=yn("reserveFiles"),En=yn("onFileUploadURLAvailable"),xn=yn("findFile"),Tn=yn("onFileUploadComplete"),Un=yn("onResult"),Dn=yn("onAssemblyFinished"),In=yn("cancelAssembly"),Rn=yn("onCancelAll"),Nn=yn("getPersistentData"),jn=yn("onRestored"),Bn=yn("connectAssembly"),Ln=yn("prepareUpload"),Mn=yn("afterUpload"),zn=yn("closeAssemblyIfExists"),qn=yn("onError"),Hn=yn("onTusError");class Wn extends U.A{constructor(e,t){var r,a,s,l;super(e,(0,i.A)((0,i.A)({},wn),t)),r=this,a=this,Object.defineProperty(this,Bn,{value:ni}),Object.defineProperty(this,In,{value:ti}),Object.defineProperty(this,Dn,{value:ei}),Object.defineProperty(this,Un,{value:Jn}),Object.defineProperty(this,Tn,{value:Zn}),Object.defineProperty(this,xn,{value:Qn}),Object.defineProperty(this,kn,{value:Yn}),Object.defineProperty(this,On,{value:$n}),Object.defineProperty(this,Cn,{value:Xn}),Object.defineProperty(this,Fn,{value:Kn}),Object.defineProperty(this,An,{value:Gn}),Object.defineProperty(this,Sn,{value:Vn}),Object.defineProperty(this,Pn,{writable:!0,value:void 0}),Object.defineProperty(this,En,{writable:!0,value:e=>{var t,r=this.uppy.getFile(e.id);if(null!=r&&null!=(t=r.transloadit)&&t.assembly){var{assemblies:n}=this.getPluginState(),i=n[r.transloadit.assembly];this.client.addFile(i,r).catch(e=>{this.uppy.log(e),this.uppy.emit("transloadit:import-error",i,r.id,e)})}}}),Object.defineProperty(this,Rn,{writable:!0,value:function(){var e=(0,n.A)(function*(e){var{reason:t}=void 0===e?{}:e;try{if("user"!==t)return;var{uploadsAssemblies:r}=a.getPluginState(),n=Object.values(r).flat(1).map(e=>a.getAssembly(e));yield Promise.all(n.map(e=>gn(a,In)[In](e)))}catch(i){a.uppy.log(i)}});return function(t){return e.apply(this,arguments)}}()}),Object.defineProperty(this,Nn,{writable:!0,value:e=>{var{assemblies:t,uploadsAssemblies:r}=this.getPluginState();e({[this.id]:{assemblies:t,uploadsAssemblies:r}})}}),Object.defineProperty(this,jn,{writable:!0,value:e=>{var t=e&&e[this.id]?e[this.id]:{},n=t.assemblies||{},i=t.uploadsAssemblies||{};if(0!==Object.keys(i).length){var o=e=>{var t={},n=[],o=function(e,i){i.uploads.forEach(n=>{var i=gn(r,xn)[xn](n);t[n.id]={id:i.id,assembly:e,uploadedFile:n}});var o=r.getPluginState();Object.keys(i.results).forEach(t=>{for(var r of i.results[t]){var a=o.files[r.original_id];r.localId=a?a.id:null,n.push({id:r.id,result:r,stepName:t,assembly:e})}})};for(var[a,s]of Object.entries(e))o(a,s);this.setPluginState({assemblies:e,files:t,results:n,uploadsAssemblies:i})},a=()=>{var{assemblies:e,uploadsAssemblies:t}=this.getPluginState();Object.keys(t).forEach(e=>{var r=t[e];gn(this,Cn)[Cn](r,e)}),Object.keys(e).forEach(t=>{var r=new Er(e[t],gn(this,Pn)[Pn]);gn(this,Bn)[Bn](r)})},s=()=>{var{assemblies:e}=this.getPluginState();return Promise.all(Object.keys(e).map(e=>this.activeAssemblies[e].update()))};this.restored=Promise.resolve().then(()=>{o(n),a(),s()}),this.restored.then(()=>{this.restored=null})}}}),Object.defineProperty(this,Ln,{writable:!0,value:function(){var e=(0,n.A)(function*(e,t){var o=e.map(e=>r.uppy.getFile(e)),a=o.filter(e=>!e.error&&(r.uppy.emit("preprocess-progress",e,{mode:"indeterminate",message:r.i18n("creatingAssembly")}),!0)),s=function(){var e=(0,n.A)(function*(e){var{fileIDs:n,options:i}=e;try{var o=yield gn(r,Fn)[Fn](n,t,i);return r.opts.importFromUploadURLs&&(yield gn(r,kn)[kn](o,n)),n.forEach(e=>{var t=r.uppy.getFile(e);r.uppy.emit("preprocess-complete",t)}),o}catch(a){throw n.forEach(e=>{var t=r.uppy.getFile(e);r.uppy.emit("preprocess-complete",t),r.uppy.emit("upload-error",t,a)}),a}});return function(t){return e.apply(this,arguments)}}(),{uploadsAssemblies:l}=r.getPluginState();r.setPluginState({uploadsAssemblies:(0,i.A)((0,i.A)({},l),{},{[t]:[]})});var u=new Gr(a,r.opts);yield u.build().then(e=>Promise.all(e.map(s))).then(e=>{var n=e.filter(Boolean),i=n.map(e=>e.status.assembly_id);return gn(r,Cn)[Cn](i,t),Promise.all(n.map(e=>gn(r,Bn)[Bn](e)))}).catch(e=>{throw a.forEach(t=>{r.uppy.emit("preprocess-complete",t),r.uppy.emit("upload-error",t,e)}),e})});return function(t,r){return e.apply(this,arguments)}}()}),Object.defineProperty(this,Mn,{writable:!0,value:(e,t)=>{var r=e.map(e=>this.uppy.getFile(e)),n=r.filter(e=>!e.error).map(e=>e.id),a=this.getPluginState();if(this.restored)return this.restored.then(()=>gn(this,Mn)[Mn](n,t));var s=a.uploadsAssemblies[t],l=()=>{s.forEach(e=>{this.activeAssemblies[e].close(),delete this.activeAssemblies[e]})};if(!gn(this,On)[On]()){l();var u=s.map(e=>this.getAssembly(e));return this.uppy.addResultData(t,{transloadit:u}),Promise.resolve()}return 0===s.length?(this.uppy.addResultData(t,{transloadit:[]}),Promise.resolve()):(r.filter(e=>!o(this.completedFiles,e.id)).forEach(e=>{this.uppy.emit("postprocess-progress",e,{mode:"indeterminate",message:this.i18n("encoding")})}),this.assemblyWatchers[t].promise.then(()=>{l();var e=s.map(e=>this.getAssembly(e)),r=(0,i.A)({},this.getPluginState().uploadsAssemblies);delete r[t],this.setPluginState({uploadsAssemblies:r}),this.uppy.addResultData(t,{transloadit:e})}))}}),Object.defineProperty(this,zn,{writable:!0,value:e=>{var t;e&&(null==(t=this.activeAssemblies[e])||t.close())}}),Object.defineProperty(this,qn,{writable:!0,value:e=>{this.client.submitError(e).catch(bn(e))}}),Object.defineProperty(this,Hn,{writable:!0,value:(e,t)=>{var r,n;if(gn(this,zn)[zn](null==e||null==(r=e.transloadit)?void 0:r.assembly),null!=t&&null!=(n=t.message)&&n.startsWith("tus: ")){var i,o=null==(i=t.originalRequest)||null==(i=i.getUnderlyingObject())?void 0:i.responseURL;this.client.submitError(t,{endpoint:o}).catch(bn(t))}}}),this.type="uploader",this.id=this.opts.id||"Transloadit",this.defaultLocale=vn,null!=(s=this.opts).assemblyOptions||(s.assemblyOptions=null!=(l=this.opts.getAssemblyOptions)?l:{params:this.opts.params,signature:this.opts.signature,fields:this.opts.fields}),null!=(null==t?void 0:t.params)&&null==t.getAssemblyOptions&&null==t.assemblyOptions&&qr(this.opts.assemblyOptions.params),gn(this,Pn)[Pn]=new C(this.opts.limit),this.i18nInit(),this.client=new Lr({service:this.opts.service,client:gn(this,Sn)[Sn](),errorReporting:this.opts.errorReporting,rateLimitedQueue:gn(this,Pn)[Pn]}),this.activeAssemblies={},this.assemblyWatchers={},this.completedFiles=Object.create(null)}install(){this.uppy.addPreProcessor(gn(this,Ln)[Ln]),this.uppy.addPostProcessor(gn(this,Mn)[Mn]),this.uppy.on("error",gn(this,qn)[qn]),this.uppy.on("cancel-all",gn(this,Rn)[Rn]),this.uppy.on("upload-error",gn(this,Hn)[Hn]),this.opts.importFromUploadURLs?this.uppy.on("upload-success",gn(this,En)[En]):this.uppy.use(Zt,{storeFingerprintForResuming:!1,allowedMetaFields:["assembly_url","filename","fieldname"],limit:this.opts.limit,rateLimitedQueue:gn(this,Pn)[Pn],retryDelays:this.opts.retryDelays}),this.uppy.on("restore:get-data",gn(this,Nn)[Nn]),this.uppy.on("restored",gn(this,jn)[jn]),this.setPluginState({assemblies:{},uploadsAssemblies:{},files:{},results:[]});var{capabilities:e}=this.uppy.getState();this.uppy.setState({capabilities:(0,i.A)((0,i.A)({},e),{},{individualCancellation:!1})})}uninstall(){this.uppy.removePreProcessor(gn(this,Ln)[Ln]),this.uppy.removePostProcessor(gn(this,Mn)[Mn]),this.uppy.off("error",gn(this,qn)[qn]),this.opts.importFromUploadURLs&&this.uppy.off("upload-success",gn(this,En)[En]);var{capabilities:e}=this.uppy.getState();this.uppy.setState({capabilities:(0,i.A)((0,i.A)({},e),{},{individualCancellation:!0})})}getAssembly(e){var{assemblies:t}=this.getPluginState();return t[e]}getAssemblyFiles(e){return this.uppy.getFiles().filter(t=>{var r;return(null==t||null==(r=t.transloadit)?void 0:r.assembly)===e})}}function Vn(){var e=["uppy-core:".concat(this.uppy.constructor.VERSION),"uppy-transloadit:".concat(this.constructor.VERSION),"uppy-tus:".concat(Zt.VERSION)],t=(t,r)=>{var n=this.uppy.getPlugin(t);n&&e.push("".concat(r,":").concat(n.constructor.VERSION))};return this.opts.importFromUploadURLs&&(t("XHRUpload","uppy-xhr-upload"),t("AwsS3","uppy-aws-s3"),t("AwsS3Multipart","uppy-aws-s3-multipart")),t("Dropbox","uppy-dropbox"),t("Box","uppy-box"),t("Facebook","uppy-facebook"),t("GoogleDrive","uppy-google-drive"),t("GooglePhotos","uppy-google-photos"),t("Instagram","uppy-instagram"),t("OneDrive","uppy-onedrive"),t("Zoom","uppy-zoom"),t("Url","uppy-url"),null!=this.opts.clientName&&e.push(this.opts.clientName),e.join(",")}function Gn(e,t){var r=(0,i.A)((0,i.A)({},e.meta),{},{assembly_url:t.assembly_url,filename:e.name,fieldname:"file"}),n=(0,i.A)((0,i.A)({},e.tus),{},{endpoint:t.tus_url,addRequestId:!0}),{remote:o}=e;if(e.remote&&_n.test(e.remote.companionUrl)){var a=t.companion_url.replace(/\/$/,""),s=e.remote.url.replace(e.remote.companionUrl,"").replace(/^\//,"");o=(0,i.A)((0,i.A)({},e.remote),{},{companionUrl:a,url:"".concat(a,"/").concat(s)})}var l=(0,i.A)((0,i.A)({},e),{},{transloadit:{assembly:t.assembly_id}});return this.opts.importFromUploadURLs||Object.assign(l,{meta:r,tus:n,remote:o}),l}function Kn(e,t,r){var o=this;return this.uppy.log("[Transloadit] Create Assembly"),this.client.createAssembly((0,i.A)((0,i.A)({},r),{},{expectedFiles:e.length})).then(function(){var r=(0,n.A)(function*(r){var n=o.uppy.getFiles().filter(t=>{var{id:r}=t;return e.includes(r)});if(0===n.length&&0!==e.length)return yield o.client.cancelAssembly(r),null;var a=new Er(r,gn(o,Pn)[Pn]),{status:s}=a,l=s.assembly_id,{assemblies:u,uploadsAssemblies:c}=o.getPluginState();o.setPluginState({assemblies:(0,i.A)((0,i.A)({},u),{},{[l]:s}),uploadsAssemblies:(0,i.A)((0,i.A)({},c),{},{[t]:[...c[t],l]})});var p={};n.forEach(e=>{p[e.id]=gn(o,An)[An](e,s)}),o.uppy.setState({files:(0,i.A)((0,i.A)({},o.uppy.getState().files),p)});var h=(e,t)=>{var r;"ASSEMBLY_COMPLETED"!==(null==(r=a.status)?void 0:r.ok)?"cancel-all"===t&&(a.close(),o.uppy.off("file-removed",h)):o.uppy.off("file-removed",h)};return o.uppy.on("file-removed",h),o.uppy.emit("transloadit:assembly-created",s,e),o.uppy.log("[Transloadit] Created Assembly ".concat(l)),a});return function(e){return r.apply(this,arguments)}}()).catch(e=>{var t=new s("".concat(this.i18n("creatingAssemblyFailed"),": ").concat(e.message),{cause:e});throw"details"in e&&(t.details=e.details),"assembly"in e&&(t.assembly=e.assembly),t})}function Xn(e,t){var r=Array.isArray(e)?e:[e],n=new fn(this.uppy,r);n.on("assembly-complete",e=>{this.getAssemblyFiles(e).forEach(e=>{this.completedFiles[e.id]=!0,this.uppy.emit("postprocess-complete",e)})}),n.on("assembly-error",(e,t)=>{var r=this.getAssemblyFiles(e);r.forEach(e=>{this.uppy.emit("upload-error",e,t),this.uppy.emit("postprocess-complete",e)});var n=(0,i.A)({},this.uppy.getState().files);r.forEach(e=>delete n[e.id].tus),this.uppy.setState({files:n}),this.uppy.emit("error",t)}),this.assemblyWatchers[t]=n}function $n(){return this.opts.waitForEncoding||this.opts.waitForMetadata}function Yn(e,t){return Promise.all(t.map(t=>{var r=this.uppy.getFile(t);return this.client.reserveFile(e.status,r)}))}function Qn(e){for(var t=this.uppy.getFiles(),r=0;r<t.length;r++){var n=t[r];if(n.uploadURL===e.tus_upload_url)return n;if(n.tus&&n.tus.uploadUrl===e.tus_upload_url)return n;if(!e.is_tus_file&&n.name===e.name&&n.size===e.size)return n}}function Zn(e,t){var r=this.getPluginState(),n=gn(this,xn)[xn](t);n?(this.setPluginState({files:(0,i.A)((0,i.A)({},r.files),{},{[t.id]:{assembly:e,id:n.id,uploadedFile:t}})}),this.uppy.emit("transloadit:upload",t,this.getAssembly(e))):this.uppy.log("[Transloadit] Couldn\u2019t find the file, it was likely removed in the process")}function Jn(e,t,r){var n=this.getPluginState(),i=n.files[r.original_id];r.localId=i?i.id:null;var o={result:r,stepName:t,id:r.id,assembly:e};this.setPluginState({results:[...n.results,o]});var a=this.activeAssemblies[e].status;this.uppy.emit("transloadit:result",t,r,a)}function ei(e){var t=e.assembly_ssl_url;this.client.getAssemblyStatus(t).then(e=>{var t=e.assembly_id,r=this.getPluginState();this.setPluginState({assemblies:(0,i.A)((0,i.A)({},r.assemblies),{},{[t]:e})}),this.uppy.emit("transloadit:complete",e)})}function ti(e){return ri.apply(this,arguments)}function ri(){return(ri=(0,n.A)(function*(e){yield this.client.cancelAssembly(e),this.uppy.emit("transloadit:assembly-cancelled",e)})).apply(this,arguments)}function ni(e){var{status:t}=e,r=t.assembly_id;return this.activeAssemblies[r]=e,e.on("status",e=>{var{assemblies:t}=this.getPluginState();this.setPluginState({assemblies:(0,i.A)((0,i.A)({},t),{},{[r]:e})})}),e.on("upload",e=>{gn(this,Tn)[Tn](r,e)}),e.on("error",t=>{t.assembly=e.status,this.uppy.emit("transloadit:assembly-error",e.status,t)}),e.on("executing",()=>{this.uppy.emit("transloadit:assembly-executing",e.status)}),e.on("execution-progress",e=>{if(this.uppy.emit("transloadit:execution-progress",e),null!=e.progress_combined)for(var t of this.uppy.getFiles())this.uppy.emit("postprocess-progress",t,{mode:"determinate",value:e.progress_combined/100,message:this.i18n("encoding")})}),this.opts.waitForEncoding&&e.on("result",(e,t)=>{gn(this,Un)[Un](r,e,t)}),this.opts.waitForEncoding?e.on("finished",()=>{gn(this,Dn)[Dn](e.status)}):this.opts.waitForMetadata&&e.on("metadata",()=>{gn(this,Dn)[Dn](e.status)}),"ASSEMBLY_COMPLETE"===e.ok||e.connect(),e}Wn.VERSION="3.8.1",Wn.COMPANION="https://api2.transloadit.com/companion",Wn.COMPANION_PATTERN=/\.transloadit\.com$/},93959:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},95491:(e,t,r)=>{var n=r(24567),i=r(34378),o=r(72588),a=Math.max,s=Math.min;e.exports=function(e,t,r){var l,u,c,p,h,d,f=0,v=!1,g=!1,m=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var r=l,n=u;return l=u=void 0,f=t,p=e.apply(n,r)}function b(e){var r=e-d;return void 0===d||r>=t||r<0||g&&e-f>=c}function _(){var e=i();if(b(e))return w(e);h=setTimeout(_,function(e){var r=t-(e-d);return g?s(r,c-(e-f)):r}(e))}function w(e){return h=void 0,m&&l?y(e):(l=u=void 0,p)}function P(){var e=i(),r=b(e);if(l=arguments,u=this,d=e,r){if(void 0===h)return function(e){return f=e,h=setTimeout(_,t),v?y(e):p}(d);if(g)return clearTimeout(h),h=setTimeout(_,t),y(d)}return void 0===h&&(h=setTimeout(_,t)),p}return t=o(t)||0,n(r)&&(v=!!r.leading,c=(g="maxWait"in r)?a(o(r.maxWait)||0,t):c,m="trailing"in r?!!r.trailing:m),P.cancel=function(){void 0!==h&&clearTimeout(h),f=0,l=d=u=h=void 0},P.flush=function(){return void 0===h?p:w(i())},P}},98943:(e,t,r)=>{"use strict";function n(e){var t=e.lastIndexOf(".");return-1===t||t===e.length-1?{name:e,extension:void 0}:{name:e.slice(0,t),extension:e.slice(t+1)}}r.d(t,{A:()=>n})}}]);