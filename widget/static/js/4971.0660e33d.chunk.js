(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[4971],{1404:(e,t,i)=>{var a=i(92130),r=i(39248);e.exports=function e(t,i,n,o,s){return t===i||(null==t||null==i||!r(t)&&!r(i)?t!==t&&i!==i:a(t,i,n,o,e,s))}},16195:(e,t,i)=>{var a=i(93660),r=Object.prototype.hasOwnProperty;e.exports=function(e,t,i,n,o,s){var l=1&i,d=a(e),c=d.length;if(c!=a(t).length&&!l)return!1;for(var u=c;u--;){var h=d[u];if(!(l?h in t:r.call(t,h)))return!1}var v=s.get(e),p=s.get(t);if(v&&p)return v==t&&p==e;var f=!0;s.set(e,t),s.set(t,e);for(var g=l;++u<c;){var m=e[h=d[u]],w=t[h];if(n)var _=l?n(w,m,h,t,e,s):n(m,w,h,e,t,s);if(!(void 0===_?m===w||o(m,w,i,n,s):_)){f=!1;break}g||(g="constructor"==h)}if(f&&!g){var b=e.constructor,y=t.constructor;b==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof y&&y instanceof y||(f=!1)}return s.delete(e),s.delete(t),f}},21416:(e,t,i)=>{var a=i(4635),r=i(48246),n=i(44206),o=i(49757),s=i(90943),l=i(26557),d=a?a.prototype:void 0,c=d?d.valueOf:void 0;e.exports=function(e,t,i,a,d,u,h){switch(i){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!u(new r(e),new r(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return n(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var v=s;case"[object Set]":var p=1&a;if(v||(v=l),e.size!=t.size&&!p)return!1;var f=h.get(e);if(f)return f==t;a|=2,h.set(e,t);var g=o(v(e),v(t),a,d,u,h);return h.delete(e),g;case"[object Symbol]":if(c)return c.call(e)==c.call(t)}return!1}},24971:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>u});var a=i(9950),r=i(38092),n=i.n(r),o=i(76506),s=i(59418),l=i.n(s),d=i(44414);class c extends a.Component{constructor(e){super(e),this.handlePlay=()=>{this.setState({isPlaying:!0})},this.onMediaLoad=async e=>{const{mediaHeight:t,mediaWidth:i,postFile:a}=e;if(t&&i)this.setState({mediaSize:{height:t,width:i}});else try{const{width:e,height:t}=await(0,o.TW)(a);this.setState({mediaSize:{height:t,width:e}})}catch(r){this.setState({mediaSize:{height:100,width:100}})}},this.state={imageError:!1,windowWidth:window.innerWidth,windowHeight:window.innerHeight,mediaSize:{height:400,width:400},animate:!1,item:null,isPlaying:!1}}componentDidMount(){this.onLoadAnimation()}componentDidUpdate(e){l()(e.item,this.props.item)||(this.setState({item:this.props.item,animate:!1}),this.onLoadAnimation())}onLoadAnimation(){setTimeout(()=>{this.setState({animate:!0}),this.onMediaLoad(this.props.item)},1e3)}render(){var e,t,i,a;const{item:r}=this.props;let o=`${null===r||void 0===r||null===(e=r.media)||void 0===e||null===(t=e.image)||void 0===t?void 0:t.large}`;const{windowHeight:s,windowWidth:l,mediaSize:c,animate:u,isPlaying:h}=this.state,v=1!=r.type,p=3==r.type||5==r.type,f=Math.min(l/c.width,s/c.height),g=c.height*f,m=c.width*f,w={paddingBottom:100*g/m+"%"};return(0,d.jsxs)("div",{id:"spotlight__",className:"sl_container",children:[(0,d.jsx)("div",{className:"sl_overlay_ "+(u?"sl_media_ani":""),style:{backgroundImage:`url(${o})`}}),(0,d.jsx)("div",{className:"sl_wrap",children:(0,d.jsx)("div",{className:"sl_wrap_row sl_only_text",children:v?(0,d.jsx)("div",{className:"sl_media_wrap "+(u?"sl_media_ani":""),style:{maxWidth:m},children:p?(0,d.jsxs)("div",{className:"sl_media_wrap_",style:w,children:[!h&&(0,d.jsx)("img",{src:o,alt:"Video Poster",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",cursor:"pointer",zIndex:1},onLoad:this.handlePlay}),(0,d.jsx)(n(),{url:(_=null===r||void 0===r||null===(i=r.media)||void 0===i||null===(a=i.video)||void 0===a?void 0:a.full,b=r.networkId,25===b?String(_).replace("https://w.soundcloud.com/player/?url=",""):_),config:{facebook:{appId:"117029975354072",attributes:{"data-width":"auto",muted:!0,poster:o}},file:{forceVideo:!0,attributes:{muted:!0,poster:o}}},className:"sl_media_",loop:!0,autoPlay:!0,muted:!0,volume:1,playsinline:!0,playing:!0,height:"100%",width:"100%",controls:!1})]}):(0,d.jsx)("div",{className:"sl_media_wrap_",style:w,children:(0,d.jsx)("img",{className:"sl_media_",src:o,height:g,width:m})})}):null})})]});var _,b}}const u=(0,a.memo)(c)},26557:e=>{e.exports=function(e){var t=-1,i=Array(e.size);return e.forEach(function(e){i[++t]=e}),i}},36669:(e,t,i)=>{var a=i(54467),r=i(62274),n=i(69757);function o(e){var t=-1,i=null==e?0:e.length;for(this.__data__=new a;++t<i;)this.add(e[t])}o.prototype.add=o.prototype.push=r,o.prototype.has=n,e.exports=o},49757:(e,t,i)=>{var a=i(36669),r=i(56010),n=i(63445);e.exports=function(e,t,i,o,s,l){var d=1&i,c=e.length,u=t.length;if(c!=u&&!(d&&u>c))return!1;var h=l.get(e),v=l.get(t);if(h&&v)return h==t&&v==e;var p=-1,f=!0,g=2&i?new a:void 0;for(l.set(e,t),l.set(t,e);++p<c;){var m=e[p],w=t[p];if(o)var _=d?o(w,m,p,t,e,l):o(m,w,p,e,t,l);if(void 0!==_){if(_)continue;f=!1;break}if(g){if(!r(t,function(e,t){if(!n(g,t)&&(m===e||s(m,e,i,o,l)))return g.push(t)})){f=!1;break}}else if(m!==w&&!s(m,w,i,o,l)){f=!1;break}}return l.delete(e),l.delete(t),f}},56010:e=>{e.exports=function(e,t){for(var i=-1,a=null==e?0:e.length;++i<a;)if(t(e[i],i,e))return!0;return!1}},59418:(e,t,i)=>{var a=i(1404);e.exports=function(e,t){return a(e,t)}},62274:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},63445:e=>{e.exports=function(e,t){return e.has(t)}},69757:e=>{e.exports=function(e){return this.__data__.has(e)}},76506:(e,t,i)=>{"use strict";i.d(t,{C9:()=>f,Cq:()=>p,HI:()=>h,Ph:()=>y,S2:()=>_,TW:()=>S,Uy:()=>c,fF:()=>g,hZ:()=>m,hz:()=>v,p5:()=>x,pD:()=>N,pj:()=>j,sl:()=>b,um:()=>u,wG:()=>w});var a=i(66345),r=i(80415),n=i(296),o=i(86961);let s=[],l=!1;const d=new Headers({"Content-Type":"application/json",Authorization:`Bearer ${a.$x}`,Productdomain:a.QR}),c=e=>{var t;return null===(t=document.getElementById("tb_onsite_btn_id"))||void 0===t?void 0:t.classList.toggle("tb_onsite_btn_disabled",1===e)},u=e=>{var t;if(a.aD)return window.parent.postMessage(e,"*");const i={1:()=>window.onShowDemoPost(1),2:()=>window.hendleFeeds("addFeeds"),3:()=>window.hendleFeeds("manageFeeds")};null===(t=i[e])||void 0===t||t.call(i)},h=e=>{try{s.push(e)}catch(t){console.log(t)}},v=e=>e&&""!==e&&!e.includes("ui-avatars"),p=e=>{if(!e)return"0 Byte";const t=Math.floor(Math.log(e)/Math.log(1024));return{size:Math.round(e/Math.pow(1024,t),2),sizeText:["Bytes","KB","MB","GB","TB"][t]}},f=e=>e.startsWith("http://")||e.startsWith("https://")?e:"https://"+e,g=e=>{if(!e||isNaN(e))return"invalid date";const t=new Date(1e3*e);if(isNaN(t.getTime()))return"invalid date";const i=new Date,a=i-t;if(isNaN(a)||a<0)return"invalid date";const r=i.getFullYear()-t.getFullYear();if(r>0)return`${r} year${r>1?"s":""} ago`;if(a<6e4)return"just now";const n=[{label:"month",ms:2592e6},{label:"week",ms:6048e5},{label:"day",ms:864e5},{label:"hour",ms:36e5},{label:"minute",ms:6e4}].find(e=>{let{ms:t}=e;return a>=t});if(!n)return"just now";const o=Math.floor(a/n.ms);return`${o} ${n.label}${o>1?"s":""} ago`},m=()=>[`${r.om}`,"Website Widget"],w=e=>e&&String(e)?unescape(e).split("/").pop().split("/").slice(-1).join().split(".").shift():"",_=["localhost","widget","wall_id="].every(e=>(0,a.vq)(e))?"taggbox_main":[`${a.Xg}.${a.IF}`,`${a.Xg}${a.t6}${a.IF}`,`${a.Xg}s.${a.IF}`].some(e=>(0,a.vq)(e))?"tag_main__root":a.HY?"taggShopRoot":"taggbox_main",b=e=>{const t=Math.floor(Math.log10(e)/3)||0;return t&&e?+(e/Math.pow(1e3,t)).toFixed(0)+["","K","M","B","T"][t]:e},y=e=>a.MH?e:atob(e),x=(e,t,i)=>e&&e.length>0?e.findIndex(e=>e.id===t):i,j=()=>{try{const{wall:e}=n.A.getState().appData,{webId:t,wallId:i,ownerId:r}=e.ThemeInfo;l||(window.addEventListener("beforeunload",()=>{if(0===s.length)return;const e=s.reduce((e,t)=>e+t,0);e>0?fetch(a.KQ,{method:"POST",headers:d,body:JSON.stringify({action:1,model:null!==o.Ex&&void 0!==o.Ex&&o.Ex.includes("website")?"website":"wall",playCount:s.length,wall:a.aD?i:t,playTime:e,owner:r}),keepalive:!0}).finally(()=>(s=[],l=!1)):(s=[],l=!1)}),l=!0)}catch(e){console.error(e)}},S=e=>new Promise((t,i)=>Object.assign(new Image,{onload:function(){t({width:this.naturalWidth,height:this.naturalHeight})},onerror:e=>i(new Error(`Image loading error: ${e.message}`)),src:e})),N=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{let a=0,r=0,o="",s=0,l="",d=[];if(t)return e.map(e=>{a+=e.averageReviews*e.totalReviews,r+=e.totalReviews,o="Overall",s=0,l=e.color,d=(null===e||void 0===e?void 0:e.reviewList)||[]}),{network:{name:o,avgRate:isNaN(a/r)?0:(a/r).toFixed(1),totalReviews:r,color:l,reviewList:d},activeId:s};{var i;const{wall:t}=n.A.getState().appData;let l=null===t||void 0===t||null===(i=t.Banner)||void 0===i?void 0:i.title_font_color;return e.map(i=>{var n;a+=i.averageReviews*i.totalReviews,r+=i.totalReviews,o=e.length>1?"Overall":i.name,s=e.length>1?0:i.id,l=e.length>1?null===t||void 0===t||null===(n=t.Banner)||void 0===n?void 0:n.title_font_color:i.color,d=e.length>1?(e=>{try{let t=new Map;return e.forEach(e=>{e.Network.reviewList.forEach(e=>{t.set(e.rating,(t.get(e.rating)||0)+e.count)})}),Array.from(t,e=>{let[t,i]=e;return{rating:t,count:i}})}catch(t){}})(e):(null===i||void 0===i?void 0:i.reviewList)||[]}),{network:{name:o,avgRate:isNaN(a/r)?0:(a/r).toFixed(1),totalReviews:r,color:l,reviewList:d},activeId:s}}}catch(a){console.log("ex",a)}}},90943:e=>{e.exports=function(e){var t=-1,i=Array(e.size);return e.forEach(function(e,a){i[++t]=[a,e]}),i}},92130:(e,t,i)=>{var a=i(25535),r=i(49757),n=i(21416),o=i(16195),s=i(25531),l=i(12279),d=i(6794),c=i(71641),u="[object Arguments]",h="[object Array]",v="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,i,f,g,m){var w=l(e),_=l(t),b=w?h:s(e),y=_?h:s(t),x=(b=b==u?v:b)==v,j=(y=y==u?v:y)==v,S=b==y;if(S&&d(e)){if(!d(t))return!1;w=!0,x=!1}if(S&&!x)return m||(m=new a),w||c(e)?r(e,t,i,f,g,m):n(e,t,b,i,f,g,m);if(!(1&i)){var N=x&&p.call(e,"__wrapped__"),M=j&&p.call(t,"__wrapped__");if(N||M){var I=N?e.value():e,$=M?t.value():t;return m||(m=new a),g(I,$,i,f,m)}}return!!S&&(m||(m=new a),o(e,t,i,f,g,m))}}}]);