"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[8768],{48768:(e,t,i)=>{i.r(t),i.d(t,{AiIcon:()=>C,AiIconColored:()=>f,default:()=>N});var a=i(89379),s=i(9950),r=i(10300),l=i(52867),n=i(80415),o=i(66345),c=i(93152),d=i(44414),h=Array.from({length:5},((e,t)=>t+1));class _ extends s.Component{constructor(e){super(e),this.handleClick=e=>{var{addRatings:t}=this.props;this.setState({activeIndex:e}),t(e)},this.handleMouseEnter=e=>this.setState({hoverIndex:e}),this.handleMouseLeave=()=>{this.setState({hoverIndex:null})},this.state={activeIndex:null,hoverIndex:null}}render(){var{hoverIndex:e,activeIndex:t}=this.state;return(0,d.jsx)("div",{className:"t_rate_wrap",children:h.map(((i,a)=>(0,d.jsx)("div",{className:"t_star_ico_wrap".concat(i<=e?" t_h_active_":"").concat(i<=t?" t_active_":""),onClick:()=>this.handleClick(i),onMouseEnter:()=>this.handleMouseEnter(i),onMouseLeave:this.handleMouseLeave,children:(0,d.jsx)("div",{className:"t_star_ico tb__icon tb-star-outline",children:(0,d.jsx)("div",{})})},a)))})}}const m=_;var p=i(96011),u=i.n(p),v=i(46256),x=i.n(v),g=s.lazy((()=>Promise.all([i.e(2539),i.e(9708)]).then(i.bind(i,62910)))),f=()=>(0,d.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 20 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,d.jsx)("path",{d:"M9.89539 6.67812C10.1534 6.58595 10.3266 6.33964 10.3266 6.06577C10.3266 5.79191 10.1534 5.54559 9.89645 5.45342L8.71518 5.02753C8.14049 4.82136 7.61855 4.49055 7.18683 4.05882C6.7551 3.62709 6.42428 3.10515 6.21811 2.53046L5.79222 1.3492C5.74665 1.22352 5.66358 1.11488 5.55425 1.03795C5.44492 0.961021 5.31461 0.919523 5.18093 0.919067C4.90759 0.919067 4.66128 1.09175 4.56805 1.3492L4.14269 2.53046C3.93656 3.10526 3.60569 3.62728 3.17386 4.05903C2.74202 4.49077 2.21993 4.82153 1.64508 5.02753L0.464879 5.45342C0.206908 5.54612 0.0336914 5.79191 0.0336914 6.06577C0.0336914 6.33964 0.206908 6.58542 0.46382 6.67812L1.64508 7.10401C2.21981 7.31012 2.74178 7.64091 3.17352 8.07265C3.60526 8.50439 3.93605 9.02636 4.14216 9.60109L4.56805 10.7829C4.66075 11.0398 4.90707 11.2125 5.1804 11.2125C5.45373 11.2125 5.70005 11.0393 5.79222 10.7824L6.21811 9.60109C6.42428 9.02639 6.7551 8.50446 7.18683 8.07273C7.61855 7.641 8.14049 7.31018 8.71518 7.10401L9.89539 6.67812Z",fill:"url(#paint0_linear_8573_5744)"}),(0,d.jsx)("path",{d:"M13.6629 11.7821C13.8087 11.73 13.9066 11.5908 13.9066 11.436C13.9066 11.2812 13.8087 11.142 13.6635 11.0899L12.9958 10.8492C12.671 10.7326 12.376 10.5456 12.1319 10.3016C11.8879 10.0576 11.7009 9.76259 11.5844 9.43776L11.3437 8.77009C11.3179 8.69906 11.271 8.63765 11.2092 8.59417C11.1474 8.55069 11.0737 8.52724 10.9982 8.52698C10.8437 8.52698 10.7045 8.62458 10.6518 8.77009L10.4113 9.43776C10.2948 9.76265 10.1078 10.0577 9.86374 10.3017C9.61966 10.5458 9.32457 10.7327 8.99965 10.8492L8.33258 11.0899C8.18677 11.1423 8.08887 11.2812 8.08887 11.436C8.08887 11.5908 8.18677 11.7297 8.33198 11.7821L8.99965 12.0228C9.3245 12.1393 9.61953 12.3263 9.86355 12.5703C10.1076 12.8143 10.2945 13.1094 10.411 13.4342L10.6518 14.1022C10.7042 14.2474 10.8434 14.345 10.9979 14.345C11.1524 14.345 11.2916 14.2471 11.3437 14.1019L11.5844 13.4342C11.7009 13.1094 11.8879 12.8144 12.1319 12.5704C12.376 12.3263 12.671 12.1393 12.9958 12.0228L13.6629 11.7821Z",fill:"url(#paint1_linear_8573_5744)"}),(0,d.jsxs)("defs",{children:[(0,d.jsxs)("linearGradient",{id:"paint0_linear_8573_5744",x1:"5.69478",y1:"1.07347",x2:"5.28302",y2:"11.0581",gradientUnits:"userSpaceOnUse",children:[(0,d.jsx)("stop",{stopColor:"#654985"}),(0,d.jsx)("stop",{offset:"1",stopColor:"#E16490"})]}),(0,d.jsxs)("linearGradient",{id:"paint1_linear_8573_5744",x1:"11.2886",y1:"8.61425",x2:"11.0559",y2:"14.2577",gradientUnits:"userSpaceOnUse",children:[(0,d.jsx)("stop",{stopColor:"#654985"}),(0,d.jsx)("stop",{offset:"1",stopColor:"#E16490"})]})]})]}),C=()=>(0,d.jsxs)("svg",{width:"14",height:"15",viewBox:"0 0 14 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,d.jsx)("path",{d:"M9.95199 6.53749C10.2123 6.44448 10.3871 6.19591 10.3871 5.91954C10.3871 5.64317 10.2123 5.39459 9.95305 5.30158L8.76098 4.87179C8.18102 4.66373 7.65431 4.32989 7.21863 3.8942C6.78294 3.45852 6.4491 2.93181 6.24104 2.35185L5.81125 1.15977C5.76526 1.03295 5.68143 0.923309 5.5711 0.845677C5.46077 0.768045 5.32927 0.726168 5.19436 0.725708C4.91853 0.725708 4.66995 0.899976 4.57587 1.15977L4.14662 2.35185C3.9386 2.93192 3.60471 3.45872 3.16892 3.89442C2.73313 4.33011 2.20625 4.6639 1.62614 4.87179L0.435135 5.30158C0.174803 5.39513 0 5.64317 0 5.91954C0 6.19591 0.174803 6.44394 0.434066 6.53749L1.62614 6.96728C2.20614 7.17527 2.73289 7.5091 3.16858 7.94479C3.60427 8.38048 3.93809 8.90723 4.14608 9.48722L4.57587 10.6798C4.66942 10.9391 4.91799 11.1134 5.19383 11.1134C5.46966 11.1134 5.71824 10.9386 5.81125 10.6793L6.24104 9.48722C6.4491 8.90726 6.78294 8.38055 7.21863 7.94487C7.65431 7.50919 8.18102 7.17534 8.76098 6.96728L9.95199 6.53749Z",fill:"white"}),(0,d.jsx)("path",{d:"M13.7539 11.688C13.9011 11.6354 13.9999 11.4949 13.9999 11.3387C13.9999 11.1825 13.9011 11.042 13.7545 10.9894L13.0808 10.7465C12.753 10.6289 12.4553 10.4402 12.209 10.194C11.9627 9.94771 11.774 9.65 11.6564 9.3222L11.4135 8.64842C11.3875 8.57674 11.3402 8.51476 11.2778 8.47088C11.2154 8.42701 11.1411 8.40334 11.0648 8.40308C10.9089 8.40308 10.7684 8.50158 10.7153 8.64842L10.4726 9.3222C10.3551 9.65006 10.1663 9.94782 9.92003 10.1941C9.67372 10.4403 9.37592 10.629 9.04803 10.7465L8.37485 10.9894C8.22771 11.0423 8.12891 11.1825 8.12891 11.3387C8.12891 11.4949 8.22771 11.6351 8.37425 11.688L9.04803 11.9309C9.37585 12.0485 9.67358 12.2372 9.91984 12.4834C10.1661 12.7297 10.3548 13.0274 10.4723 13.3552L10.7153 14.0293C10.7681 14.1759 10.9086 14.2744 11.0645 14.2744C11.2205 14.2744 11.361 14.1756 11.4135 14.029L11.6564 13.3552C11.774 13.0274 11.9627 12.7297 12.209 12.4835C12.4553 12.2372 12.753 12.0485 13.0808 11.9309L13.7539 11.688Z",fill:"white"})]}),j=e=>{var t,{wall:i,type:a,onClosePopUp:s}=e;return(0,d.jsx)("div",{className:"t_modal_content",children:(0,d.jsxs)("div",{className:"t_s_wrap",children:[(0,d.jsx)("img",{className:"t_s_icon_",src:"https://cdn.tagshop.ai/app/theme/media/icons/".concat(a,"-icon.svg"),height:80,width:80,alt:""}),"check"==a?(0,d.jsx)("div",{className:"t_s_title",children:"Thanks for Your Efforts!"}):null,(0,d.jsx)("div",{className:"t_s_desc",children:(null===i||void 0===i||null===(t=i.SnapUp)||void 0===t?void 0:t.Form.successText)||"Thank you for sharing your amazing content with us."}),(0,d.jsx)("div",{className:"t_f_close_wrap",children:(0,d.jsx)("button",{className:"t_f_p_btn",onClick:s,children:"Close"})})]})})},w=e=>{var{logo:t}=e;return t?(0,d.jsx)("div",{className:"t_m_logo_w",children:(0,d.jsx)("img",{className:"t_m_logo",src:t,height:20,width:130,alt:""})}):null};class b extends s.Component{constructor(e){var t,i;super(e),this.handleNext=e=>this.setState({submitPost:!1}),this.checkUpload=e=>this.setState({fileUpload:e}),this.onShowCloseSubmitPicPopUp=e=>{var{isOpen:t}=this.state;this.setState({isOpen:!t})},this.onSubmitPostData=e=>{var t;if(e)this.setState({submitError:!0,submitErrorMessage:"Just a sec! Please make sure the file has fully uploaded before submitting."});else{var{name:i,email:s,upload_image:r,is_terms_check:n,tandc:d,rateProduct:h,reviewTitle:_,review:m,layout:p,captionError:u}=this.state,{wallId:v,wall:g,feeds:f}=this.props,C=1774873===(null===g||void 0===g||null===(t=g.ThemeInfo)||void 0===t?void 0:t.ownerId);if(this.setState({submitError:!1}),d&&(null===i||void 0===i?void 0:i.length)>0&&(null===s||void 0===s?void 0:s.length)>0&&(0,l.DT)(s)&&!s.includes("mailinator")&&d&&(1==p&&(h>0||C)&&(!o.HY||_)||2==p)&&((null===m||void 0===m?void 0:m.length)>0||C)&&!u){var j;this.setState({apiRequest:!0});var w=!!window.ugcSuite||!!o.Nz,b={};w&&f&&f.length>0&&f.map((e=>{e&&e.Network&&Object.keys(e.Network).length&&29==e.Network.id&&e.value1&&(b={feedId:e.value1})}));var N=[];r&&r.length>0?r.map((e=>N.push((0,a.A)({},e)))):N=[{file:"",type:1,height:"",width:"",thumbnail:""}];var S=(0,a.A)((0,a.A)({wallId:null!==(j=null===g||void 0===g?void 0:g.ThemeInfo.wallId)&&void 0!==j?j:v,name:i,email:s,media:N,onsite_token:g.SnapUp.token},b),{},{caption:m,rating:h,title:2==p?" ":_});[104746].includes(null===g||void 0===g?void 0:g.ThemeInfo.ownerId)&&(S.is_terms_check=n),(0,c.VT)(S).then((e=>{if(o.aD){var{onsite_token:t,message:i}=e.data;if(!window.location.href.includes("studio=1")&&!g.SnapUp.moderation&&i){this.props.onsiteTokenUpdate(t);var a=x()("".concat(o._6),{transports:["websocket"],transport:["websocket"],upgrade:!0,reconnection:!0,reconnectionDelay:3e3,reconnectionDelayMax:5e3,reconnectionAttempts:2}),s=new Array;s.push(v),s.push(i[0].synced),a.emit("poststatus",s),a.on("reconnect_attempt",(e=>{e>2&&a.disconnect()}))}}this.setState({step:3,apiRequest:!1},(()=>setTimeout((()=>{l.GF?window.location.reload():this.props.onSitePopup(!1)}),5e3)),document.querySelector("html").style.overflow="auto")})).catch((e=>{var{data:t}=e.response;t&&this.setState({submitError:!0,submitErrorMessage:t.resposne_message,apiRequest:!1}),console.error(e)}))}else{m&&0!==m.trim().length||(this.setState({captionError:!0,apiRequest:!1}),!0),i&&0!==i.trim().length||(this.setState({nameError:!0,apiRequest:!1}),!0),s&&0!==s.trim().length&&(0,l.DT)(s)&&!s.includes("mailinator")||(this.setState({emailError:!0,apiRequest:!1}),!0),0===h&&(this.setState({rateProductError:!0}),!0),_&&0!==_.trim().length||(this.setState({reviewTitleError:!0,apiRequest:!1}),!0)}}},this.addCaption=e=>{String(e.target.value).length<=500?this.setState({review:e.target.value,captionError:!1}):this.setState({captionError:!0})},this.aiPromptFun=e=>{""!=String(this.state.aiPromptCopy).trim()&&String(this.state.aiPromptCopy).trim()!=String(e.target.value).trim()&&this.setState({isRegenrate:!0}),this.setState({aiPrompt:e.target.value})},this.typeWriterEffect=()=>{var{aiResponse:e,currentIndex:t}=this.state;t<e.length?this.setState((i=>({review:i.review+e[t],currentIndex:i.currentIndex+1})),(()=>{setTimeout(this.typeWriterEffect,20)})):this.setState({isTyping:!1,loadbtn:!1})},this.aiReviewFun=e=>{var{aiPrompt:t,rateProduct:i,layout:a}=this.state;this.setState({aiInput:!0,aiReadOnly:!0,isTyping:!0,currentIndex:0,review:"",aiPromptError:""});var s=t.split(/\s+/).map((e=>e.length));if(!t||s.length<=2)return this.setState({aiPromptError:"Please enter at least 3 words."}),!1;this.setState({writeAiReview:!0,loadbtn:!0,aiSpinner:!0,isRegenrate:!1,aiResponse:"",rateProductError:!1}),u().post(o.Cy,{input_text:t,stars:2==a?i:0}).then((e=>{200==e.data.status_code?this.setState({aiResponse:e.data.body,item:e.data.body,aiSpinner:!1,aiPromptCopy:t,isRegenrate:!1,captionError:!1},(()=>{this.typeWriterEffect()})):this.setState({loading:!1,isTyping:!1,loadbtn:!1,aiSpinner:!1,aiPromptError:e.data.body,aiPromptCopy:t,isRegenrate:!1,captionError:!1})})).catch((e=>{this.setState({error:e.message,loading:!1,isTyping:!1,loadbtn:!1,aiSpinner:!1,aiPromptError:"Internal Server Error",aiPromptCopy:t,isRegenrate:!1,captionError:!1})}))},this.aiPromptEditFun=()=>{this.setState({aiReadOnly:!1},(()=>{var e=this.textAreaRef.current;e&&(e.focus(),e.setSelectionRange(e.value.length,e.value.length))}))},this.addRatings=e=>this.setState({rateProduct:e,rateProductError:!1}),this.onChangeReviewTitle=e=>this.setState({reviewTitle:e.target.value,reviewTitleError:!1}),this.addPostImage=(e,t,i,a,s)=>{var{upload_image:r}=this.state,l={file:e,type:i,height:a,width:s,thumbnail:t};r.push(l),r.length>20&&(r.length=20),this.setState({upload_image:r,isActiveIndex:r.length+1,fileUpload:!1,submitError:!1})},this.onClickToRemove=e=>{var{upload_image:t}=this.state;if(t&&t.length>0){var i=t.filter((t=>t.file!=e.file));this.setState({upload_image:i,errorClickMore:!1,isActiveIndex:i.length+1,removedFile:e})}},this.onClickToEdit=e=>t=>this.setState({isActiveIndex:e,step:1}),this.onTextName=e=>{this.setState({name:e.target.value,nameError:!1},(()=>{this.state.name||this.setState({nameError:!0})}))},this.onTextEmail=e=>{var{value:t}=e.target;this.setState({email:t,emailError:!1},(()=>{var{email:t}=this.state;("blur"==e.type?!(0,l.DT)(t)||t.includes("mailinator"):!t)&&this.setState({emailError:!0})}))},this.onUpdatetandc=e=>this.setState({tandc:!this.state.tandc}),this.onClosePopUp=()=>{var{wallId:e,wall:t}=this.props;if(document.querySelector("html").style.overflow="auto",this.props.onSitePopup(!1),o.aD){var i,a,s=new URLSearchParams(window.location.search).get("wallKey"),r=o.W7?"".concat(n.UM,"/widget/?wall_id=").concat(null!==(i=null===t||void 0===t||null===(a=t.ThemeInfo)||void 0===a?void 0:a.wallId)&&void 0!==i?i:e):"".concat(n.GR,"/").concat(e),l=s?"".concat(r).concat(o.W7?"&":"?","wallKey=").concat(s):r;window.location.href=l}},this.termsCheck=e=>this.setState({is_terms_check:e}),this.uploadErrorCallback=e=>{this.setState({uploadError:e,fileUpload:!1},(()=>setTimeout((()=>this.setState({uploadError:""})),5e3)))},this.backStepFun=()=>this.setState({step:1}),this.state={submitPost:!0,isOpen:!0,step:1,wall_id:null,name:"",email:"",upload_image:[],tandc:!0,nameError:!1,emailError:!1,submitErrorMessage:null,apiRequest:!1,isActiveIndex:0,isAddMoreActive:!1,submitError:!1,is_terms_check:0,errorClickMore:!1,uploadError:"",rateProduct:0,reviewTitle:"",review:"",rateProductError:!1,reviewTitleError:!1,captionError:!1,layout:(null===e||void 0===e||null===(t=e.wall)||void 0===t||null===(i=t.SnapUp)||void 0===i?void 0:i.Form.type)||1,removedFile:{},formLanguage:null,aiInput:!1,aiPrompt:"",writeAiReview:!1,aiReadOnly:!0,aiSpinner:!1,aiPromptError:"",isRegenrate:!1,aiPromptCopy:"",fileUpload:!1},this.textAreaRef=(0,s.createRef)()}componentDidMount(){var{wall:e}=this.props;fetch("https://cloud.socialwalls.com/react-app/media/custom_lang.json").then((e=>e.json())).then((t=>{var i;this.setState({formLanguage:t[null===e||void 0===e||null===(i=e.SnapUp)||void 0===i?void 0:i.language]})})).catch((e=>{console.error("Error fetching JSON file:",e)}))}render(){var e,t,i,a,r,c,h,{isActiveIndex:_,step:p,upload_image:u,formLanguage:v,isAddMoreActive:x,name:b,email:N,tandc:S,nameError:E,emailError:k,apiRequest:y,submitError:P,submitErrorMessage:R,uploadError:I,reviewTitle:T,review:L,rateProductError:U,reviewTitleError:A,captionError:M,layout:F,removedFile:q,aiInput:D,aiPrompt:O,writeAiReview:W,aiReadOnly:Y,aiPromptError:G,aiSpinner:Z,isRegenrate:z}=this.state,{wall:B,isFreeAdsStatus:H}=this.props,{Form:J,QrCode:K}=B.SnapUp,Q=1774873===(null===B||void 0===B||null===(e=B.ThemeInfo)||void 0===e?void 0:e.ownerId),V={backgroundColor:(null===J||void 0===J||null===(t=J.background)||void 0===t?void 0:t.color)||null,backgroundImage:null!==J&&void 0!==J&&null!==(i=J.background)&&void 0!==i&&i.url?"url(".concat(J.background.url,")"):null},{onClosePopUp:X}=this;return(0,d.jsx)("div",{className:"t_modal".concat(H?" t_brand_":""),children:(0,d.jsx)("div",{className:"t_modal_wrap",style:V,children:Object.keys((null===B||void 0===B?void 0:B.SnapUp)||{}).length&&(null!==K&&void 0!==K&&K.status||null!==J&&void 0!==J&&J.status)?(0,d.jsx)("div",{className:"t_modal_container",children:3==p?(0,d.jsx)(j,{wall:B,onClosePopUp:X,type:"check"}):(0,d.jsxs)("div",{className:"t_modal_content",children:[(0,d.jsx)(w,{logo:null===J||void 0===J?void 0:J.logo.url}),(0,d.jsx)("div",{className:"t_m_close_btn tb__icon tb-close-alt",onClick:X,children:(0,d.jsx)("div",{})}),J.title?(0,d.jsx)("div",{className:"t_m_title",children:J.title}):null,J.subTitle?(0,d.jsx)("div",{className:"t_m_subtitle",children:J.subTitle}):null,1!=F||Q?null:(0,d.jsxs)("div",{className:"t_f_group",children:[(0,d.jsx)(m,{isActiveIndex:_,isAddMoreActive:x,item:u[_],addRatings:this.addRatings}),U?(0,d.jsx)("div",{className:"t_f_error t_text_center",children:" * Rating is required."}):null]}),1!=F||o.aD?null:(0,d.jsxs)("div",{className:"t_f_group",children:[(0,d.jsxs)("div",{className:"t_label_",children:[" ",Q?"Trip Title":"Review Title"," ",(0,d.jsx)("div",{className:"t_t_danger",children:"*"})]}),(0,d.jsx)("input",{type:"text",className:"t_from_input ".concat(A?"t_f_invalid":""),placeholder:Q?"Enter Trip Title":"Enter review Title",onChange:this.onChangeReviewTitle,value:T}),A?(0,d.jsxs)("div",{className:"t_f_error",children:[" * ",Q?"Trip":"Review","  Title is required."]}):null]}),(0,d.jsxs)("div",{className:"t_f_group",children:[(0,d.jsxs)("div",{className:"t_label_",children:[(1==B.SnapUp.choose_content_category?null===v||void 0===v?void 0:v.Review:null===v||void 0===v?void 0:v.UGC)||(2==F?"Caption":Q?"Describe your trip to NYC.":"Review"),"  ",(0,d.jsx)("div",{className:"t_t_danger",children:"*"})]}),W?(0,d.jsxs)("div",{className:"t_f_textarea ai_input_wrap",children:[(0,d.jsxs)("div",{className:"t_f_ai_input_wrap_",children:[(0,d.jsx)("div",{className:"t_f_ai_ico",children:(0,d.jsx)(f,{})}),(0,d.jsx)("textarea",{id:"ai_input",ref:this.textAreaRef,className:"t_from_ai_input t_f_textarea",value:O,onChange:this.aiPromptFun,placeholder:"Write Ai Review",readOnly:Y,disabled:Y}),(0,d.jsxs)("div",{className:"t_f_ai_btn_wrap",children:[(0,d.jsx)("div",{className:"t_f_ai_btn",onClick:this.aiPromptEditFun,children:(0,d.jsx)("div",{className:"tb__icon tb-edit"})}),(0,d.jsx)("div",{className:"t_f_ai_btn",onClick:()=>this.setState({writeAiReview:!1,aiPrompt:"",review:"",aiPromptError:"",aiInput:!1,isRegenrate:!1}),children:(0,d.jsx)("div",{className:"tb__icon tb-close-alt"})})]})]}),(0,d.jsxs)("div",{className:"t_f_ai_res_wrap",children:[Z?(0,d.jsxs)("div",{className:"t_f_skel_wrap",children:[(0,d.jsx)("div",{className:"t_f_s_bar_wrap",children:(0,d.jsx)("div",{className:"t_f_s_bar",children:(0,d.jsx)("div",{})})}),(0,d.jsx)("div",{className:"t_f_s_bar_wrap",children:(0,d.jsx)("div",{className:"t_f_s_bar",children:(0,d.jsx)("div",{})})}),(0,d.jsx)("div",{className:"t_f_s_bar_wrap",style:{maxWidth:"50%"},children:(0,d.jsx)("div",{className:"t_f_s_bar",children:(0,d.jsx)("div",{})})})]}):null,(0,d.jsx)("textarea",{className:"t_from_textarea ".concat(M?"t_f_invalid":""),value:L,onChange:this.addCaption}),(0,d.jsx)("div",{className:"t_f_p_btn t_f_rg_btn t_f_l_btn".concat(z?"":" tb_disabled"),onClick:()=>!!z&&this.aiReviewFun(!1),children:"Regenerate"})]})]}):(0,d.jsxs)("div",{className:"t_f_ai_res_wrap",children:[D?(0,d.jsx)("textarea",{className:"t_from_textarea t_f_ai_prompt",value:O,onChange:this.aiPromptFun,placeholder:1==F?"Describe what your caption should be about.":"Provide a brief of the product or service for the review."}):(0,d.jsx)("textarea",{className:"t_from_textarea ".concat(M?"t_f_invalid":""),placeholder:(1==B.SnapUp.choose_content_category?null===v||void 0===v?void 0:v.Write_review:null===v||void 0===v?void 0:v.Write_caption)||"".concat(2==F?"Write your caption":Q?"Describe your trip to NYC":"Write your review"," here "),value:L,onChange:this.addCaption}),[53,61,1].includes(B.ThemeInfo.planId)?null:(0,d.jsxs)(d.Fragment,{children:[D?(0,d.jsx)("div",{className:"t_f_ai_ico_text",children:(0,d.jsx)(f,{})}):"",D?(0,d.jsx)("div",{className:"t_f_ai_btn_wrap",children:(0,d.jsx)("div",{className:"t_f_ai_btn",onClick:()=>this.setState({aiInput:!1,aiPromptError:""}),children:(0,d.jsx)("div",{className:"tb__icon tb-close-alt"})})}):"",D?(0,d.jsxs)("div",{className:"t_f_p_btn t_f_p_btn_gr t_f_ai_btn".concat(O.length<=0&&D?" tb_disabled":""),onClick:this.aiReviewFun,children:[(0,d.jsx)("div",{className:"t_f_ai_ico_btn",children:(0,d.jsx)(C,{})}),"Generate"]}):(0,d.jsxs)("div",{className:"t_f_p_btn t_f_p_btn_gr t_f_ai_btn".concat(O.length<=0&&D?" tb_disabled":""),onClick:()=>this.setState({aiInput:!0}),children:[(0,d.jsx)("div",{className:"t_f_ai_ico_btn",children:(0,d.jsx)(C,{})})," Write with AI"]})]})]}),G?(0,d.jsxs)("div",{className:"t_f_error",children:[" * ",G]}):null,M?(0,d.jsxs)("div",{className:"t_f_error",children:[" * ",String(L).length<=0?"".concat(2==F?"Caption":Q?"Describe your trip to NYC":"Review"," is required."):"".concat(2==F?"Caption":"Review"," limit of 500 exceeded!")]}):null]}),(0,d.jsxs)("div",{className:"t_f_group",children:[(0,d.jsxs)("div",{className:"t_f_upload",children:[u&&u.length>0?u&&u.map(((e,t)=>e.thumbnail?(0,d.jsxs)("div",{className:"t_m_up_img_wrap",onClick:this.onClickToEdit(t),children:[e.thumbnail?(0,d.jsxs)("div",{className:"t_m_up_img_in",children:[(0,d.jsx)("img",{className:"t_m_up_img",src:e.thumbnail,height:80,width:80,alt:""}),[3,5].includes(e.type)?(0,d.jsx)("div",{className:"t_m_vi_ico tb__icon tb-play",children:(0,d.jsx)("div",{})}):null]}):null,(0,d.jsx)("div",{className:"t_m_remove_btn tb__icon tb-close-alt",onClick:()=>this.onClickToRemove(e,t),children:(0,d.jsx)("div",{})})]},t):null)):null,(0,d.jsx)(s.Suspense,{fallback:(0,d.jsx)("div",{className:"t_m_upload",children:"Loading..."}),children:(0,d.jsx)(g,{checkUpload:this.checkUpload,formLanguage:v,isActiveIndex:_,addPostImage:this.addPostImage,uploadErrorCallback:this.uploadErrorCallback,upload_image:u,removedFile:q})})]}),I?(0,d.jsx)("div",{className:"t_f_error",children:I}):null]}),(0,d.jsxs)("div",{className:"t_row_",children:[(0,d.jsx)("div",{className:"t_col_",children:(0,d.jsxs)("div",{className:"t_f_group",children:[(0,d.jsxs)("div",{className:"t_label_",children:[" ",null!==(a=null===v||void 0===v?void 0:v.Name)&&void 0!==a?a:"Name","  ",(0,d.jsx)("div",{className:"t_t_danger",children:"*"})]}),(0,d.jsx)("input",{type:"text",className:"t_from_input ".concat(E?"t_f_invalid":""),placeholder:null!==(r=null===v||void 0===v?void 0:v.Enter_Name)&&void 0!==r?r:"Enter Your Name",onChange:this.onTextName,value:b}),E?(0,d.jsx)("div",{className:"t_f_error",children:" Name is required."}):null]})}),(0,d.jsx)("div",{className:"t_col_",children:(0,d.jsxs)("div",{className:"t_f_group",children:[(0,d.jsxs)("div",{className:"t_label_",children:[" ",null!==(c=null===v||void 0===v?void 0:v.Email)&&void 0!==c?c:"Email","  ",(0,d.jsx)("div",{className:"t_t_danger",children:"*"})]}),(0,d.jsx)("input",{type:"text",className:"t_from_input ".concat(k?"t_f_invalid":""),placeholder:null!==(h=null===v||void 0===v?void 0:v.Enter_Email)&&void 0!==h?h:"Enter Your Email",onChange:this.onTextEmail,value:N}),k?(0,d.jsxs)("div",{className:"t_f_error",children:[" ",0==String(N).trim().length?"Email is required.":(0,l.DT)(N)?"":"Enter valid email."]}):null]})})]}),[104746].includes(B.ThemeInfo.ownerId)?(0,d.jsxs)("div",{className:"t_f_check_inline",children:[(0,d.jsx)("input",{type:"checkbox",id:"t_accept",className:"t_from_check",onChange:e=>this.termsCheck(e.target.checked?1:0)}),(0,d.jsxs)("div",{className:"t_f_label_wrap",children:[(0,d.jsx)("label",{className:"t_check_label_",htmlFor:"t_accept",children:"I agree to CALM using my story for marketing purposes --"}),(0,d.jsx)("a",{href:J.termsLink,className:"t_tc_link",target:"_blank",children:"click for more information on how your story will be used."})]})]}):(0,d.jsxs)("div",{className:"t_f_group",children:[(0,d.jsxs)("div",{className:"t_f_check_inline",children:[(0,d.jsx)("input",{type:"checkbox",id:"t_accept",className:"t_from_check",value:"accept",onChange:this.onUpdatetandc,checked:S}),(0,d.jsxs)("label",{className:"t_check_label_",htmlFor:"t_accept",children:["By clicking on Submit, you are agreeing to our ",(0,d.jsx)("a",{href:"".concat(n.om).concat((o.MH,"on-site-uploads-content-rights/")),className:"t_tc_link",target:"_blank",children:"terms and conditions"})," *"]})]}),0==S?(0,d.jsx)("div",{className:"t_f_error",children:"* Please agree to the terms and conditions to submit your media."}):null]}),P?(0,d.jsx)("div",{className:"t_f_group",children:(0,d.jsxs)("div",{className:"t_f_error",children:["* ",R||"Please check complete details."]})}):null,(0,d.jsx)("div",{className:"t_f_group t_text_center",children:(0,d.jsx)("div",{className:"t_f_p_btn ".concat(y?" t_f_btn_spinner":""),onClick:()=>{this.onSubmitPostData(this.state.fileUpload)},children:J.button.text})})]})}):null})})}}const N=(0,r.Ng)((e=>{var t;return null!==(t=e.modalPop)&&void 0!==t&&t.onSiteIsShowPopUp&&(document.querySelector("html").style.overflow="hidden"),{modalPop:e.modalPop}}),(e=>({onSitePopup:t=>e((0,c.b8)(t)),onsiteTokenUpdate:t=>e((0,c.du)(t))})))(b)}}]);