"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[56],{70056:(e,n,a)=>{a.r(n),a.d(n,{default:()=>M});var t=a(89379),s=a(9950),l=a(73878),i=a(41377),o=a(52867),r=a(80415),d=a(14478),p=a(66345),c=a(44414);const h=s.lazy((()=>a.e(4675).then(a.bind(a,74675)))),u=s.lazy((()=>a.e(980).then(a.bind(a,10980)))),m=s.lazy((()=>Promise.all([a.e(1823),a.e(8092),a.e(804),a.e(1333),a.e(3736),a.e(6703)]).then(a.bind(a,59992)))),w=s.lazy((()=>Promise.all([a.e(1823),a.e(8092),a.e(1333),a.e(3736),a.e(2)]).then(a.bind(a,57492)))),g=s.lazy((()=>Promise.all([a.e(1823),a.e(8092),a.e(804),a.e(1333),a.e(3736),a.e(3528)]).then(a.bind(a,81529)))),x=s.lazy((()=>Promise.all([a.e(1823),a.e(8092),a.e(804),a.e(1333),a.e(3736),a.e(581)]).then(a.bind(a,57458)))),S=s.lazy((()=>a.e(6837).then(a.bind(a,86837)))),j=s.lazy((()=>Promise.all([a.e(1823),a.e(8092),a.e(804),a.e(3736),a.e(7884)]).then(a.bind(a,84061)))),b=s.lazy((()=>Promise.all([a.e(1823),a.e(804),a.e(1333),a.e(3736),a.e(5726)]).then(a.bind(a,25816)))),P=s.lazy((()=>Promise.all([a.e(1823),a.e(8092),a.e(3556),a.e(8400),a.e(3736),a.e(7058),a.e(9557)]).then(a.bind(a,80545)))),k=s.lazy((()=>a.e(3278).then(a.bind(a,33278)))),f=s.lazy((()=>Promise.all([a.e(1823),a.e(8092),a.e(5752),a.e(3736),a.e(60)]).then(a.bind(a,13778)))),I=s.lazy((()=>Promise.all([a.e(1823),a.e(8092),a.e(804),a.e(5752),a.e(1996)]).then(a.bind(a,17135)))),D=s.lazy((()=>Promise.all([a.e(1823),a.e(8092),a.e(3556),a.e(3736),a.e(7058),a.e(2578)]).then(a.bind(a,28185)))),z=s.lazy((()=>Promise.all([a.e(1823),a.e(8092),a.e(804),a.e(3556),a.e(6779)]).then(a.bind(a,69106)))),A=s.lazy((()=>Promise.all([a.e(1823),a.e(8092),a.e(3556),a.e(5130)]).then(a.bind(a,30998)))),T=s.lazy((()=>Promise.all([a.e(1823),a.e(8092),a.e(804),a.e(3556),a.e(3736),a.e(3827)]).then(a.bind(a,2508)))),F=s.lazy((()=>Promise.all([a.e(1823),a.e(8092),a.e(804),a.e(3556),a.e(3736),a.e(8017)]).then(a.bind(a,33394)))),y=s.lazy((()=>a.e(8593).then(a.bind(a,58593)))),v=s.lazy((()=>a.e(543).then(a.bind(a,50543)))),C=s.lazy((()=>Promise.all([a.e(804),a.e(3556),a.e(2687)]).then(a.bind(a,71630)))),U=s.lazy((()=>Promise.all([a.e(1823),a.e(804),a.e(3736),a.e(1065)]).then(a.bind(a,73883)))),W=s.lazy((()=>Promise.all([a.e(1823),a.e(8092),a.e(804),a.e(3556),a.e(1333),a.e(5752),a.e(7956)]).then(a.bind(a,43711)))),H=p.uS?r.RY:p.HY?r.hX:r.Fp,N=p.uS?r.hO:p.HY?r.Fc:r.xX,L=s.memo((e=>{let{renderId:n,wall:a,reviewFilters:l,webFilters:i,postData:r,adjustWidth:d,languageSetting:h,clickToShowPopUp:u,cardNumber:H,onClickToCTA:N,postSizeInPx:L,onClickPopUpSlider:E,parentID:M,keyRender:R,containerSize:Y}=e;const _=!r.hasMoreData[0]||0!=r.hasMoreData[0].hasMoreData&&(!r.hasMoreData[r.appendData.networkID]||r.hasMoreData[r.appendData.networkID].hasMoreData),B=(0,t.A)((0,t.A)({},r),{},{reviewFilters:l,webFilters:i,hasMoreData:_,wall:a,adjustWidth:d,languageSetting:h,clickToShowPopUp:u,onClickToCTA:N,onClickPopUpSlider:E,keyRender:R,containerSize:Y});switch(a.Personalization.widgetTheme){case 20:return d?(0,c.jsx)(s.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(x,(0,t.A)({},B))}):null;case 5:return d?(0,c.jsx)(s.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(g,(0,t.A)({},B))}):null;case 3:return d?(0,c.jsx)(s.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(w,(0,t.A)({},B))}):null;case 4:return d?(0,c.jsxs)(s.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:[(0,c.jsx)(S,(0,t.A)((0,t.A)({},B),{},{cardNumber:H,postSizeInPx:L}))," "]}):null;case 19:case 59:case 83:return d?(0,c.jsxs)(s.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:[(0,c.jsx)(m,(0,t.A)({},B))," "]}):null;case 50:return p.HY?(0,c.jsx)(s.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(P,(0,t.A)((0,t.A)({},B),{},{cardNumber:H,renderId:n,postSizeInPx:L}))}):(0,c.jsx)(s.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(b,(0,t.A)((0,t.A)({},B),{},{cardNumber:H,renderId:n,postSizeInPx:L}))});case 52:case 79:return p.uS||p.MH&&(0,o.Nv)(79)?d?(0,c.jsx)(s.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(x,(0,t.A)({},B))}):null:(0,c.jsx)(s.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(z,(0,t.A)({},B))});case 16:return(0,c.jsx)(s.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(T,(0,t.A)((0,t.A)({},B),{},{cardNumber:H,postSizeInPx:L,onClickPopUpSlider:E,parentID:M}))});case 55:case 81:return(0,c.jsx)(s.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(D,(0,t.A)((0,t.A)({},B),{},{cardNumber:parseInt(H),onClickPopUpSlider:E,parentID:M}))});case 49:case 53:case 85:return p.HY?(0,c.jsx)(s.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(k,(0,t.A)((0,t.A)({},B),{},{cardNumber:H,renderId:n,postSizeInPx:L}))}):(0,c.jsx)(s.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(j,(0,t.A)({},B))});case 47:return(0,c.jsx)(s.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(F,(0,t.A)((0,t.A)({},B),{},{cardNumber:H,onClickPopUpSlider:E,renderId:n,parentID:M}))});case 54:case 80:return(0,c.jsx)(s.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(C,(0,t.A)((0,t.A)({},B),{},{onClickPopUpSlider:E,renderId:n,parentID:M}))});case 6:case 61:return(0,c.jsx)(s.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(f,(0,t.A)((0,t.A)({},B),{},{onClickPopUpSlider:E,renderId:n,parentID:M}))});case 62:return(0,c.jsx)(s.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(I,(0,t.A)((0,t.A)({},B),{},{cardNumber:H,onClickPopUpSlider:E,renderId:n,parentID:M}))});case 57:case 84:return(0,c.jsx)(s.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(y,(0,t.A)({},B))});case 58:case 82:return(0,c.jsx)(s.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(v,(0,t.A)({},B))});case 60:case 56:return(0,c.jsx)(s.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(A,(0,t.A)((0,t.A)({},B),{},{onClickPopUpSlider:E,parentID:M}))});case 63:return(0,c.jsx)(s.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(W,(0,t.A)((0,t.A)({},B),{},{onClickPopUpSlider:E,parentID:M}))});case 64:return(0,c.jsx)(s.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(U,(0,t.A)((0,t.A)({},B),{},{onClickPopUpSlider:E,parentID:M}))});default:return(0,c.jsx)(c.Fragment,{})}}));class E extends s.PureComponent{constructor(){super(...arguments),this.state={windowWidth:window.innerWidth,windowHeight:window.innerHeight,adjustWidth:0,cardNumber:0,postSizeInPx:0,isLoaded:!1,updatedValue:0},this.autoLoadEditorScrollData=e=>{const{wall:n,postData:a,loaderData:t}=this.props,s=n.ThemeRule.numberOfPosts;let l=document.getElementsByClassName("wall-editor");if(1==n.Personalization.autoScrollStatus&&H.includes(n.Personalization.widgetTheme)&&l.length>0){let e=l[0];if(document.body.scrollHeight+e.scrollTop>=e.scrollHeight-10&&(!t||!t.isShowMoreLoading)){const e=Math.floor(Date.now()/1e3);this.props.getDataNextSteps(n.Wall.id,e,s,a.appendData.networkID,a.appendData.after,a.appendData.heightEvent)}}},this.autoLoadScrollData=e=>{const{wall:n,postData:a,loaderData:t}=this.props,s=n.ThemeRule.numberOfPosts,l=document.body,i=document.documentElement;if(1===n.Personalization.autoScrollStatus&&H.includes(n.Personalization.widgetTheme)){const e=Math.max(l.scrollHeight,l.offsetHeight,i.clientHeight,i.scrollHeight,i.offsetHeight);if(window.innerHeight+window.pageYOffset>=parseInt(e)-parseInt(50)&&(!t||!t.isShowMoreLoading)){const e=Math.floor(Date.now()/1e3);this.props.getDataNextSteps(n.Wall.id,e,s,a.appendData.networkID,a.appendData.after,a.appendData.heightEvent)}}},this.onResponsiveTheme=e=>{const{wall:n}=this.props;let{windowWidth:a}=this.state;a=2===e?a+165:a;let{adjustWidth:t,cardNumber:s}=(0,o.Jw)(a,n);t=(100/a*t).toFixed(2),this.setState({adjustWidth:t,cardNumber:s,postSizeInPx:(0,o.Jw)(a,n)})},this.onClickToShowPopup=(e,n)=>a=>{a.stopPropagation(),this.onLoadPopUp(e,n)},this.onClickPopUpSlider=(e,n)=>this.onLoadPopUp(e,n),this.onLoadPopUp=(e,n)=>{var a;const{wall:s,languageSetting:l,postData:r}=this.props,c="tagembed"==(null===s||void 0===s||null===(a=s.User)||void 0===a?void 0:a.userDatabaseType);if(c||p.HY||!(i.Fr&&!s.Personalization.mobilePopup||c&&s.Personalization.mobilePopup&&""!==n.link)){let a=r.postData.map((e=>r.completeDataObject[e])).filter((e=>!String(e.id).includes("free_add_"))),t=(0,o.p5)(a,n.id,e);if(2===s.Personalization.postFeatured){if("undefined"==n.link||""==n.link)return!1;window.open(n.link,"_blank")}else 3===s.Personalization.postFeatured?window.open(s.Personalization.customUrl,"_blank"):1===s.Personalization.postFeatured&&this.props.showPopUP({type:"post",card:n,idArray:a,index:t,viewOnText:l.viewOnText,shareText:l.shareText,personalization:s.Personalization,imgData:o.Y0,ThemeRule:s.ThemeRule,wall:s})}else{if("undefined"==n.link)return!1;window.open(n.link,"_blank")}const h={feed:n.feedId,post:n.referenceId?n.referenceId:n.id},u={wallId:s.Wall.id,userId:s.Wall.owner,feedId:n.feedId,postId:n.id},m={action:2,wall:s.Wall.id,feed:n.feedId,post:n.referenceId?n.referenceId:n.id,type:3,owner:s.Wall.owner};(0,d.hq)(p.uS?u:p.Qy?m:(0,t.A)((0,t.A)({action:2,wall:s.Wall.id},h),{},{owner:s.Wall.owner})),(0,d.nF)("Tagbox","popupclick_","popup",n.link)},this.onClickToCTA=e=>{const{wall:n}=this.props;p.uS||(0,d.hq)({action:2,wall:n.Wall.id,type:1,feed:e.feedId,post:e.referenceId?e.referenceId:e.id,owner:n.Wall.owner}),(0,d.nF)("Tagbox","ctaClick","cta",e.cta&&e.cta.url?e.cta.url:"")}}componentWillMount(){const{renderId:e}=this.props.renderId;this.setState({windowWidth:e&&document.getElementById(e)?document.getElementById(e).clientWidth:window.innerWidth})}componentDidMount(){const{renderId:e}=this.props.renderId;if(this.onResponsiveTheme(),window.addEventListener&&window.addEventListener("resize",(()=>{var n;this.setState({windowWidth:e&&document.getElementById(e)?null===(n=document.getElementById(e))||void 0===n?void 0:n.clientWidth:window.innerWidth,windowHeight:window.innerHeight},(()=>this.onResponsiveTheme()))})),window.editor){let e=document.getElementsByClassName("wall-editor");e.length>0&&e[0].addEventListener("scroll",this.autoLoadEditorScrollData)}else window.addEventListener&&window.addEventListener("scroll",this.autoLoadScrollData);setTimeout((()=>{this.setState({isLoaded:!0})}),1e3),p.HY&&!p.IU&&(0,o.pj)()}componentWillReceiveProps(e){e!=this.props&&p.IU&&this.onResponsiveTheme()}componentDidUpdate(e,n){window.location.href.includes("addfeedload=load")&&n.updatedValue!=this.props.wall.Personalization.widgetTheme&&this.setState({updatedValue:this.props.wall.Personalization.widgetTheme},(()=>this.onResponsiveTheme()))}render(){var e,n,a;const{wall:l,languageSetting:i,postData:o,containerSize:r,brandingNetworks:d,parentID:m}=this.props;window.onResponsiveTheme=this.onResponsiveTheme;const{isLoaded:w}=this.state,g=!p.uS||58!=l.Personalization.widgetTheme&&57!=l.Personalization.widgetTheme;return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("div",{className:"tb_theme_container",children:[o.isFreeAdsStatus&&!p.HY&&g&&(null===o||void 0===o||null===(e=o.completeData)||void 0===e?void 0:e.length)>0?(0,c.jsxs)(s.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:[(0,c.jsx)(u,{containerSize:r,languageSetting:i,brandingNetworks:d,wallId:l.Wall.id,themeID:l.Personalization.widgetTheme,user:null===l||void 0===l||null===(n=l.User)||void 0===n?void 0:n.userDatabaseType})," "]}):null,(0,c.jsx)(L,(0,t.A)((0,t.A)((0,t.A)({},this.props),this.state),{},{clickToShowPopUp:this.onClickToShowPopup,onClickToCTA:this.onClickToCTA,onClickPopUpSlider:this.onClickPopUpSlider,parentID:m,onLoadPopUp:this.onLoadPopUp})),o.isFreeAdsStatus&&p.HY&&g&&(null===o||void 0===o||null===(a=o.completeData)||void 0===a?void 0:a.length)>0?(0,c.jsxs)(s.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:[(0,c.jsx)(u,{containerSize:r,languageSetting:i,brandingNetworks:d,wallId:l.Wall.id,themeID:l.Personalization.widgetTheme})," "]}):null,w&&1===l.Personalization.loadMoreStatus&&N.includes(l.Personalization.widgetTheme)?(0,c.jsx)(s.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(h,{languageSetting:i,wall:l,appendData:o.appendData,postData:o,isBranding:!(!o.isFreeAdsStatus||!p.HY)})}):null]})})}}const M=(0,l.Ng)((e=>({loaderData:e.loaderData,renderId:e.renderId})),(e=>({showPopUP:n=>e((0,d.Gd)(n)),getDataNextSteps:(n,a,t,s,l,i,o)=>e((0,d.H5)(n,a,t,s,l,i,o))})))(E)}}]);