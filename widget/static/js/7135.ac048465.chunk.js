"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[7135],{17135:(t,e,i)=>{i.r(e),i.d(e,{default:()=>P});var s=i(9950),r=i(10300),a=i(78885),n=i(27210),o=(i(38281),i(78262)),d=i(3720),c=i(77611),l=i(44414);const p=t=>{let{Post:e,ThemeStyle:i,CardStyle:s,index:r,inView:a}=t;const n=!(![3,5].includes(e.type)||1!==i.autoPlay||!a);return(0,l.jsxs)("div",{className:"tb_rtp_media_wrap",children:[n&&1==s.viewCountStatus&&(null===e||void 0===e?void 0:e.count.views)>0?(0,l.jsx)(c.A,{count:null===e||void 0===e?void 0:e.count.views}):null,n?(0,l.jsx)(d.A,{VideoClass:"tb_rtp_video",Post:e,size:1,isCover:!0,muted:!0,autoPlay:!0,index:r,inView:a}):(0,l.jsx)(o.A,{ImageClass:"tb_rtp_image",Post:e,size:1,index:r,inView:a})]})};var u=i(52867),m=i(66345),_=i(18459);const h=(t,e)=>{if(0!=t){if(e>0&&e<t){let i=(t-e)/t*100;return i>0?"".concat(i.toFixed(),"%"):""}return!1}return!1},b=t=>{let{Post:e,ProductSetting:i}=t;const s=e.products,{Price:r,ProductTitle:o}=i,d=!(!s||1!=s.length);return(0,l.jsx)("div",{className:"tb_rtp_wrap",id:"slide-".concat(e.id),children:(0,l.jsxs)("div",{className:"tb_rtp_wrap_in tb_swiper",children:[(0,l.jsx)(a.RC,{id:"product_slide-".concat(e.id),modules:[n.dK,n.Vx],spaceBetween:10,navigation:{prevEl:"#tb_rtn_prev-".concat(e.id),nextEl:"#tb_rtn_next-".concat(e.id)},children:s.map(((t,e)=>(0,l.jsx)(a.qr,{children:(0,l.jsxs)("div",{className:"tb_rtp",children:[(0,l.jsx)("div",{className:"tb_rtp_media",style:{opacity:t.image?1:0},children:(0,l.jsx)(_.A,{ImageClass:"tb_rtp_img",media:t.image,size:!1,itemDetails:""})}),(0,l.jsx)("div",{className:"tb_rtp_title_w",children:t.title?(0,l.jsx)("div",{className:"tb_rtp_title tb-cTBfont-".concat(o.variant),children:t.title}):null}),t.price>0||t.discount>0?(0,l.jsxs)("div",{className:"tb_rtp_price_wrap",children:[(0,l.jsxs)("div",{className:"tb_rtp_price tb-cTBfont-".concat(r.variant),children:[t.currency,t.discount>0?t.discount:t.price]}),t.discount>0&&t.discount!=t.price?(0,l.jsxs)("div",{className:"tb_rtp_d_price tb-cTBfont-".concat(r.variant),children:[t.currency,t.price]}):null,h(Number(t.price),Number(t.discount))&&""!=h(Number(t.price),Number(t.discount))?(0,l.jsx)("div",{className:"tb_rtp_dp",children:h(Number(t.price),Number(t.discount))}):null]}):null]},e)},e)))}),d?null:(0,l.jsxs)("div",{className:"tb_rtn_wrap",onClick:t=>{t.stopPropagation()},children:[(0,l.jsx)("div",{id:"tb_rtn_prev-".concat(e.id),className:"tb_rtn_btn tb_rtn_btn_left tb__icon tb-arrow-left-alt",children:(0,l.jsx)("div",{})}),(0,l.jsx)("div",{id:"tb_rtn_next-".concat(e.id),className:"tb_rtn_btn tb_rtn_btn_right tb__icon tb-arrow-right-alt",children:(0,l.jsx)("div",{})})]})]})})};var v=i(78167),x=i(6723);const g=t=>{let{Post:e,CardStyle:i,ProductSetting:s,inView:r}=t;const{author:a,networkId:n}=e,{ProductTitle:o}=s,d=!(!i.author.status||(0,u.zK)(a.name));return(0,l.jsx)("div",{className:"tb_rtp_wrap",children:(0,l.jsxs)("div",{className:"tb_rtp_wrap_in",style:{marginTop:d?"":0},children:[d?(0,l.jsxs)("div",{className:"tb_rtp_media",children:[(0,l.jsx)(v.default,{networkId:n,author:a,authorClass:"tb_rtp_a_img",inView:r},a.username)," "]}):"",d?(0,l.jsx)("div",{className:"tb_rtp_title_w",children:(0,l.jsx)("div",{className:"tb_rtp_authorname tb-cTBfont-".concat(o.variant),children:a.username&&a.username.length>0?"".concat(a.username):""})}):"",i.timeStatus?(0,l.jsx)(x.default,{createdAt:e.createdAt,timeClass:"tb_rtp_time tb-cTBfont-".concat(i.author.variant)}):""]})})};var w=i(56071);class j extends s.PureComponent{constructor(t){super(t),this.mediaHeight=s.createRef()}componentDidMount(){const{Post:t,itemIndex:e,onClickPopUpSlider:i}=this.props;(0,u._7)(this.mediaHeight),t.isPopUp&&i(e,t)}render(){const{itemIndex:t,ThemeStyle:e,CardStyle:i,Post:s,ProductSetting:r,clickToShowPopUp:a,index:n}=this.props,{style:o}=i;return(0,l.jsx)(w.A,{children:d=>{let{ref:c,inView:u}=d;return(0,l.jsx)("div",{"data-id":s.id,id:"tb_rt_id-".concat(s.id),className:"tb_rtp_post_wrapper",onClick:a(t,s),style:{padding:o.margin/2,opacity:u?1:0,transition:u?"opacity .5s ease-in-out":""},"tb-product":s.isShopIcon?1:s.isHotspot?2:0,"area-label":s.content.text,role:"article",ref:c,"post-id":s.referenceId?s.referenceId:s.id,"feed-id":s.feedId,children:(0,l.jsxs)("div",{className:"tb_rtp_post_in tb_icon_animate ".concat(m.aD?"tb_rtp_post_in_animate":""),role:"button","aria-label":"Popup",tabIndex:0,ref:this.mediaHeight,children:[(0,l.jsx)(p,{Post:s,CardStyle:i,ThemeStyle:e,index:n,inView:u}),m.aD?(0,l.jsx)("div",{className:"tb_rtp_play_ico",children:(0,l.jsx)("div",{className:"tb__icon tb-play",children:(0,l.jsx)("div",{})})}):null,s.isProduct?(0,l.jsx)(b,{Post:s,ProductSetting:r},"product_slide".concat(s.id)):(0,l.jsx)(g,{Post:s,CardStyle:i,ThemeStyle:e,ProductSetting:r,inView:u})]})})}})}}var S=i(21850);class y extends s.Component{constructor(t){super(t),this.requestData=t=>{const{appendData:e,ThemeInfo:i,ThemeStyle:s,hasMoreData:r,nextData:a,loaderData:n,containerSize:o}=this.props;t.progress>.8&&r&&!n.isShowMoreLoading&&a(m.aD?null===i||void 0===i?void 0:i.wallId:null===i||void 0===i?void 0:i.webId,Math.floor(Date.now()/1e3),(0,u.Ci)(o.width,s.column,300),e.networkID,e.after,e.heightEvent)},this.inputRefs={},this.state={loadData:!1}}componentDidUpdate(){this.props.loadBranding()}render(){const{postData:t,completeDataObject:e,clickToShowPopUp:i,hasMoreData:s,parentID:r,keyRender:o,onClickPopUpSlider:d,CardStyle:c,ThemeStyle:p,ProductSetting:_,ThemeInfo:h,containerSize:b}=this.props,v=r,x=p.slide.autoSlide,g=p.slide.slideDuration,w=b.width>767?280:300,S=(0,u.Ci)(b.width,p.column,w);return(0,l.jsx)(l.Fragment,{children:r&&(0,l.jsx)("div",{className:"tb_rtp_post_container tb_swiper",ref:this.sliderHeight,children:(0,l.jsx)(a.RC,{observer:!0,observeParents:!0,spaceBetween:0,ref:t=>this.inputRefs[v]=t,onScroll:t=>{this.requestData(t)},onTouchMove:t=>{this.requestData(t)},onAutoplay:t=>{this.requestData(t)},speed:700,edgeSwipeDetection:!0,slidesPerView:S+.4,touchRatio:2,cssMode:(0,u.qs)(),passiveListeners:!0,freeMode:{enabled:!0,sticky:!1,momentumBounceRatio:2,momentumVelocityRatio:3},autoplay:!!m.MH&&{delay:1===x?1e3*g:99e3,disableOnInteraction:!1,pauseOnMouseEnter:!0},loop:!s,mousewheel:{forceToAxis:!0,sensitivity:1},watchSlidesProgress:!0,modules:[n.Ij,n.FJ,n.U1],className:"tb_rtp_post_slider",children:(null===t||void 0===t?void 0:t.length)>0&&t.map(((t,s)=>{const n=e[t];return m.MH||1!==n.type?(0,l.jsx)(a.qr,{"data-id":n.id,p_id:r,className:"tb_".concat(n.id),children:t=>{let{isVisible:e}=t;return(0,l.jsx)(j,{isVisible:e,Post:n,index:s,CardStyle:c,ThemeStyle:p,ProductSetting:_,ThemeInfo:h,clickToShowPopUp:i,onClickPopUpSlider:d},s)}},"".concat(n.id,"-").concat(s)):null}))},o)})})}}const P=(0,s.memo)((0,r.Ng)((t=>({loaderData:t.loaderData})),(t=>({nextData:(e,i,s,r,a,n,o,d)=>t((0,S.wF)(e,i,s,r,a,n,o,d))})))(y))},18459:(t,e,i)=>{i.d(e,{A:()=>o});var s=i(9950),r=i(80415),a=i(76506),n=i(44414);class o extends s.PureComponent{constructor(t){super(t),this.onLoad=t=>1==t.target.getAttribute("data-load")&&this.setState({imgUrl:t.target.src,loadError:!1}),this.state={loadError:!1,paddingBottom:100,imgUrl:this.props.media}}UNSAFE_componentWillReceiveProps(t){const{itemDetails:e}=t,{loadError:i}=this.state;i&&t!=this.props&&e&&Object.keys(e).length&&e.showCart&&this.setState({imgUrl:e.data.featured_image,loadError:!1})}render(){const{ImageClass:t}=this.props,{imgUrl:e,paddingBottom:i}=this.state,s={paddingBottom:"".concat(i,"%")};return(0,n.jsx)("div",{className:"".concat(t,"_wrap"),style:s,children:(0,n.jsx)("img",{className:t,role:"img",src:e,height:300,width:300,onLoad:this.onLoad,onError:t=>{this.setState({loadError:!0}),t.target.src=r.qF},alt:(0,a.wG)(e)})})}}},38281:()=>{},77611:(t,e,i)=>{i.d(e,{A:()=>a});var s=i(76506),r=i(44414);const a=t=>{let{count:e}=t;return(0,r.jsxs)("div",{className:"tb_r_view",children:[(0,r.jsx)("div",{className:"tb__icon tb-eye",children:(0,r.jsx)("div",{})}),(0,s.sl)(e)]})}}}]);