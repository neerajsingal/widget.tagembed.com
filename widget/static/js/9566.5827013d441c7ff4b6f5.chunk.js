"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[9566],{45285:(e,t,i)=>{i.d(t,{bs:()=>u});var a=i(89379),o=i(10467),r=i(80415),n=i(296),s=i(52867),d=i(66345),l=i(14313),c=[],p=function(){var e=(0,o.A)((function*(e){return["taggbox.com","tagbox.com","tagembed.com","socialwalls.com"].some((t=>e.includes(t)))||(yield fetch(e).then((e=>e.ok)).catch((()=>!1)))}));return function(t){return e.apply(this,arguments)}}(),u=e=>{e.persist();var t=e.target,{network:i,itemId:a,themeId:o}=t.dataset;if(1!=i||[3,4,16,47,50,55,60].includes(o))c.includes(e)||c.push(e);else{var r=document.querySelector(".tb_media-".concat(a));r&&(r.style.display="none")}1===c.length&&h()},h=function(){var e=(0,o.A)((function*(){var e,{postData:t,wall:i}=n.A.getState().appData;if(i&&Object.keys(i).length&&c.length){var o,{User:u,Wall:v}=i,g=null===u||void 0===u?void 0:u.id,w=(d.aD,null===v||void 0===v?void 0:v.id),_=null===(e=c[0])||void 0===e?void 0:e.target,{filterId:x,network:P,itemId:y,load:I}=_.dataset,b=document.querySelector('img[data-item-id="'.concat(y,'"]')),S=null!==t&&void 0!==t&&t.completeDataObject?Object.values(t.completeDataObject).filter((e=>e.id===y)):[];if(null!==S&&void 0!==S&&S.length)if(!(yield p(null===(o=S[0])||void 0===o?void 0:o.postFileNew))&&b){if([2,18,3,28].includes(+P)&&"0"===I&&"34"!==x&&!_.src.includes("cloud.taggbox.com")){var D=((e,t,i)=>{var o,r,n,s,d,{UserPlan:l,Wall:c}=t;return(0,a.A)((0,a.A)((0,a.A)({table_name:null===l||void 0===l?void 0:l.db_table},e),null!==i&&void 0!==i&&i.length?{feedId:null===(o=i[0])||void 0===o?void 0:o.feedId,type:null===(r=i[0])||void 0===r?void 0:r.type,link:null===(n=i[0])||void 0===n?void 0:n.link,postFile:null===(s=i[0])||void 0===s?void 0:s.postFile,mediaFile:null===(d=i[0])||void 0===d?void 0:d.mediaFile}:{}),{},{url:null===c||void 0===c?void 0:c.url})})({wallId:w,postId:y,ownerId:g},i,S);try{var{data:f}=yield(new l.A).post(d.t5,D,{headers:(0,s.Ky)()}),C=d.aD?"https://images.".concat(d.QR,"/"):"";_.src="18"===P?"".concat(C).concat(f.media):f.media}catch(A){_.src=r.gX}finally{m(_)}}else _.src=r.gX,m(_);c.shift(),h()}else{var j="".concat(r.th,"media/images/no-image.svg");_.src=j,_.srcset=j,m(_),c.shift()}}}));return function(){return e.apply(this,arguments)}}(),m=e=>e.setAttribute("data-load","1")},12701:(e,t,i)=>{i.r(t),i.d(t,{default:()=>F});var a=i(9950),o=i(10300),r=i(89379),n=i(66345),s=i(92687),d=i(54199),l=i(10467),c=i(83744),p=i(21850),u=i(18459),h=i(52867),m=i(44414),v=e=>{var{product:t,wall:i,onsetProductImg:o,openAddtocart:n,item:s,setOnProductDetails:d}=e,{ThemeInfo:v,ProductSetting:g}=i,[w,_]=(0,a.useState)(!1),[x,P]=(0,a.useState)(!1),y=(e,t)=>(0,p.hq)({type:1,action:2,wall:v.webId,product_id:t.id,post:s.referenceId,owner:v.ownerId,feed:s.feedId,currency:t.currencyCode,price:t.discount>0?t.discount:t.price}),I=g.Button,b=function(){var e=(0,l.A)((function*(){P(!0);var e={};if(t&&t.url)try{var i;if(140717==v.ownerId||1==(null===g||void 0===g||null===(i=g.Button)||void 0===i?void 0:i.pdp_target))S(t.url),o(t.image),P(!1),y(0,t);else{var a="magento"==t.createdFrom||!1;""!=t.createdFrom?(0,c.YS)(t.url,a,{productId:t.sku,storeId:t.storeId}).then((i=>{var s;if(a&&0==i.status)e[t.id]={data:{available:!0},showCart:140717!==v.ownerId};else{var d,l=a&&(null===i||void 0===i||null===(d=i.data)||void 0===d?void 0:d.data)||(null===i||void 0===i?void 0:i.data),c=a?{available:!0}:{};e[t.id]={data:null!==l&&void 0!==l&&l.id?(0,r.A)((0,r.A)({},l),c):null,showCart:(null===l||void 0===l?void 0:l.id)&&140717!==v.ownerId}}o(null!==i&&void 0!==i&&null!==(s=i.data)&&void 0!==s&&s.featured_image?i.data.featured_image:t.image),P(!1),n(e,t.id,t)})).catch((e=>{console.log("error",e),S(t.url),o(t.image),P(!1),y(0,t)})):(S(t.url),o(t.image),P(!1),y(0,t))}}catch(s){console.log("error",s),S(t.url),P(!1)}}));return function(){return e.apply(this,arguments)}}(),S=e=>{var{Button:t}=g,i=e,a=2===parseInt(t.newTab);try{if(a)window.top.location.href=i;else window.open(i,"_blank")||(window.top.location.href=i)}catch(o){window.top.location.href=i}};return(0,m.jsxs)("div",{className:"tb_rpp_pro ".concat(w?"ts_reelTheme_No_Product":""),children:[(0,m.jsx)("div",{className:"tb_rpp_pro_wrap",children:(0,m.jsx)(u.A,{ImageClass:"tb_rpp_pro_img",media:t.image},"pro-".concat(t.id))}),(0,m.jsxs)("div",{className:"tb_rpp_pro_cont",children:[(0,m.jsx)("div",{className:"tb_rpp_pro_title",children:t.title}),parseFloat(t.price)>0||parseFloat(t.discount)>0?(0,m.jsxs)("div",{className:"tb_rpp_p_wrap",children:[(0,m.jsxs)("div",{className:"tb_rpp_p",children:[t.currency,parseFloat(t.discount)>0?parseFloat(t.discount):parseFloat(t.price)]}),0==parseFloat(t.discount)||parseFloat(t.price)==parseFloat(t.discount)?(0,m.jsx)(m.Fragment,{}):(0,m.jsxs)(m.Fragment,{children:[" ",(0,m.jsxs)("div",{className:"tb_rpp_p tb_rpp_d_p",children:[t.currency," ",parseFloat(t.price)]}),(0,m.jsxs)("div",{className:"discount_p",children:[" ",(0,h.CA)(t.price,t.discount),"   "]}),"  "]})]}):null,(0,m.jsxs)("div",{className:"tb_rpp_btn".concat(x?" tb_rpp_btn_spinner":""),disabled:x,onClick:()=>{b()},children:[I.text," "]})]})]},t.id)};const g=(0,a.memo)(v);var w=i(78262),_=i(38092),x=i.n(_),P=i(76506);class y extends a.PureComponent{constructor(e){super(e),this.setVideoLoaded=e=>{this.setState({videoLoaded:e})},this.onUpdateTime=e=>{try{this.setState({played:this.state.played+e.playedSeconds})}catch(t){console.log(t)}},this.state={loadError:!1,paddingBottom:100,videoLoaded:!1,played:0}}componentWillUnmount(){var{played:e}=this.state;(0,P.HI)(e)}render(){var e,t,i,{VideoClass:a,Post:o,controls:r,handleVideoEnded:n,muted:s,currentView:d,inView:l}=this.props,{videoLoaded:c}=this.state,{media:p,height:u,width:h,id:v,link:g,networkId:w}=o;return(0,m.jsxs)("div",{className:"".concat(a,"_wrap_"),style:{paddingBottom:"100vh"},children:[(0,m.jsx)(x(),{className:"".concat(a," tb_media-").concat(v),url:l?p.video.full:null===p||void 0===p||null===(e=p.image)||void 0===e?void 0:e.small,"data-height":u,"data-width":h,"data-type":"video","data-network":w,"data-link":g,"data-item-id":v,"data-load":0,config:{facebook:{appId:"117029975354072",attributes:{"data-width":h,"data-height":u,poster:null===p||void 0===p||null===(t=p.image)||void 0===t?void 0:t.small}},file:{attributes:{preload:"auto",poster:null===p||void 0===p||null===(i=p.image)||void 0===i?void 0:i.small,playsInline:!0}}},autoPlay:d?1:0,loop:!0,muted:d&&s,volume:d&&s?0:1,playsinline:!0,playing:d,height:"100%",width:"100%",controls:r,onReady:()=>this.setVideoLoaded(!0),onProgress:this.onUpdateTime,onEnded:n||null},"".concat(v,"-").concat(d,"-").concat(g)),c?null:(0,m.jsx)("div",{className:"tb_rpp_v_spinner",children:(0,m.jsx)("div",{})})]})}}var I=i(53556),b=JSON.parse(window.localStorage.getItem("mediaDimension"));class S extends a.PureComponent{constructor(e){super(e),this.mediaSize=e=>this.props.mediaSizeCallback(e),this.onItemChange=e=>this.setState({item:e}),this.currentSplideSlide=e=>{this.setState({activeSlide:e})},this.state={activeSlide:0,mediaSize:{height:null!=b?b[0]:"85vh",width:null!=b?b[1]:"85vh"}}}render(){var{Post:e,wallID:t,size:i,onUpdateProdImgIdx:a,inView:o,currentView:n}=this.props,s=!n;return(0,m.jsx)("div",{className:"tb_rp_media_holder",children:(0,m.jsx)(I.eB,{options:{direction:"ltr",pagination:!0,arrows:!1,speed:400,rewind:!0,perPage:1,perMove:1,gap:0,updateOnMove:!0,wheel:!1,paginationDirection:"ltr",classes:{pagination:"splide__pagination tb_rp_bullet"}},onMoved:(e,t)=>{a(t),this.currentSplideSlide(t)},children:e.mediaList.map(((a,d)=>(0,m.jsx)(I.Nn,{children:[2,4].includes(a.type)?(0,m.jsx)(w.A,{ImageClass:"tb_rp_image",Post:e,mediaOnly:a,size:i,multiPic:1,multiKey:d,hotspot:!!a.product.length,inView:!0}):[3,5].includes(a.type)?(0,m.jsx)(y,{VideoClass:"tb_rp_video",media:a.video.full,mediaPoster:a.image.original,Post:(0,r.A)((0,r.A)({},e),{},{media:{video:a.video,image:a.image}}),wallID:t,currentView:n?this.state.activeSlide===d:null,size:i,isCover:!0,controls:!1,autoPlay:!0,muted:s,index:d,inView:o}):null},d)))})},e.id)}}var D=e=>{var t,{Post:i,muted:a,index:o,wallID:n,inView:s,currentView:d}=e,l=!1;return i.mediaList&&i.mediaList.length>0?(0,m.jsx)(S,(0,r.A)((0,r.A)({Post:i},e),{},{currentView:d})):[2,4].includes(i.type)&&s?(0,m.jsx)(w.A,{ImageClass:"tb_rp_image",Post:i,size:l,hotspot:!(null===i||void 0===i||null===(t=i.product)||void 0===t||!t.length),blurBG:!1,observer:!1,index:o,inView:s}):[3,5].includes(i.type)&&s?(0,m.jsx)(y,{VideoClass:"tb_rp_video",Post:i,size:l,wallID:n,isCover:!0,controls:!1,currentView:d,muted:a,handleVideoEnded:()=>{},index:o,inView:s}):null};const f=(0,a.memo)(D);var C=i(80415);function j(e){e.style.setProperty("visibility","visible","important"),e.style.setProperty("opacity","1","important"),e.style.setProperty("display","flex","important"),e.style.setProperty("transform","none","important"),e.style.setProperty("clip-path","initial","important"),e.style.setProperty("border","none","important")}class A extends a.PureComponent{render(){return(0,m.jsx)("a",{href:C.om,target:"_blank",ref:e=>{e&&(e.style.setProperty("margin-right","15px","important"),e.style.setProperty("width","90px","important"),e.style.setProperty("height","auto","important"),j(e))},children:(0,m.jsx)("img",{alt:"Branding",ref:e=>{e&&(e.style.setProperty("width","100%","important"),e.style.setProperty("height","auto","important"),j(e))},src:"".concat(C.th,"media/logos/").concat("tagbox-brand.svg")})})}}var k=e=>{var t,i,o,r,{wall:n,item:s,onsetProductImg:d,openAddtocart:l,index:c,currentView:p,muteToggle:u,muted:h,inView:v}=e,w=!![3,5].includes(s.type),{ThemeInfo:_,ProductSetting:x}=n,[P,y]=(0,a.useState)(0),I=e=>(0,m.jsx)("div",{className:"tb_rpp_slide_wrap",children:e.products&&e.products.map(((e,t)=>(0,m.jsx)(g,{product:e,openAddtocart:l,onsetProductImg:d,wall:n,item:s},t)))});return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(f,{Post:s,wallID:_.wallId,onUpdateProdImgIdx:e=>{y(e)},ownerId:_.ownerId,ThemeID:_.id,wall:n,muted:h,currentView:p,index:c,inView:v}),(0,m.jsxs)("div",{className:"tb_rp_content",children:[x&&s.isProduct?(0,m.jsx)(I,{products:null!==(t=s.mediaList)&&void 0!==t&&t.length?null!==(i=s.mediaList)&&void 0!==i&&null!==(o=i[P])&&void 0!==o&&null!==(r=o.product)&&void 0!==r&&r.length?s.mediaList[P].product:[]:s.products}):null,w?(0,m.jsx)("div",{className:"tb_rp_mute_btn",onClick:u,children:(0,m.jsx)("div",{className:"tb__icon tb-".concat(h?"mute":"unmute"),children:(0,m.jsx)("div",{})})}):null,_.branding?(0,m.jsx)(A,{wallId:_.wallId,themeID:_.id}):null]})]})};const N=(0,a.memo)(k);class T extends a.Component{constructor(e){var t;super(e),this.setMuted=()=>this.setState({muted:!this.state.muted}),this.onMediaUpdate=()=>this.setState({isAuthorImagevalid:!1}),this.onAddToCart=(e,t,i,a)=>{var{wall:o}=this.props,{webId:s,wallId:d,ownerId:l}=o.ThemeInfo;setTimeout((()=>{this.setState({addCartSetTime:!0})}),100);var c={type:1,action:2,wall:n.aD?d:s,feed:a.feedId,post:a.referenceId?a.referenceId:a.id,owner:l,product_id:i.id,currency:i.currency,currencyCode:i.currencyCode,price:i.discount>0?i.discount:i.price};this.setState({allProductDetails:e,addtoCartPopup:!0,selectedProductDetails:e[t],tagshopProductDeatil:(0,r.A)((0,r.A)({},i),{},{trackingData:c})})},this.requestData=()=>{var{wall:e,appendData:t,hasMoreData:i,loaderData:a}=this.props,{webId:o,wallId:r}=e.ThemeInfo,s=e.ThemeStyle.totalPosts,d=Math.floor(Date.now()/1e3);i&&!a.isShowMoreLoading&&this.props.nextData(n.MH?o:r,d,s,t.networkID,t.after,t.heightEvent)},this.onItemChange=e=>this.setState({item:e}),this.startSplideSlide=e=>{this.setState({activeSlide:e.index})},this.currentSplideSlide=e=>{this.onPopUpTrack(e.index),this.setState({activeSlide:e.index}),this.props.hasMoreData&&e.index==this.props.completeData.length-2&&this.requestData()},this.onPopUpTrack=e=>{try{var{wall:t,completeData:i}=this.props,{ThemeInfo:a}=t,o=i[e]?i[e]:null;if(o){var s={feed:o.feedId,post:o.referenceId?o.referenceId:o.id},d={action:2,wall:a.webId,feed:o.feedId,post:o.referenceId?o.referenceId:o.id,type:3,owner:a.ownerId};(0,p.hq)(n.Qy?d:(0,r.A)((0,r.A)({action:2,wall:a.webId},s),{},{owner:a.ownerId,type:3}))}}catch(l){console.log("Error in PopUp Tracking",l)}},this.onClickClosePopUp=e=>this.setState({addtoCartPopup:!1,continueShopping:!1,selectedProductDetails:null,addCartSetTime:!1}),this.onClickCheckOut=e=>this.setState({addtoCartPopup:!0,continueShopping:!1}),this.sliderRef=a.createRef(),this.state={currentIndex:null===(t=this.props)||void 0===t?void 0:t.currentIndex,item:this.props.item,windowWidth:window.innerWidth,isAuthorImagevalid:!0,isHotspot:!1,addtoCartPopup:!1,allProductDetails:null,selectedProductId:null,selectedProductDetails:null,continueShopping:!1,selectedVariant:null,showAddToCart:!1,productLoading:!0,productImg:"",tagshopProductDeatil:null,muted:!!(0,h.RP)(),activeSlide:0,addCartSetTime:!1,selectedProdDetails:null,tagProdDetail:null},this.splideRef=a.createRef()}componentDidMount(){var{currentIndex:e,item:t}=this.props,i=(0,P.hz)(t.author.picture);this.setState({currentIndex:e,item:t,isAuthorImagevalid:i})}UNSAFE_componentWillReceiveProps(e){var{currentIndex:t,item:i}=e,a=(0,P.hz)(i.author.picture);this.setState({currentIndex:t,item:i,isAuthorImagevalid:a})}render(){var{onClosePopUp:e,slideWithArrowKeys:t,wall:i,completeData:a}=this.props,{currentIndex:o,item:r,addtoCartPopup:n,selectedProductDetails:l,continueShopping:c,productImg:p,tagshopProductDeatil:u,addCartSetTime:h,muted:v,activeSlide:g}=this.state;return(0,m.jsxs)("div",{className:"modalId".concat(r.id," tb_rp_modal ").concat(h?"tb_rp_add_cart_m":""),onKeyDown:t,onKeyPress:t,onLoad:t,onClick:t=>t.currentTarget==t.target&&e(t),children:[(0,m.jsxs)("div",{className:"tb_rp_dialog",children:[n||c?null:(0,m.jsx)("div",{className:"tb_reel_close_btn",onClick:e,children:(0,m.jsx)("div",{className:"tb__icon tb-close-thin",children:(0,m.jsx)("div",{})})}),(0,m.jsx)("div",{className:"tb_time_line_wrap",children:(0,m.jsx)("div",{className:"tb_time_line",children:(0,m.jsx)("div",{})})}),(0,m.jsx)(I.eB,{ref:this.splideRef,options:{direction:"ttb",height:window.innerHeight,start:o,wheel:!1,releaseWheel:!0,sensitivity:1,drag:!0,pagination:!1,arrows:!1,isNavigation:!1,updateOnMove:!0},onMoved:this.currentSplideSlide,onMounted:this.startSplideSlide,children:a&&a.length>0?a.map(((t,a)=>(0,m.jsx)(I.Nn,{children:(0,m.jsx)(N,{currentView:g===a,onClosePopUp:e,wall:i,item:t,openAddtocart:(e,i,a)=>this.onAddToCart(e,i,a,t),onsetProductImg:e=>this.setState({productImg:e}),muteToggle:this.setMuted,muted:v,inView:Math.abs(g-a)<=2},"".concat(t.id,"-").concat(a))},"".concat(t.id,"-").concat(a)))):null})]}),n&&l?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:"tb_rp_cart_overlay",children:(0,m.jsx)("div",{})}),(0,m.jsx)("div",{className:"tb_rp_cart_modal",children:(0,m.jsxs)("div",{className:"tb_rp_cart_body",children:[(0,m.jsx)("div",{className:"ts_reel_close_btn tb_reel_close_btn",onClick:n&&!c?this.onClickClosePopUp:c?e=>this.setState({addtoCartPopup:!0,continueShopping:!1}):null,children:(0,m.jsx)("div",{className:"tb__icon tb-close-thin",children:(0,m.jsx)("div",{})})}),(0,m.jsx)("div",{className:"tb_rp_cart_wrap",children:l&&Object.keys(l).length>0?"magento"==(null===u||void 0===u?void 0:u.createdFrom)?(0,m.jsx)(s.A,{productImg:p,addtoCartPopup:n,productDetails:l,tagshopProductDeatil:u,closeCart:e=>this.setState({addtoCartPopup:!1,continueShopping:!1,selectedProductDetails:null}),onAddToCart:()=>this.setState({continueShopping:!0}),onSelectedVariant:e=>this.setState({selectedVariant:e}),wall:i,closePopUp:this.props.onClosePopUp}):(0,m.jsx)(d.A,{productImg:p,addtoCartPopup:n,productDetails:l,tagshopProductDeatil:u,closeCart:e=>this.setState({addtoCartPopup:!1,continueShopping:!1,selectedProductDetails:null}),onAddToCart:()=>this.setState({continueShopping:!0}),onSelectedVariant:e=>this.setState({selectedVariant:e}),wall:i,closePopUp:this.props.onClosePopUp}):null})]})})]}):null]})}}const U=(0,o.Ng)((e=>{var{appData:t}=e;return{loaderData:e.loaderData,appendData:t.postData.appendData,hasMoreData:!t.postData.hasMoreData[0]||0!=t.postData.hasMoreData[0].hasMoreData&&(!t.postData.hasMoreData[t.postData.appendData.networkID]||t.postData.hasMoreData[t.postData.appendData.networkID].hasMoreData)}}),(e=>({nextData:(t,i,a,o,r,n,s)=>e((0,p.wF)(t,i,a,o,r,n,s))})))((0,a.memo)(T));var V=i(93152);class M extends a.PureComponent{constructor(){super(...arguments),this.state={isEnable:0,eventData:{},shareText:"SHARE",viewOnText:"View on",currentIndex:null,completeData:{},personalization:{},url:null,imgData:[]},this.closeCommercePopUP=e=>{this.setState({isEnable:0,currentIndex:null},(()=>this.props.closePopUP()));var t=document.getElementsByTagName("html");t&&t[0]&&(t[0].style.overflow="")},this.getCommercePopUPEvent=e=>{null!==e&&void 0!==e&&e.card&&this.setState({url:"",isEnable:1,eventData:e,currentIndex:e.index,completeData:e.idArray,viewOnText:e.viewOnText,shareText:e.shareText,windowParent:e,imgData:e.imgData,personalization:e.personalization},(()=>this.CommercePopUPSlideWithArrowKey()))},this.featuredPopSliderChangeIndex=e=>this.updateCurrentInde(e),this.SliderWithKey=e=>this.updateCurrentInde(e),this.updateCurrentInde=e=>{var{eventData:t}=this.state;-1===e?this.setState({currentIndex:t.idArray.length-1}):this.setState({currentIndex:t.idArray.length===e?0:e})},this.CommercePopUPSlideWithArrowKey=e=>{var{personalization:t}=this.state;if(t&&1===t.popupSlideShow){var i=this;(e=e||window.event)&&e.keyCode&&void 0!==e.keyCode&&(37===e.keyCode?i.SliderWithKey(i.state.currentIndex-1):39===e.keyCode?i.SliderWithKey(i.state.currentIndex+1):27===e.keyCode&&this.closeCommercePopUP())}}}componentDidMount(){var{data:e}=this.props;this.getCommercePopUPEvent(e);var t=document.getElementsByTagName("html");t&&t[0]&&(t[0].style.overflow="hidden")}componentDidUpdate(e){this.props.data!==e.data&&this.getCommercePopUPEvent(this.props.data)}UNSAFE_componentWillReceiveProps(e){var{postData:t}=e,{completeData:i,eventData:a}=this.state;if(i.length!=t.postData.length){var o=t.postData.map((e=>t.completeDataObject[e])).filter((e=>!String(e.id).includes("free_add_")));a.idArray=o,this.setState({completeData:o,eventData:a},(()=>{var{currentIndex:e}=this.state;this.setState({currentIndex:e+1})}))}}render(){var{viewOnText:e,isEnable:t,currentIndex:i,personalization:a,completeData:o,eventData:r,url:n,imgData:s}=this.state,{wall:d,webFilters:l}=this.props,c=null;return c=-1===i?o[r.idArray.length-1]:o[i],1===t&&d&&Object(o||{}).length>0?(0,m.jsx)(U,{webFilters:l,wall:d,item:c,completeData:o,onClosePopUp:this.closeCommercePopUP,currentIndex:i,personalization:a,viewOnText:e,slideWithArrowKeys:this.CommercePopUPSlideWithArrowKey,featuredPopSliderChangeIndex:this.featuredPopSliderChangeIndex,hostUrl:n,imgData:s}):null}}const F=(0,o.Ng)((e=>({wall:e.appData.wall,webFilters:e.appData.webFilters})),(e=>({closePopUP:t=>e((0,V.ng)(t))})))(M)},78262:(e,t,i)=>{i.d(t,{A:()=>c});var a=i(10467),o=i(9950),r=i(76506),n=i(80415),s=i(45285),d=i(44414),l=(0,o.lazy)((()=>Promise.all([i.e(1823),i.e(9874)]).then(i.bind(i,89874))));class c extends o.PureComponent{constructor(e){var t,i,n;super(e),t=this,this.updateMediaDimensions=()=>{if(this.mediaRef.current){var{offsetHeight:e,offsetWidth:t}=this.mediaRef.current;this.setState({currentHeight:e,currentWidth:t})}},this.mediaSizeCalc=(0,a.A)((function*(){var{Post:e,mediaOnly:i}=t.props,a=i||e.media;if((null===a||void 0===a||!a.height)&&(null===a||void 0===a||!a.width))try{var o,{width:n,height:s}=yield(0,r.TW)(null===a||void 0===a||null===(o=a.image)||void 0===o?void 0:o.small);t._isMounted&&t.setState({height:s,width:n})}catch(d){t._isMounted&&t.setState({height:300,width:300})}}));var{mediaOnly:s,Post:d}=e;this.state={height:(null===s||void 0===s?void 0:s.height)||(null===d||void 0===d||null===(i=d.media)||void 0===i?void 0:i.height)||0,width:(null===s||void 0===s?void 0:s.width)||(null===d||void 0===d||null===(n=d.media)||void 0===n?void 0:n.width)||0,currentHeight:0,currentWidth:0,isonError:!1},this.mediaRef=o.createRef()}componentDidMount(){this._isMounted=!0,requestAnimationFrame((()=>{this.updateMediaDimensions(),this.mediaSizeCalc()}))}componentWillUnmount(){this._isMounted=!1}render(){var e,t,i,a,r,{height:c,width:p,isonError:u}=this.state,{ImageClass:h,Post:m,hotspot:v,size:g,blurBG:w,mediaOnly:_,inView:x,multiKey:P,index:y,ProductSetting:I}=this.props,{id:b,link:S,products:D}=m,f=_||(null===m||void 0===m?void 0:m.media),{currentWidth:C,currentHeight:j}=this.state,A=g||100*c/p,k={paddingBottom:1===A?null:"".concat(A,"%")},N={backgroundImage:x?"url(".concat(null===f||void 0===f||null===(e=f.image)||void 0===e?void 0:e.small,")"):null},T=p>c?"100%":"".concat(p/c*100,"%"),U=p>c?"".concat(c/p*100,"%"):"100%",V=m.isProduct&&v&&m.hotspot&&(null===I||void 0===I||null===(t=I.Hotspot)||void 0===t?void 0:t.status),M={width:V&&g?T:null,height:V&&g?U:null};return(0,d.jsxs)("div",{className:"".concat(h,"_wrap_ mediaHolder").concat(null===m||void 0===m?void 0:m.id),style:k,ref:this.mediaRef,children:[V&&w?(0,d.jsx)("div",{className:"tb_blur_bg_",style:N}):null,(0,d.jsxs)("div",{className:"".concat(h,"_wrap_in"),style:M,children:[V?(0,d.jsx)(o.Suspense,{fallback:(0,d.jsx)(d.Fragment,{}),children:(0,d.jsx)(l,{products:this.props.multiPic?m.mediaList[P].product:D,hotspot:m.hotspot,Post:m,showTooltip:null},y)}):null,x?(0,d.jsx)("img",{className:"".concat(h," tb_media-").concat(b),src:null===f||void 0===f||null===(i=f.image)||void 0===i?void 0:i.small,srcSet:"".concat(null===f||void 0===f||null===(a=f.image)||void 0===a?void 0:a.small," 1x, ").concat(null===f||void 0===f||null===(r=f.image)||void 0===r?void 0:r.large," 2x"),sizes:"".concat(C,"px"),loading:x?"eager":"lazy",decoding:"async",fetchPriority:x?"high":"low","data-id":b,height:j,width:C,"data-height":c,"data-width":p,"data-link":S,onLoad:this.onLoad,onError:e=>{u||(e.target.onerror=null,e.target.src="".concat(n.th,"media/error/no-image.svg"),e.target.srcset="".concat(n.th,"media/error/no-image.svg"),(0,s.bs)(e),this.setState({isonError:!0}))},alt:"Post content from social feed ".concat(null===f||void 0===f?void 0:f.title," ").concat(null===m||void 0===m?void 0:m.createdAt)},"".concat(b,"-").concat(c,"-").concat(p,"-").concat(x)):null]})]})}}}}]);