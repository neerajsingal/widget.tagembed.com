"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[2563],{82603:(e,t,a)=>{a.d(t,{Z:()=>u});var n,i=a(96011),r=a.n(i),l=a(296),o=a(52867),s=a(66345),d=a(63246),c=a(14313),v=a(28322),u=function(e,t,a,i,u,h,p){var g=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;return b=>{var w,m;if(g||!s.sb&&!s.eg){var{wall:f}=l.A.getState().appData,_=l.A.getState().appData.postData,k=4===f.ThemeInfo.id&&1==f.ThemeStyle.row,y=(0,v.AM)(o.wV);if(y&&y.headers&&Object.keys(y.headers).length>0)(y.headers.tag||p)&&(y.headers.tag=1),p?y.headers.keywords=p:y.headers.keywords&&(y.headers.keywords.length,y.headers.keywords="".concat(y.headers.keywords)),y.headers.action=1;else if(p){var x={tag:1,keywords:"".concat(p),action:1};y.headers=x}else{x={action:1};y.headers=x}var j=(null===_||void 0===_||null===(w=_.filteredDataObject[i])||void 0===w?void 0:w.length)||0,S=null!==_&&void 0!==_&&_.filteredDataObject?Object.keys(_.filteredDataObject):[];S.length>0&&0==i&&S.map((e=>{var t;j+=(null===_||void 0===_||null===(t=_.filteredDataObject[e])||void 0===t?void 0:t.length)||0}));var D=(null===_||void 0===_||null===(m=_.tagfilteredDataObject[p])||void 0===m?void 0:m.length)||0,N=null!==_&&void 0!==_&&_.filterCountTags?Object.keys(_.filterCountTags):[];N.length>0&&""==p&&N.map((e=>{var t;D+=(null===_||void 0===_||null===(t=_.filteredDataObject[e])||void 0===t?void 0:t.length)||0})),D<a&&p||j<a&&j!=i?(n&&n.cancel(),n=r().CancelToken.source(),y.cancelToken=n.token,b({type:d.dC,payload:!0}),b({type:d.Sg,payload:{appendData:{after:_.appendData.after,networkID:i,heightEvent:h,tagName:p},filterNetworkId:i,newData:[],hasMoreData:{[i]:{hasMoreData:!0,after:_.appendData.after}},tagName:p}}),u&&(new c.A).get("".concat(s.iT).concat(e,"/").concat(t,"/").concat(a,"/").concat(i,"/1/").concat(u),y).then((e=>{var t,n=(t=e).data.data;b({type:d.Sg,payload:{appendData:{after:t.data.after,networkID:i,heightEvent:h,tagName:p},filterNetworkId:i,newData:n,hasMoreData:{[i]:{hasMoreData:!(k&&Object.keys(t.data.data).length<a)&&1==t.data.hasPost,after:t.data.after}},tagName:p,isFilter:!0}}),b({type:d.dC,payload:!1})})).catch((e=>{b({type:d.dC,payload:!1})}))):(b({type:d.Sg,payload:{appendData:{after:_.appendData.after,networkID:i,heightEvent:h,tagName:p},filterNetworkId:i,newData:[],hasMoreData:{[i]:{hasMoreData:!0,after:_.appendData.after}},tagName:p}}),b({type:d.dC,payload:!1}))}}}},81572:(e,t,a)=>{a.r(t),a.d(t,{default:()=>r});var n=a(44414),i=(e,t,a)=>(0,n.jsx)("div",{className:"tb_avg_rating_ico__ tb__icon tb-star-outline",style:{color:e,fontSize:a,minWidth:a+"px"},children:(0,n.jsx)("div",{className:"tb_avg_rating_ico_fill__ tb__icon tb-star-fill",style:{color:e,width:10*t+"%",fontSize:a},children:(0,n.jsx)("div",{})})});const r=e=>{var{rating:t,size:a,color:r}=e,l=t>5?5:t,o=Math.trunc(5-l),s=Math.trunc(l),d=String(l).split(".")[1];return(0,n.jsxs)("div",{className:"tb_avg_rating__","aria-label":"Ratings",role:"status",children:[s?[...Array(s)].map(((e,t)=>(0,n.jsx)("div",{"data-index":t,className:"tb_avg_rating_ico__ tb__icon tb-star-fill",style:{color:r||"#F8B90C",fontSize:a,minWidth:a+"px"},children:(0,n.jsx)("div",{})},t))):null,d>0?i(r||"#F8B90C",d,a):null,o?[...Array(o)].map(((e,t)=>(0,n.jsx)("div",{className:"tb_avg_rating_ico__ tb__icon tb-star-outline",style:{fontSize:a,minWidth:a+"px"},children:(0,n.jsx)("div",{})},t))):null]})}},92663:(e,t,a)=>{a.r(t),a.d(t,{default:()=>d});var n=a(9950),i=a(91697),r=a(66345),l=a(76506),o=a(44414),s=(0,n.lazy)((()=>a.e(620).then(a.bind(a,20620))));const d=e=>{var{networkId:t,networkClass:a,iconStyle:d,link:c}=e,v=505===(null===d||void 0===d?void 0:d.default)||[7,4,36].includes(t),u=c&&r.yR?(0,l.C9)(c):"#",h=(0,o.jsx)(n.Suspense,{fallback:null,children:(0,o.jsx)(s,{networkId:t,networkClass:a})}),p=(0,o.jsx)("span",{className:"".concat(a," tb__icon tb-").concat((0,i.EC)(t)),"aria-label":"post network ".concat((0,i.Oi)(t))});return c?(0,o.jsx)("a",{href:u,target:"_blank",rel:"noreferrer",className:v?void 0:"".concat(a," tb__icon tb-").concat((0,i.EC)(t)),"aria-label":v?void 0:"post network ".concat((0,i.Oi)(t)),children:v?h:null}):v?h:p}},82563:(e,t,a)=>{a.r(t),a.d(t,{default:()=>j});var n=a(89379),i=a(9950),r=a(10300),l=a(52867),o=a(80415),s=a(66345),d=a(78213),c=a(82603),v=a(81572),u=a(76506),h=a(92663),p=a(44414);class g extends i.PureComponent{constructor(e){super(e),this.toggleDropdown=()=>{var{activeId:e}=this.state,{reviewFilters:t}=this.props;if(0!==e&&t.length>0){var a=t.filter((t=>t.Network.id===e));a&&a.length>0&&window.open(a[0].Network.link,"_blank")}else this.setState((e=>({isOpen:!this.state.isOpen})))},this.handleClickOutside=e=>{this.dropdownRef.current&&!this.dropdownRef.current.contains(e.target)&&this.setState((e=>({isOpen:!1})))},this.totalReviewNetworks=e=>t=>{var a,{network:n,activeId:i}=(0,u.pD)(e);this.props.changeFilterStatus&&this.props.changeFilterStatus(2);var r=Math.floor(Date.now()/1e3),{appendData:l,wall:o}=this.props,s=o.ThemeStyle.totalPosts;this.props.filterPostDataAppendWebFilter(null===o||void 0===o||null===(a=o.ThemeInfo)||void 0===a?void 0:a.webId,r,s,i,l.after,l.heightEvent,null,1),this.setState({network:n,activeId:i,networkID:i})},this.getReviewLogo=e=>{switch(e){case"Overall":return"";case"Facebook":return"facebook";case"Google Review":return"google";case"Yelp":return"yelp";case"Etsy":return"etsy";case"Amazon":return"amazon";case"Tripadvisor":return"tripadvisor";case"Review Hub":return s.MH?"tagbox":"tagembed";case"AliExpress":return"aliexpress";case"Airbnb":return"airbnb";case"Trustpilot Reviews":return"trustpilot";case"UGC Uploader":return"snapup";case"Booking.com":return"booking"}},this.state={getNetwork:[],networkID:null,isOpen:!1,activeId:0,network:{name:"",avgRate:0,totalReviews:0,color:this.props.wall.Banner[0].title.style.font}},this.dropdownRef=i.createRef()}componentDidMount(){document.addEventListener("click",this.handleClickOutside);var{network:e,activeId:t}=(0,u.pD)(this.props.reviewFilters.reviewFilters);this.setState({network:e,activeId:t,networkID:t})}componentDidUpdate(e){if(e.Banner!==this.props.Banner){var{network:t,activeId:a}=(0,u.pD)(this.props.reviewFilters.reviewFilters);this.setState({network:t,activeId:a,networkID:a})}}componentWillUnmount(){document.removeEventListener("click",this.handleClickOutside)}render(){var{reviewFilters:e,wall:t}=this.props,{isOpen:a,network:n,activeId:r}=this.state,{Banner:d}=t,c={color:d[0].subTitle.style.color,fontFamily:d[0].subTitle.style.font,fontSize:"".concat(Number(d[0].subTitle.style.size),"px")},g={color:d[0].title.style.color,fontFamily:d[0].title.style.font,fontSize:"".concat(Number(d[0].title.style.size),"px")},b={backgroundColor:d[0].button.style.background,color:d[0].button.style.color,fontSize:"".concat(Number(d[0].button.style.size),"px")};return(0,p.jsx)("div",{className:"tb_rv_container",style:{padding:t.CardStyle.style.margin/2},children:(0,p.jsxs)("div",{className:"tb_rv_wrapper",style:{borderRadius:t.CardStyle.style.radius,backgroundColor:d[0].background.primaryColor},children:[null!==e&&void 0!==e&&e.reviewFilters&&(null===e||void 0===e?void 0:e.reviewFilters.length)>1?(0,p.jsx)("div",{className:"tb_rv_scrollable",children:(0,p.jsx)("div",{className:"tb_rv_filter_wrap",children:(0,p.jsxs)("div",{className:"tb_rv_filter_wrap_in",children:[Object.keys(null===e||void 0===e?void 0:e.reviewFilters).length?(0,p.jsx)("div",{className:"tb_fil_soc_btn".concat(0===r?" tb_fil_active":""),onClick:this.totalReviewNetworks(null===e||void 0===e?void 0:e.reviewFilters),children:(0,p.jsx)("div",{className:"tb_fil_btn_txt",children:t.ThemeStyle.language.text.all})}):null,Object.keys(null===e||void 0===e?void 0:e.reviewFilters).length&&(null===e||void 0===e?void 0:e.reviewFilters.map(((e,t)=>(0,p.jsx)("div",{className:"tb_fil_soc_btn".concat(r===e.id?" tb_fil_active":""),onClick:this.totalReviewNetworks([e]),children:(0,p.jsxs)(i.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:[" ",(0,p.jsx)(h.default,{networkClass:"tb_review_filter_ico",networkId:e.id,iconStyle:e.icon})]})},t))))]})})}):null,(0,p.jsxs)("div",{className:"tb_rv_banner_wrap",style:{minHeight:d.banner_height},children:[(0,p.jsxs)("div",{className:"tb_rv_rating",children:[(0,p.jsxs)("div",{className:"tb_rv_head_text",children:["Overall"!==n.name?(0,p.jsx)("div",{className:"tb_rv_head_logo",children:(0,p.jsx)("img",{className:"tb_rv_head_log_img","data-name":this.getReviewLogo(n.name),src:"".concat(o.th,"media/review-logo/").concat(this.getReviewLogo(n.name),".svg"),height:40,width:50,style:{marginTop:"Trustpilot Reviews"===n.name?-6:""}})}):null,(0,p.jsx)("div",{className:"tb_rv_head_r_text ".concat(s.MH?"tb-cTBfont-".concat(d[0].title.variant):""),style:s.MH?g:{},children:d[0].title.text})]}),(0,p.jsxs)("div",{className:"tb_rv_rating_wrap",children:[(0,p.jsx)("div",{className:"tb_rv_review_count ".concat(s.MH?"tb-cTBfont-".concat(d[0].title.variant):""),style:s.MH?g:{color:d[0].subTitle.color},children:n.avgRate}),(0,p.jsx)("div",{className:"tb_rv_rview_star",children:(0,p.jsx)(v.default,{size:!1,rating:n.avgRate,color:d[0].star.color})}),(0,p.jsxs)("div",{className:"tb_rv_review_total_post tb-cTBfont-".concat(s.MH?d[0].title.variant:d[0].subTitle.styl.variant),style:s.MH?g:c,children:[(0,u.sl)(n.totalReviews)," ",d[0].subTitle.variant?d[0].subTitle.variant:"reviews"," "]})]})]}),(0,p.jsxs)("div",{className:"tb_rv_banner_btn_wrap",ref:this.dropdownRef,children:[(0,p.jsx)("div",{className:"tb_rv_banner_btn tb-cTBfont-".concat(d[0].button.style.variant),onClick:this.toggleDropdown,style:b,children:d[0].button.text}),a&&(0,p.jsxs)("div",{className:"tb_rv_dropdown_ ".concat(a?"tb_rv_dd_show":""),children:[(0,p.jsx)("div",{className:"tb_rv_dropdown_title",children:"Where do you want to leave a review?"}),Object.keys(e).length&&(null===e||void 0===e?void 0:e.reviewFilters.map(((e,a)=>{var n;return(0,p.jsxs)("div",{className:"tb_rv_dropdown_list",onClick:a=>e.link?window.open(29==e.id?"".concat((0,l.dq)()).concat(t.ThemeInfo.webId,"?").concat(t.ThemeInfo.webId!=t.ThemeInfo.wallId?"website=true&":"","onsite-upload"):e.link,"_blank"):null,children:[(0,p.jsx)(h.default,{networkClass:"tb_rv_dd_ico",networkId:e.id,iconStyle:null===(n=t.CardStyle)||void 0===n?void 0:n.icon}),e.name&&String(e.name).includes("Google")?"Google":String(e.name).includes("UGC Upload")?"SnapUp":e.name]},a)})))]})]})]})]})})}}const b=(0,r.Ng)(null,{filterPostDataAppendWebFilter:c.Z})(g);var w=a(28322),m=i.lazy((()=>a.e(912).then(a.bind(a,60912)))),f=i.lazy((()=>a.e(4189).then(a.bind(a,34189)))),_=i.lazy((()=>a.e(3820).then(a.bind(a,63820)))),k=i.lazy((()=>Promise.all([a.e(8092),a.e(3556),a.e(4622)]).then(a.bind(a,44622)))),y=i.lazy((()=>Promise.all([a.e(8400),a.e(8674)]).then(a.bind(a,30629))));class x extends i.PureComponent{constructor(){super(),this.updateContainerSize=()=>{if(this.containerRef.current){if(s.aD){var{wall:e}=this.props,{Banner:t,Ticker:a}=e;this.setState({cardHeight:window.innerHeight-(a.height+t.status?t.height:0)})}this.setState({containerSize:{width:this.containerRef.current.offsetWidth,height:this.containerRef.current.offsetHeight}})}},this.onLoadSpotLight=()=>{var{postData:e}=this.props;if(e.completeDataObject&&Object.keys(e.completeDataObject).length>0){var t=null;Object.entries(e.completeDataObject).forEach((e=>{var[a,n]=e;1==(null===n||void 0===n?void 0:n.highlight)&&null==t&&(t=n)})),t&&Object.keys(t).length>0&&(0,d.ar)(t)}},this.updateHeaderHeight=e=>{this.setState({CusBannerHeight:e})},this.state={containerSize:{width:null,height:null},CusBannerHeight:0,cardHeight:0,parentID:""},this.containerRef=i.createRef()}componentDidMount(){var e,t;(this.updateContainerSize(),window.addEventListener("resize",this.updateContainerSize),this.observer=new IntersectionObserver((e=>{var[t]=e;t.isIntersecting&&((0,l.KL)(),this.observer.disconnect())}),{threshold:.002}),null!==this&&void 0!==this&&null!==(e=this.containerRef)&&void 0!==e&&e.current)&&this.observer.observe(null===this||void 0===this||null===(t=this.containerRef)||void 0===t?void 0:t.current);s.aD&&!s.Vn&&this.onLoadSpotLight()}componentWillUnmount(){window.removeEventListener("resize",this.updateContainerSize)}componentDidUpdate(){var e,t=document.querySelector(".tb_app_container"),a=l.wV?l.wV:null===t||void 0===t||null===(e=t.parentNode)||void 0===e?void 0:e.id;this.setState({parentID:a})}render(){var e,t,a,r,d,c,v,{wall:u,webFilters:h,reviewFilters:g,languageSetting:x,postData:j,filter_tags:S}=this.props,{containerSize:D,parentID:N,cardHeight:I}=this.state,{SnapUp:F,ThemeInfo:C,Banner:T,ThemeStyle:R,CustomBanner:B,Ticker:O}=u,z=null===C||void 0===C?void 0:C.id,H=(null===F||void 0===F?void 0:F.ruleStatus)&&(![63,64,50,82].includes(z)||s.aD),M=![55,52,60,16,47,57,61,86,62,50,81,80,84,82].includes(z),E=!s.aD&&1===(null===R||void 0===R?void 0:R.filterStatus)&&(!h||h.length>1),A=!!(S&&S.length>0),P=!(!s.aD||null===u||void 0===u||null===(e=u.spotlight)||void 0===e||!e.status),L=""!=h&&h&&h.length?h.map((e=>{var{Network:t}=e;return null===t||void 0===t?void 0:t.id})):null;!s.HY&&null!==u&&void 0!==u&&null!==(t=u.Background)&&void 0!==t&&t.image&&u.Background.image.includes(o.vr)&&(u.Background.image=String(u.Background.image).replace(o.Vy,""));var W=w.EP?{backgroundColor:"transparent"}:1===(null===u||void 0===u||null===(a=u.Background)||void 0===a?void 0:a.status)&&84!==z?{backgroundImage:null!==u&&void 0!==u&&null!==(r=u.Background)&&void 0!==r&&r.url?"url(".concat(null===u||void 0===u||null===(d=u.Background)||void 0===d?void 0:d.url,")"):"",backgroundColor:null===u||void 0===u||null===(c=u.Background)||void 0===c?void 0:c.color}:null,U=!![63,64].includes(z)&&1==(null===(v=u.Reviews)||void 0===v?void 0:v.themeStatus)||s.aD||s.Vn||s.MH,G=s.aD&&!s.Vn&&(null===O||void 0===O?void 0:O.status),V=G&&1==(null===O||void 0===O?void 0:O.position),Y=G&&2==(null===O||void 0===O?void 0:O.position),q=!!(T&&Object.keys(T).length>0),K=!s.aD&&M&&(E||A)&&!q,X=q?(0,l.Gv)(T)?T:T[0]:{},Z=!!T&&Object.keys(T).length&&1===(null===X||void 0===X?void 0:X.status)&&[0,1].includes(null===X||void 0===X?void 0:X.position)&&![57,84,87,82].includes(z)&&!P,Q=(null===T||void 0===T?void 0:T.status)&&2==(null===T||void 0===T?void 0:T.position)&&!P&&![57,84,87,82].includes(z),J=q&&1===(null===X||void 0===X?void 0:X.status)&&6==(null===X||void 0===X?void 0:X.type)||8==(null===X||void 0===X?void 0:X.type)&&0===(null===R||void 0===R?void 0:R.filterStatus)&&![57,84,87,82].includes(z);return(0,p.jsxs)("div",{className:"tb_app_container",ref:this.containerRef,children:[V?(0,p.jsx)(i.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:(0,p.jsx)(f,{Ticker:O})}):null,Z&&!w.EP?(0,p.jsx)(i.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:(0,p.jsx)(m,{Banner:T,CustomBanner:B,updateHeaderHeight:this.updateHeaderHeight})}):null,(0,p.jsxs)("div",{className:"tb_app_wrapper",style:W,children:[J&&Z&&!w.EP&&!w.EP?(0,p.jsx)(i.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:(0,p.jsx)(b,{isHeader:!1,reviewFilters:g,languageSetting:x,bannerType:null===X||void 0===X?void 0:X.bannerType,appendData:j.appendData,wall:u,postData:j})}):null,H&&!w.EP?(0,p.jsxs)(i.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:[" ",(0,p.jsx)(y,{ThemeInfo:C,SnapUp:F,id:z,webId:C.webId,wallId:C.wallId})," "]}):null,K&&!w.EP?(0,p.jsxs)(i.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:[" ",(0,p.jsx)(_,{type:2,webFilters:h,filter_tags:S,appendData:j.appendData,wall:u,postData:j})]}):"",U&&!P?(0,p.jsx)(i.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:(0,p.jsx)(k,(0,n.A)((0,n.A)({},this.props),{},{cardHeight:I,brandingNetworks:L,containerSize:D,parentID:N,CusBannerHeight:this.state.CusBannerHeight}))}):null,J&&Q&&!w.EP?(0,p.jsx)(i.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:(0,p.jsx)(b,{isHeader:!1,reviewFilters:g,appendData:j.appendData,wall:u,postData:j})}):null]}),Q&&!w.EP?(0,p.jsx)(i.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:(0,p.jsx)(m,{Banner:T,CustomBanner:B})}):null,Y?(0,p.jsx)(i.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:(0,p.jsx)(f,{Ticker:O})}):null]})}}const j=(0,r.Ng)((e=>({renderId:e.renderId})),null)(x)},76506:(e,t,a)=>{a.d(t,{C9:()=>g,Cq:()=>p,HI:()=>u,Ph:()=>k,S2:()=>f,TW:()=>j,Uy:()=>c,fF:()=>b,hZ:()=>w,hz:()=>h,p5:()=>y,pD:()=>S,pj:()=>x,sl:()=>_,um:()=>v,wG:()=>m});var n=a(66345),i=a(80415),r=a(296),l=a(68553),o=[],s=!1,d=new Headers({"Content-Type":"application/json",Authorization:"Bearer ".concat(n.$x),Productdomain:n.QR}),c=e=>{var t;return null===(t=document.getElementById("tb_onsite_btn_id"))||void 0===t?void 0:t.classList.toggle("tb_onsite_btn_disabled",1===e)},v=e=>{var t;if(n.aD)return window.parent.postMessage(e,"*");var a={1:()=>window.onShowDemoPost(1),2:()=>window.hendleFeeds("addFeeds"),3:()=>window.hendleFeeds("manageFeeds")};null===(t=a[e])||void 0===t||t.call(a)},u=e=>{try{o.push(e)}catch(t){console.log(t)}},h=e=>e&&""!==e&&!e.includes("ui-avatars"),p=e=>{if(!e)return"0 Byte";var t=Math.floor(Math.log(e)/Math.log(1024));return{size:Math.round(e/Math.pow(1024,t),2),sizeText:["Bytes","KB","MB","GB","TB"][t]}},g=e=>e.startsWith("http://")||e.startsWith("https://")?e:"https://"+e,b=e=>{if(!e||isNaN(e))return"invalid date";var t=new Date(1e3*e);if(isNaN(t.getTime()))return"invalid date";var a=new Date,n=a-t;if(isNaN(n)||n<0)return"invalid date";var i=a.getFullYear()-t.getFullYear();if(i>0)return"".concat(i," year").concat(i>1?"s":""," ago");if(n<6e4)return"just now";var r=[{label:"month",ms:2592e6},{label:"week",ms:6048e5},{label:"day",ms:864e5},{label:"hour",ms:36e5},{label:"minute",ms:6e4}].find((e=>{var{ms:t}=e;return n>=t}));if(!r)return"just now";var l=Math.floor(n/r.ms);return"".concat(l," ").concat(r.label).concat(l>1?"s":""," ago")},w=()=>["".concat(i.om),"Website Widget"],m=e=>e&&String(e)?unescape(e).split("/").pop().split("/").slice(-1).join().split(".").shift():"",f=["localhost","widget","wall_id="].every((e=>(0,n.vq)(e)))?"taggbox_main":["".concat(n.Xg,".").concat(n.IF),"".concat(n.Xg).concat(n.t6).concat(n.IF),"".concat(n.Xg,"s.").concat(n.IF)].some((e=>(0,n.vq)(e)))?"tag_main__root":n.HY?"taggShopRoot":"taggbox_main",_=e=>{var t=Math.floor(Math.log10(e)/3)||0;if(0===t)return e.toString();var a=(e/Math.pow(1e3,t)).toFixed(2);return parseFloat(a)+["","K","M","B","T"][t]},k=e=>n.MH?e:atob(e),y=(e,t,a)=>e&&e.length>0?e.findIndex((e=>e.id===t)):a,x=()=>{try{var{wall:e}=r.A.getState().appData,{webId:t,wallId:a,ownerId:i}=e.ThemeInfo;s||(window.addEventListener("beforeunload",(()=>{if(0!==o.length){var e=o.reduce(((e,t)=>e+t),0);e>0?fetch(n.KQ,{method:"POST",headers:d,body:JSON.stringify({action:1,model:null!==l.Ex&&void 0!==l.Ex&&l.Ex.includes("website")?"website":"wall",playCount:o.length,wall:n.aD?a:t,playTime:e,owner:i}),keepalive:!0}).finally((()=>(o=[],s=!1))):(o=[],s=!1)}})),s=!0)}catch(c){console.error(c)}},j=e=>new Promise(((t,a)=>Object.assign(new Image,{onload:function(){t({width:this.naturalWidth,height:this.naturalHeight})},onerror:e=>a(new Error("Image loading error: ".concat(e.message))),src:e}))),S=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{var a=0,n=0,i="",l=0,o="",s=[];if(t)return e.map((e=>{a+=e.averageReviews*e.totalReviews,n+=e.totalReviews,i="Overall",l=0,o=e.color,s=(null===e||void 0===e?void 0:e.reviewList)||[]})),{network:{name:i,avgRate:isNaN(a/n)?0:(a/n).toFixed(1),totalReviews:n,color:o,reviewList:s},activeId:l};var d,{wall:c}=r.A.getState().appData,v=null===c||void 0===c||null===(d=c.Banner)||void 0===d?void 0:d.title_font_color;return e.map((t=>{var r;a+=t.averageReviews*t.totalReviews,n+=t.totalReviews,i=e.length>1?"Overall":t.name,l=e.length>1?0:t.id,v=e.length>1?null===c||void 0===c||null===(r=c.Banner)||void 0===r?void 0:r.title_font_color:t.color,s=e.length>1?(e=>{try{var t=new Map;return e.forEach((e=>{e.Network.reviewList.forEach((e=>{t.set(e.rating,(t.get(e.rating)||0)+e.count)}))})),Array.from(t,(e=>{var[t,a]=e;return{rating:t,count:a}}))}catch(a){}})(e):(null===t||void 0===t?void 0:t.reviewList)||[]})),{network:{name:i,avgRate:isNaN(a/n)?0:(a/n).toFixed(1),totalReviews:n,color:v,reviewList:s},activeId:l}}catch(u){console.log("ex",u)}}},91697:(e,t,a)=>{a.d(t,{EC:()=>n,Oi:()=>r,Yo:()=>i});var n=e=>({0:"manual-upload",1:"twitter",2:"instagram",3:"facebook",4:"google",5:"pinterest",6:"flickr",7:"youtube",8:"vimeo",10:"linkedin",11:"tumblr",12:"rss",13:"star",15:"workplace",18:"instagram",19:"yelp",20:"slack",21:"yammer",23:"airbnb",25:"soundcloud",26:"giphy",27:"deviantart",28:"tiktok",29:"onsite-upload",30:"vkontakte",32:"chrome",33:"collabration",34:"amazon",35:"tripadvisor",36:"star",37:"aliexpress"}[e]||""),i=e=>({0:"#313A53",1:"#29a9e1",2:"#000000",3:"#1b74e4",4:"#4081ed",5:"#e60022",6:"#0a63dc",7:"#FF0000",8:"#1eb8eb",10:"#0a66c2",11:"#36465d",12:"#f78422",13:"#FABF04",15:"#4767ab",18:"#000000",19:"#be362e",20:"#510d4e",21:"#0078d4",23:"#ff7977",25:"#ff7700",26:"#000000",27:"#00e59b",28:"#000000",29:"#613983",30:"#0077FF",32:"#4c8bf5",33:"#4e69ed",34:"#4e69ed",35:"#60c196",36:"#00e9ff",37:"#E52F20"}[e]||""),r=e=>({0:"Manual Upload",1:"Twitter",2:"Instagram",3:"Facebook",4:"Google",5:"Pinterest",6:"Flickr",7:"YouTube",8:"Vimeo",10:"LinkedIn",11:"Tumblr",12:"RSS",13:"Star",15:"Workplace",18:"Instagram",19:"Yelp",20:"Slack",21:"Yammer",23:"Airbnb",25:"Soundcloud",26:"Giphy",27:"Deviantart",28:"Tiktok",29:"Review Hub",30:"Vkontakte",32:"Chrome Extension",33:"Collab with Creators",34:"Amazon",35:"Tripadvisor",36:"Review Hub",37:"Aliexpress"}[e]||"")}}]);