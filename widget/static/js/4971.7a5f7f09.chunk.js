(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[4971],{24971:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>h});var a=i(9950),o=i(38092),r=i.n(o),n=i(76506),s=i(59418),l=i.n(s),d=i(44414);class c extends a.Component{constructor(t){super(t),this.handlePlay=()=>{this.setState({isPlaying:!0})},this.onMediaLoad=async t=>{const{mediaHeight:e,mediaWidth:i,postFile:a}=t;if(e&&i)this.setState({mediaSize:{height:e,width:i}});else try{const{width:t,height:e}=await(0,n.TW)(a);this.setState({mediaSize:{height:e,width:t}})}catch(o){this.setState({mediaSize:{height:100,width:100}})}},this.state={imageError:!1,windowWidth:window.innerWidth,windowHeight:window.innerHeight,mediaSize:{height:400,width:400},animate:!1,item:null,isPlaying:!1}}componentDidMount(){this.onLoadAnimation()}componentDidUpdate(t){l()(t.item,this.props.item)||(this.setState({item:this.props.item,animate:!1}),this.onLoadAnimation())}onLoadAnimation(){setTimeout((()=>{this.setState({animate:!0}),this.onMediaLoad(this.props.item)}),1e3)}render(){var t,e,i,a;const{item:o}=this.props;let n=`${null===o||void 0===o||null===(t=o.media)||void 0===t||null===(e=t.image)||void 0===e?void 0:e.large}`;const{windowHeight:s,windowWidth:l,mediaSize:c,animate:h,isPlaying:u}=this.state,g=1!=o.type,p=3==o.type||5==o.type,m=Math.min(l/c.width,s/c.height),w=c.height*m,v=c.width*m,f={paddingBottom:100*w/v+"%"};return(0,d.jsxs)("div",{id:"spotlight__",className:"sl_container",children:[(0,d.jsx)("div",{className:"sl_overlay_ "+(h?"sl_media_ani":""),style:{backgroundImage:`url(${n})`}}),(0,d.jsx)("div",{className:"sl_wrap",children:(0,d.jsx)("div",{className:"sl_wrap_row sl_only_text",children:g?(0,d.jsx)("div",{className:"sl_media_wrap "+(h?"sl_media_ani":""),style:{maxWidth:v},children:p?(0,d.jsxs)("div",{className:"sl_media_wrap_",style:f,children:[!u&&(0,d.jsx)("img",{src:n,alt:"Video Poster",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",cursor:"pointer",zIndex:1},onLoad:this.handlePlay}),(0,d.jsx)(r(),{url:(b=null===o||void 0===o||null===(i=o.media)||void 0===i||null===(a=i.video)||void 0===a?void 0:a.full,_=o.networkId,25===_?String(b).replace("https://w.soundcloud.com/player/?url=",""):b),config:{facebook:{appId:"117029975354072",attributes:{"data-width":"auto",muted:!0,poster:n}},file:{forceVideo:!0,attributes:{muted:!0,poster:n}}},className:"sl_media_",loop:!0,autoPlay:!0,muted:!0,volume:1,playsinline:!0,playing:!0,height:"100%",width:"100%",controls:!1})]}):(0,d.jsx)("div",{className:"sl_media_wrap_",style:f,children:(0,d.jsx)("img",{className:"sl_media_",src:n,height:w,width:v})})}):null})})]});var b,_}}const h=(0,a.memo)(c)},80415:(t,e,i)=>{"use strict";i.d(e,{$R:()=>p,Bo:()=>n,Fc:()=>f,Fp:()=>m,GR:()=>d,UM:()=>c,Vy:()=>x,ZQ:()=>h,bW:()=>u,fZ:()=>j,g5:()=>g,gX:()=>y,gc:()=>b,hX:()=>v,iP:()=>l,om:()=>s,qF:()=>_,th:()=>r,vr:()=>o,xX:()=>w});var a=i(66345);const o=!String(window.location.href).includes("tagbox=true")&&String(window.location.href).includes("widgets.tagembed")?"https://cdn.tagembed.com/":a.HY?"https://cloud.tagshop.ai/":"https://cloud.tagbox.com/",r=`${o}react-app/`,n="https://app.taggbox.com/widget/",s=a.HY?"https://tagshop.ai/":window.location.href.includes("widget.tagembed")||"https://taggbox.com/",l="https://taggbox.com/widget/",d="https://display.socialwalls.com",c="https://display-test.socialwalls.com",h="https://widget.socialwalls.com",u="https://test.taggbox.com/embed-widget/react/",g="https://widget-test.tagembed.com/",p="https://widget.tagshop.ai",m=[20,5,19,3,4,50,53,85,49,83,79],w=[20,5,19,3,4,53,79,83,85,49],v=[20,5,19,3,4,53,63,64],f=[20,5,19,3,4,53,63,64,50],b=[62,63,65,78,66,67,69,64,68],_=`${r}media/error/no-product.svg`,y=`${r}media/error/no-image.svg`,x="https://cloud.taggbox.com/uploaded/",j=window.location.href.includes("tagembed")},76506:(t,e,i)=>{"use strict";i.d(e,{C9:()=>m,Cq:()=>p,HI:()=>u,Ph:()=>y,S2:()=>b,TW:()=>S,Uy:()=>c,fF:()=>w,hZ:()=>v,hz:()=>g,p5:()=>x,pD:()=>M,pj:()=>j,sl:()=>_,um:()=>h,wG:()=>f});var a=i(66345),o=i(80415),r=i(296),n=i(86961);let s=[],l=!1;const d=new Headers({"Content-Type":"application/json",Authorization:`Bearer ${a.$x}`,Productdomain:a.QR}),c=t=>{var e;return null===(e=document.getElementById("tb_onsite_btn_id"))||void 0===e?void 0:e.classList.toggle("tb_onsite_btn_disabled",1===t)},h=t=>{var e;if(a.aD)return window.parent.postMessage(t,"*");const i={1:()=>window.onShowDemoPost(1),2:()=>window.hendleFeeds("addFeeds"),3:()=>window.hendleFeeds("manageFeeds")};null===(e=i[t])||void 0===e||e.call(i)},u=t=>{try{s.push(t)}catch(e){console.log(e)}},g=t=>t&&""!==t&&!t.includes("ui-avatars"),p=t=>{if(!t)return"0 Byte";const e=Math.floor(Math.log(t)/Math.log(1024));return{size:Math.round(t/Math.pow(1024,e),2),sizeText:["Bytes","KB","MB","GB","TB"][e]}},m=t=>t.startsWith("http://")||t.startsWith("https://")?t:"https://"+t,w=t=>{if(!t||isNaN(t))return"invalid date";const e=Date.now()-1e3*t;if(isNaN(e)||e<0)return"invalid date";if(e<6e4)return"just now";const i=[{label:"year",ms:31536e6},{label:"month",ms:2592e6},{label:"week",ms:6048e5},{label:"day",ms:864e5},{label:"hour",ms:36e5},{label:"minute",ms:6e4}].find((t=>{let{ms:i}=t;return e>=i}));if(!i)return"just now";const a=Math.floor(e/i.ms);return`${a} ${i.label}${a>1?"s":""} ago`},v=()=>[`${o.om}`,"Website Widget"],f=t=>t&&String(t)?unescape(t).split("/").pop().split("/").slice(-1).join().split(".").shift():"",b=["localhost","widget","wall_id="].every((t=>(0,a.vq)(t)))?"taggbox_main":a.MH||[`${a.Xg}.${a.IF}`,`${a.Xg}${a.t6}${a.IF}`,`${a.Xg}s.${a.IF}`].some((t=>(0,a.vq)(t)))?"tag_main__root":a.HY?"taggShopRoot":"taggbox_main",_=t=>{const e=Math.floor(Math.log10(t)/3)||0;return e&&t?+(t/Math.pow(1e3,e)).toFixed(0)+["","K","M","B","T"][e]:t},y=t=>a.MH?t:atob(t),x=(t,e,i)=>t&&t.length>0?t.findIndex((t=>t.id===e)):i,j=()=>{try{const{wall:t}=r.A.getState().appData,{webId:e,wallId:i,ownerId:o}=t.ThemeInfo;l||(window.addEventListener("beforeunload",(()=>{if(0===s.length)return;const t=s.reduce(((t,e)=>t+e),0);t>0?fetch(a.KQ,{method:"POST",headers:d,body:JSON.stringify({action:1,model:null!==n.Ex&&void 0!==n.Ex&&n.Ex.includes("website")?"website":"wall",playCount:s.length,wall:a.MH?e:i,playTime:t,owner:o}),keepalive:!0}).finally((()=>(s=[],l=!1))):(s=[],l=!1)})),l=!0)}catch(t){console.error(t)}},S=t=>new Promise(((e,i)=>Object.assign(new Image,{onload:function(){e({width:this.naturalWidth,height:this.naturalHeight})},onerror:t=>i(new Error(`Image loading error: ${t.message}`)),src:t}))),M=function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{let a=0,o=0,n="",s=0,l="",d=[];if(e)return t.map((t=>{a+=t.averageReviews*t.totalReviews,o+=t.totalReviews,n="Overall",s=0,l=t.color,d=(null===t||void 0===t?void 0:t.reviewList)||[]})),{network:{name:n,avgRate:isNaN(a/o)?0:(a/o).toFixed(1),totalReviews:o,color:l,reviewList:d},activeId:s};{var i;const{wall:e}=r.A.getState().appData;let l=null===e||void 0===e||null===(i=e.Banner)||void 0===i?void 0:i.title_font_color;return t.map((i=>{var r;a+=i.averageReviews*i.totalReviews,o+=i.totalReviews,n=t.length>1?"Overall":i.name,s=t.length>1?0:i.id,l=t.length>1?null===e||void 0===e||null===(r=e.Banner)||void 0===r?void 0:r.title_font_color:i.color,d=t.length>1?(t=>{try{let e=new Map;return t.forEach((t=>{t.Network.reviewList.forEach((t=>{e.set(t.rating,(e.get(t.rating)||0)+t.count)}))})),Array.from(e,(t=>{let[e,i]=t;return{rating:e,count:i}}))}catch(e){}})(t):(null===i||void 0===i?void 0:i.reviewList)||[]})),{network:{name:n,avgRate:isNaN(a/o)?0:(a/o).toFixed(1),totalReviews:o,color:l,reviewList:d},activeId:s}}}catch(a){console.log("ex",a)}}},36669:(t,e,i)=>{var a=i(54467),o=i(62274),r=i(69757);function n(t){var e=-1,i=null==t?0:t.length;for(this.__data__=new a;++e<i;)this.add(t[e])}n.prototype.add=n.prototype.push=o,n.prototype.has=r,t.exports=n},56010:t=>{t.exports=function(t,e){for(var i=-1,a=null==t?0:t.length;++i<a;)if(e(t[i],i,t))return!0;return!1}},1404:(t,e,i)=>{var a=i(92130),o=i(39248);t.exports=function t(e,i,r,n,s){return e===i||(null==e||null==i||!o(e)&&!o(i)?e!==e&&i!==i:a(e,i,r,n,t,s))}},92130:(t,e,i)=>{var a=i(25535),o=i(49757),r=i(21416),n=i(16195),s=i(25531),l=i(12279),d=i(6794),c=i(71641),h="[object Arguments]",u="[object Array]",g="[object Object]",p=Object.prototype.hasOwnProperty;t.exports=function(t,e,i,m,w,v){var f=l(t),b=l(e),_=f?u:s(t),y=b?u:s(e),x=(_=_==h?g:_)==g,j=(y=y==h?g:y)==g,S=_==y;if(S&&d(t)){if(!d(e))return!1;f=!0,x=!1}if(S&&!x)return v||(v=new a),f||c(t)?o(t,e,i,m,w,v):r(t,e,_,i,m,w,v);if(!(1&i)){var M=x&&p.call(t,"__wrapped__"),N=j&&p.call(e,"__wrapped__");if(M||N){var $=M?t.value():t,I=N?e.value():e;return v||(v=new a),w($,I,i,m,v)}}return!!S&&(v||(v=new a),n(t,e,i,m,w,v))}},63445:t=>{t.exports=function(t,e){return t.has(e)}},49757:(t,e,i)=>{var a=i(36669),o=i(56010),r=i(63445);t.exports=function(t,e,i,n,s,l){var d=1&i,c=t.length,h=e.length;if(c!=h&&!(d&&h>c))return!1;var u=l.get(t),g=l.get(e);if(u&&g)return u==e&&g==t;var p=-1,m=!0,w=2&i?new a:void 0;for(l.set(t,e),l.set(e,t);++p<c;){var v=t[p],f=e[p];if(n)var b=d?n(f,v,p,e,t,l):n(v,f,p,t,e,l);if(void 0!==b){if(b)continue;m=!1;break}if(w){if(!o(e,(function(t,e){if(!r(w,e)&&(v===t||s(v,t,i,n,l)))return w.push(e)}))){m=!1;break}}else if(v!==f&&!s(v,f,i,n,l)){m=!1;break}}return l.delete(t),l.delete(e),m}},21416:(t,e,i)=>{var a=i(4635),o=i(48246),r=i(44206),n=i(49757),s=i(90943),l=i(26557),d=a?a.prototype:void 0,c=d?d.valueOf:void 0;t.exports=function(t,e,i,a,d,h,u){switch(i){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!h(new o(t),new o(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return r(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var g=s;case"[object Set]":var p=1&a;if(g||(g=l),t.size!=e.size&&!p)return!1;var m=u.get(t);if(m)return m==e;a|=2,u.set(t,e);var w=n(g(t),g(e),a,d,h,u);return u.delete(t),w;case"[object Symbol]":if(c)return c.call(t)==c.call(e)}return!1}},16195:(t,e,i)=>{var a=i(93660),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,i,r,n,s){var l=1&i,d=a(t),c=d.length;if(c!=a(e).length&&!l)return!1;for(var h=c;h--;){var u=d[h];if(!(l?u in e:o.call(e,u)))return!1}var g=s.get(t),p=s.get(e);if(g&&p)return g==e&&p==t;var m=!0;s.set(t,e),s.set(e,t);for(var w=l;++h<c;){var v=t[u=d[h]],f=e[u];if(r)var b=l?r(f,v,u,e,t,s):r(v,f,u,t,e,s);if(!(void 0===b?v===f||n(v,f,i,r,s):b)){m=!1;break}w||(w="constructor"==u)}if(m&&!w){var _=t.constructor,y=e.constructor;_==y||!("constructor"in t)||!("constructor"in e)||"function"==typeof _&&_ instanceof _&&"function"==typeof y&&y instanceof y||(m=!1)}return s.delete(t),s.delete(e),m}},90943:t=>{t.exports=function(t){var e=-1,i=Array(t.size);return t.forEach((function(t,a){i[++e]=[a,t]})),i}},62274:t=>{t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},69757:t=>{t.exports=function(t){return this.__data__.has(t)}},26557:t=>{t.exports=function(t){var e=-1,i=Array(t.size);return t.forEach((function(t){i[++e]=t})),i}},59418:(t,e,i)=>{var a=i(1404);t.exports=function(t,e){return a(t,e)}}}]);