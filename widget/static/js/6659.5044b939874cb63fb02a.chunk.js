"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[6659],{778:(e,t,a)=>{a.d(t,{A:()=>i});var r=a(66345),o=a(80415),n=a(44414);const i=e=>{var t,a,i,{isLink:l,wall:s}=e,d=3==(null===s||void 0===s||null===(t=s.ThemeInfo)||void 0===t?void 0:t.productType)||o.fZ,c=d?"tagembed/tagembed-new.svg":2==(null===s||void 0===s||null===(a=s.ThemeInfo)||void 0===a?void 0:a.productType)?"tagbox-logo-new.svg":r.aD?"socialwalls.svg":"tagshop.svg?v=87";return(0,n.jsx)("div",{className:"tb_error_page_logo",children:(0,n.jsx)("a",{href:l||"".concat(d?"https://tagembed.com/":null!==s&&void 0!==s&&null!==(i=s.ThemeInfo)&&void 0!==i&&i.productType?o.iP:"https://tagshop.ai/"),target:"_blank",className:"tb_error_page_logo_ico",style:{backgroundImage:"url(".concat(o.th,"media/logos/").concat(c,")")},children:" "})})}},56659:(e,t,a)=>{a.r(t),a.d(t,{default:()=>d});var r=a(778),o=a(88740),n=a(66345),i=a(76506),l=a(44414);const s=e=>{var t,a,{editor:r,error_code:o,error:s}=e;return(0,l.jsx)("div",{className:"tb_error_page_actions",children:(0,l.jsx)("div",{className:"tb_error_action_list",children:n.aD||n.MH?r&&(null===s||void 0===s||null===(t=s.button)||void 0===t||null===(a=t.text)||void 0===a?void 0:a.split(",").map(((e,t)=>(0,l.jsx)("button",{onClick:()=>(0,i.um)(e.replace(/\s+/g,"")),className:"tb_error_btn_primary",style:{marginLeft:0!==t?"10px":"0px"},children:e.trim()},t)))):r||n.bU?207===o||213===o?(0,l.jsx)("button",{onClick:()=>(0,i.um)(5),className:"tb_error_btn_primary",children:207===o?"Moderation":"Update Now"}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("button",{onClick:()=>(0,i.um)(2),className:"tb_error_btn_primary",style:{marginRight:"10px"},children:"Add Another Feed"}),(0,l.jsx)("button",{onClick:()=>(0,i.um)(1),className:"loadDemoWall tb_error_btn_secondary",children:"Show Demo Posts"})]}):(0,l.jsx)("a",{href:n.Io,target:"_blank",className:"tb_error_btn_primary",children:"Add Another Feed"})})})};const d=e=>{var{title:t,description:a,error_code:n,wall:i,error:d}=e,c=!!window.editor||(window.location.pathname.includes("/editor")||window.location.href.includes("editor=true"));return(0,l.jsxs)("div",{className:"tb_error_page_wrapper",children:[(0,l.jsxs)("div",{className:"tb_error_content",children:[(0,l.jsx)("div",{className:"tb_error_title",children:t}),(0,l.jsx)("div",{className:"tb_error_des",children:(0,o.Ay)(a)}),(0,l.jsx)(s,{editor:c,wall:i,error_code:n,error:d})]}),c?null:(0,l.jsx)(r.A,{wall:i})]})}},76506:(e,t,a)=>{a.d(t,{C9:()=>m,Cq:()=>g,HI:()=>u,Ph:()=>x,S2:()=>b,TW:()=>j,Uy:()=>c,fF:()=>w,hZ:()=>p,hz:()=>h,p5:()=>y,pD:()=>I,pj:()=>N,sl:()=>f,um:()=>v,wG:()=>_});var r=a(66345),o=a(80415),n=a(296),i=a(68553),l=[],s=!1,d=new Headers({"Content-Type":"application/json",Authorization:"Bearer ".concat(r.$x),Productdomain:r.QR}),c=e=>{var t;return null===(t=document.getElementById("tb_onsite_btn_id"))||void 0===t?void 0:t.classList.toggle("tb_onsite_btn_disabled",1===e)},v=e=>{var t;if(r.aD)return window.parent.postMessage(e,"*");var a={1:()=>window.onShowDemoPost(1),2:()=>window.hendleFeeds("addFeeds"),3:()=>window.hendleFeeds("manageFeeds")};null===(t=a[e])||void 0===t||t.call(a)},u=e=>{try{l.push(e)}catch(t){console.log(t)}},h=e=>e&&""!==e&&!e.includes("ui-avatars"),g=e=>{if(!e)return"0 Byte";var t=Math.floor(Math.log(e)/Math.log(1024));return{size:Math.round(e/Math.pow(1024,t),2),sizeText:["Bytes","KB","MB","GB","TB"][t]}},m=e=>e.startsWith("http://")||e.startsWith("https://")?e:"https://"+e,w=e=>{if(!e||isNaN(e))return"invalid date";var t=new Date(1e3*e);if(isNaN(t.getTime()))return"invalid date";var a=new Date,r=a-t;if(isNaN(r)||r<0)return"invalid date";var o=a.getFullYear()-t.getFullYear();if(o>0)return"".concat(o," year").concat(o>1?"s":""," ago");if(r<6e4)return"just now";var n=[{label:"month",ms:2592e6},{label:"week",ms:6048e5},{label:"day",ms:864e5},{label:"hour",ms:36e5},{label:"minute",ms:6e4}].find((e=>{var{ms:t}=e;return r>=t}));if(!n)return"just now";var i=Math.floor(r/n.ms);return"".concat(i," ").concat(n.label).concat(i>1?"s":""," ago")},p=()=>["".concat(o.om),"Website Widget"],_=e=>e&&String(e)?unescape(e).split("/").pop().split("/").slice(-1).join().split(".").shift():"",b=["localhost","widget","wall_id="].every((e=>(0,r.vq)(e)))?"taggbox_main":["".concat(r.Xg,".").concat(r.IF),"".concat(r.Xg).concat(r.t6).concat(r.IF),"".concat(r.Xg,"s.").concat(r.IF)].some((e=>(0,r.vq)(e)))?"tag_main__root":r.HY?"taggShopRoot":"taggbox_main",f=e=>{var t=Math.floor(Math.log10(e)/3)||0;return t&&e?+(e/Math.pow(1e3,t)).toFixed(0)+["","K","M","B","T"][t]:e},x=e=>r.MH?e:atob(e),y=(e,t,a)=>e&&e.length>0?e.findIndex((e=>e.id===t)):a,N=()=>{try{var{wall:e}=n.A.getState().appData,{webId:t,wallId:a,ownerId:o}=e.ThemeInfo;s||(window.addEventListener("beforeunload",(()=>{if(0!==l.length){var e=l.reduce(((e,t)=>e+t),0);e>0?fetch(r.KQ,{method:"POST",headers:d,body:JSON.stringify({action:1,model:null!==i.Ex&&void 0!==i.Ex&&i.Ex.includes("website")?"website":"wall",playCount:l.length,wall:r.aD?a:t,playTime:e,owner:o}),keepalive:!0}).finally((()=>(l=[],s=!1))):(l=[],s=!1)}})),s=!0)}catch(c){console.error(c)}},j=e=>new Promise(((t,a)=>Object.assign(new Image,{onload:function(){t({width:this.naturalWidth,height:this.naturalHeight})},onerror:e=>a(new Error("Image loading error: ".concat(e.message))),src:e}))),I=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{var a=0,r=0,o="",i=0,l="",s=[];if(t)return e.map((e=>{a+=e.averageReviews*e.totalReviews,r+=e.totalReviews,o="Overall",i=0,l=e.color,s=(null===e||void 0===e?void 0:e.reviewList)||[]})),{network:{name:o,avgRate:isNaN(a/r)?0:(a/r).toFixed(1),totalReviews:r,color:l,reviewList:s},activeId:i};var d,{wall:c}=n.A.getState().appData,v=null===c||void 0===c||null===(d=c.Banner)||void 0===d?void 0:d.title_font_color;return e.map((t=>{var n;a+=t.averageReviews*t.totalReviews,r+=t.totalReviews,o=e.length>1?"Overall":t.name,i=e.length>1?0:t.id,v=e.length>1?null===c||void 0===c||null===(n=c.Banner)||void 0===n?void 0:n.title_font_color:t.color,s=e.length>1?(e=>{try{var t=new Map;return e.forEach((e=>{e.Network.reviewList.forEach((e=>{t.set(e.rating,(t.get(e.rating)||0)+e.count)}))})),Array.from(t,(e=>{var[t,a]=e;return{rating:t,count:a}}))}catch(a){}})(e):(null===t||void 0===t?void 0:t.reviewList)||[]})),{network:{name:o,avgRate:isNaN(a/r)?0:(a/r).toFixed(1),totalReviews:r,color:v,reviewList:s},activeId:i}}catch(u){console.log("ex",u)}}}}]);