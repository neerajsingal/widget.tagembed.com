"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[7135],{18459:(t,e,i)=>{i.d(e,{A:()=>o});var a=i(9950),s=i(80415),r=i(76506),n=i(44414);class o extends a.PureComponent{constructor(t){super(t),this.onLoad=t=>1==t.target.getAttribute("data-load")&&this.setState({imgUrl:t.target.src,loadError:!1}),this.state={loadError:!1,paddingBottom:100,imgUrl:this.props.media}}UNSAFE_componentWillReceiveProps(t){var{itemDetails:e}=t,{loadError:i}=this.state;i&&t!=this.props&&e&&Object.keys(e).length&&e.showCart&&this.setState({imgUrl:e.data.featured_image,loadError:!1})}render(){var{ImageClass:t}=this.props,{imgUrl:e,paddingBottom:i}=this.state,a={paddingBottom:"".concat(i,"%")};return(0,n.jsx)("div",{className:"".concat(t,"_wrap"),style:a,children:(0,n.jsx)("img",{className:t,role:"img",src:e,height:300,width:300,onLoad:this.onLoad,onError:t=>{this.setState({loadError:!0}),t.target.src=s.qF},alt:(0,r.wG)(e)})})}}},17135:(t,e,i)=>{i.r(e),i.d(e,{default:()=>y});var a=i(9950),s=i(10300),r=i(78885),n=i(3619),o=(i(38281),i(78262)),d=i(3720),l=i(77611),c=i(44414);const p=t=>{var{Post:e,ThemeStyle:i,CardStyle:a,index:s,inView:r}=t,n=!(![3,5].includes(e.type)||1!==i.autoPlay||!r);return(0,c.jsxs)("div",{className:"tb_rtp_media_wrap",children:[n&&1==a.viewCountStatus&&(null===e||void 0===e?void 0:e.count.views)>0?(0,c.jsx)(l.A,{count:null===e||void 0===e?void 0:e.count.views}):null,n?(0,c.jsx)(d.default,{VideoClass:"tb_rtp_video",Post:e,size:1,isCover:!0,muted:!0,autoPlay:!0,index:s,inView:r}):(0,c.jsx)(o.A,{ImageClass:"tb_rtp_image",Post:e,size:1,index:s,inView:r})]})};var h=i(52867),_=i(66345),m=i(18459);const u=t=>{var{Post:e,ProductSetting:i}=t,a=e.products,{Price:s,ProductTitle:o}=i,d=!(!a||1!=a.length);return(0,c.jsx)("div",{className:"tb_rtp_wrap",id:"slide-".concat(e.id),children:(0,c.jsxs)("div",{className:"tb_rtp_wrap_in tb_swiper",children:[(0,c.jsx)(r.RC,{id:"product_slide-".concat(e.id),modules:[n.dK,n.Vx],spaceBetween:10,navigation:{prevEl:"#tb_rtn_prev-".concat(e.id),nextEl:"#tb_rtn_next-".concat(e.id)},children:a.map(((t,e)=>{var i=parseFloat(t.price),a=parseFloat(t.discount),n=(0,h.CA)(i,a);return(0,c.jsx)(r.qr,{children:(0,c.jsxs)("div",{className:"tb_rtp",children:[(0,c.jsx)("div",{className:"tb_rtp_media",style:{opacity:t.image?1:0},children:(0,c.jsx)(m.A,{ImageClass:"tb_rtp_img",media:t.image,size:!1,itemDetails:""})}),(0,c.jsx)("div",{className:"tb_rtp_title_w",children:t.title?(0,c.jsx)("div",{className:"tb_rtp_title tb-cTBfont-".concat(o.variant),children:t.title}):null}),i>0||a>0?(0,c.jsxs)("div",{className:"tb_rtp_price_wrap",children:[(0,c.jsxs)("div",{className:"tb_rtp_price tb-cTBfont-".concat(s.variant),children:[t.currency,a>0?a:i]}),a>0&&a!=i?(0,c.jsxs)("div",{className:"tb_rtp_d_price tb-cTBfont-".concat(s.variant),children:[t.currency,i]}):null,n?(0,c.jsx)("div",{className:"tb_rtp_dp",children:n}):null]},e):null]},e)},"".concat(e,"-").concat(t.id))}))}),d?null:(0,c.jsxs)("div",{className:"tb_rtn_wrap",onClick:t=>{t.stopPropagation()},children:[(0,c.jsx)("div",{id:"tb_rtn_prev-".concat(e.id),className:"tb_rtn_btn tb_rtn_btn_left tb__icon tb-arrow-left-alt",children:(0,c.jsx)("div",{})}),(0,c.jsx)("div",{id:"tb_rtn_next-".concat(e.id),className:"tb_rtn_btn tb_rtn_btn_right tb__icon tb-arrow-right-alt",children:(0,c.jsx)("div",{})})]})]})})};var v=i(78167),b=i(6723);const x=t=>{var{Post:e,CardStyle:i,ProductSetting:a,inView:s}=t,{author:r,networkId:n}=e,{ProductTitle:o}=a,d=!(!i.author.status||(0,h.zK)(r.name));return(0,c.jsx)("div",{className:"tb_rtp_wrap",children:(0,c.jsxs)("div",{className:"tb_rtp_wrap_in",style:{marginTop:d?"":0},children:[d?(0,c.jsxs)("div",{className:"tb_rtp_media",children:[(0,c.jsx)(v.default,{networkId:n,alt:e.createdAt,author:r,authorClass:"tb_rtp_a_img",inView:s},r.username)," "]}):"",d?(0,c.jsx)("div",{className:"tb_rtp_title_w",children:(0,c.jsx)("div",{className:"tb_rtp_authorname tb-cTBfont-".concat(null===o||void 0===o?void 0:o.variant),children:r.username&&r.username.length>0?"".concat(r.username):""})}):"",i.timeStatus?(0,c.jsx)(b.default,{createdAt:e.createdAt,timeClass:"tb_rtp_time tb-cTBfont-".concat(i.author.variant)}):""]})})};var w=i(58365),g=i(91697);class j extends a.PureComponent{constructor(t){super(t),this.handlePostOpen=(t,e,i)=>{(0,h.qK)(t)&&this.props.clickToShowPopUp(e,i)(t)},this.mediaHeight=a.createRef()}componentDidMount(){var{Post:t,itemIndex:e,onClickPopUpSlider:i}=this.props;(0,h._7)(this.mediaHeight),t.isPopUp&&i(e,t)}render(){var{itemIndex:t,ThemeStyle:e,CardStyle:i,Post:a,ProductSetting:s,index:r}=this.props,{style:n}=i;return(0,c.jsx)(w.A,{children:o=>{var{ref:d,inView:l}=o;return(0,c.jsxs)("div",{"data-id":a.id,id:"tb_rt_id-".concat(a.id),className:"tb_rtp_post_wrapper",style:{padding:n.margin/2,opacity:l?1:0,transition:l?"opacity .5s ease-in-out":""},"tb-product":a.isShopIcon?1:a.isHotspot?2:0,role:"article",ref:d,"post-id":a.referenceId?a.referenceId:a.id,"feed-id":a.feedId,children:[(0,c.jsxs)("div",{className:"tb_rtp_post_in tb_icon_animate ".concat(_.aD?"tb_rtp_post_in_animate":""),onKeyDown:e=>this.handlePostOpen(e,t,a),onClick:e=>this.handlePostOpen(e,t,a),role:"button","aria-label":"".concat((0,g.Oi)(a.networkId)," post: ").concat((0,h._y)(a.content.text)||"View post"," \u2013 opens in modal"),tabIndex:0,ref:this.mediaHeight,children:[(0,c.jsx)(p,{Post:a,CardStyle:i,ThemeStyle:e,index:r,inView:l}),_.aD?(0,c.jsx)("div",{className:"tb_rtp_play_ico",children:(0,c.jsx)("div",{className:"tb__icon tb-play",children:(0,c.jsx)("div",{})})}):null,a.isProduct?null:(0,c.jsx)(x,{Post:a,CardStyle:i,ThemeStyle:e,ProductSetting:s,inView:l})]}),a.isProduct?(0,c.jsx)(u,{Post:a,ProductSetting:s},"product_slide".concat(a.id)):null]})}})}}var P=i(21850);class S extends a.Component{constructor(t){super(t),this.requestData=t=>{var{appendData:e,ThemeInfo:i,ThemeStyle:a,hasMoreData:s,nextData:r,loaderData:n,containerSize:o}=this.props;t.progress>.8&&s&&!n.isShowMoreLoading&&r(_.aD?null===i||void 0===i?void 0:i.wallId:null===i||void 0===i?void 0:i.webId,Math.floor(Date.now()/1e3),(0,h.Ci)(o.width,a.column,300),e.networkID,e.after,e.heightEvent)},this.inputRefs={},this.state={loadData:!1}}componentDidMount(){this.props.loadBranding()}render(){var{postData:t,completeDataObject:e,clickToShowPopUp:i,hasMoreData:a,parentID:s,keyRender:o,onClickPopUpSlider:d,CardStyle:l,ThemeStyle:p,ProductSetting:m,ThemeInfo:u,containerSize:v}=this.props,b=s,x=p.slide.autoSlide,w=p.slide.slideDuration,g=v.width>767?280:300,P=(0,h.Ci)(v.width,p.column,g);return(0,c.jsx)(c.Fragment,{children:s&&(0,c.jsx)("div",{className:"tb_rtp_post_container tb_swiper ".concat(p.column.mobile?"":"reelshop-responsive"),ref:this.sliderHeight,children:(0,c.jsx)(r.RC,{observer:!0,observeParents:!0,spaceBetween:0,ref:t=>this.inputRefs[b]=t,onScroll:t=>{this.requestData(t)},onTouchMove:t=>{this.requestData(t)},onAutoplay:t=>{this.requestData(t)},speed:700,edgeSwipeDetection:!0,slidesPerView:P+.4,touchRatio:2,cssMode:(0,h.Fr)(),passiveListeners:!0,freeMode:{enabled:!0,sticky:!1,momentumBounceRatio:2,momentumVelocityRatio:3},autoplay:!!_.MH&&{delay:1===x?1e3*w:99e3,disableOnInteraction:!1,pauseOnMouseEnter:!0},loop:!a,mousewheel:{forceToAxis:!0,sensitivity:1},watchSlidesProgress:!0,modules:[n.Ij,n.FJ,n.U1],className:"tb_rtp_post_slider",children:(null===t||void 0===t?void 0:t.length)>0&&t.map(((t,a)=>{var n=e[t];return _.MH||1!==n.type?(0,c.jsx)(r.qr,{"data-id":n.id,p_id:s,className:"tb_".concat(n.id),children:t=>{var{isVisible:e}=t;return(0,c.jsx)(j,{isVisible:e,Post:n,index:a,CardStyle:l,ThemeStyle:p,ProductSetting:m,ThemeInfo:u,clickToShowPopUp:i,onClickPopUpSlider:d},a)}},"".concat(n.id,"-").concat(a)):null}))},o)})})}}const y=(0,a.memo)((0,s.Ng)((t=>({loaderData:t.loaderData})),(t=>({nextData:(e,i,a,s,r,n,o,d)=>t((0,P.wF)(e,i,a,s,r,n,o,d))})))(S))}}]);