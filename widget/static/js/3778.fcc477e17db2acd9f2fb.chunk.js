"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[3778],{13778:(e,t,i)=>{i.r(t),i.d(t,{default:()=>D});var o=i(9950),s=i(10300),n=i(78885),a=i(3619),r=(i(38281),i(78262)),d=i(3720),l=i(15537),c=i(44414);const h=e=>{var{Post:t,CardStyle:i,ThemeStyle:o,isVisible:s,index:n,inView:a,isHover:h,ThemeInfo:p}=e,u=[3,5].includes(t.type)&&s&&1==o.autoPlay||(null===h||void 0===h?void 0:h.isHoverIndex),v=[1783201].includes(p.ownerId)&&5===(null===t||void 0===t?void 0:t.type);return(0,c.jsxs)("div",{className:"tb_rt_media_wrap",children:[(0,c.jsx)(l.default,{Post:t,IconClass:"tb_rt_media_icon",show:!0,hideVideo:!v}),u?(0,c.jsx)(d.default,{VideoClass:"tb_rt_video",Post:t,size:178,isCover:!0,muted:!0,autoPlay:!v||(null===h||void 0===h?void 0:h.isHovered),observer:!1,index:n,inView:a}):(0,c.jsx)(r.A,{ImageClass:"tb_rt_image",Post:t,size:178,observer:!1,index:n,inView:a})]})};var p=i(66345),u=i(77611),v=i(58365),m=i(52867),_=i(91697),b=o.lazy((()=>Promise.resolve().then(i.bind(i,92663)))),w=o.lazy((()=>i.e(7713).then(i.bind(i,47713))));class x extends o.PureComponent{constructor(e){super(e),this.handleHover=e=>{var{ThemeInfo:t}=this.props;[1783201].includes(t.ownerId)&&this.setState({isHover:{isHoverIndex:this.props.index,isHovered:e}})},this.handlePostOpen=(e,t,i)=>{(0,m.qK)(e)&&this.props.clickToShowPopUp(t,i)(e)},this.state={isHover:!1}}componentDidMount(){var{Post:e,onClickPopUpSlider:t,itemIndex:i}=this.props;e.isPopUp&&t(i,e)}render(){var{itemIndex:e,isVisible:t,ThemeStyle:i,ThemeInfo:s,CardStyle:n,Post:a,index:r,ProductSetting:d}=this.props,{isHover:l}=this.state,{count:x,networkId:S,products:y}=a,{style:D}=n,I={backgroundColor:D.backgournd},j=!(p.aD||!n.shopText||!y.length||!s.isShoppable),P=0!=D.mode||p.aD?"dark":"light",f=!!([3,5].includes(a.type)&&1===n.viewCountStatus&&(null===x||void 0===x?void 0:x.views)>0);return(0,c.jsx)(v.A,{children:v=>{var y,{ref:g,inView:C}=v;return(0,c.jsx)("div",{"data-id":a.id,onMouseEnter:()=>this.handleHover(!0),onMouseLeave:()=>this.handleHover(!1),onTouchStart:()=>this.handleHover(!0),onTouchEnd:()=>this.handleHover(!1),onTouchCancel:()=>this.handleHover(!1),id:"tb_rt_id-".concat(a.id),className:"tb_rt_post_wrapper",ref:g,style:{padding:D.margin/2},"tb-product":a.isShopIcon?1:a.isHotspot?2:0,role:"article","post-id":a.referenceId||a.id,"feed-id":a.feedId,children:(0,c.jsxs)("div",{className:"tb_rt_post_in tb_icon_animate ".concat(p.aD?"tb_rt_post_in_animate":""),style:I,onKeyDown:t=>this.handlePostOpen(t,e,a),onClick:t=>this.handlePostOpen(t,e,a),role:"button","aria-label":"".concat((0,_.Oi)(a.networkId)," post: ").concat((0,m._y)(a.content.text)||"View post"," \u2013 opens in modal"),tabIndex:0,children:[f?(0,c.jsx)(u.A,{count:null===x||void 0===x?void 0:x.views}):null,(0,c.jsx)(h,{isHover:l,Post:a,CardStyle:n,ThemeStyle:i,ProductSetting:d,ThemeInfo:s,isVisible:t,index:r,inView:C}),p.aD?(0,c.jsx)("div",{className:"tb_rt_play_ico",children:(0,c.jsx)("div",{className:"tb__icon tb-play",children:(0,c.jsx)("div",{})})}):null,(0,c.jsxs)("div",{className:"tb_rt_post_details",children:[null!==n&&void 0!==n&&null!==(y=n.icon)&&void 0!==y&&y.status?(0,c.jsx)("div",{className:"tb_rt_social_",children:(0,c.jsx)(o.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(b,{networkClass:"tb_rt_social_ico_",networkId:S,iconStyle:n.icon})})}):null,j?(0,c.jsx)(o.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(w,{CardStyle:n,btnClass:"tb_rt_btn_wrap"})}):null]}),(0,c.jsx)("div",{className:"tb_rt_post_overlay tb_rt_post_overlay-".concat(P),children:(0,c.jsx)("div",{})})]})})}})}}var S=i(21850);class y extends o.Component{constructor(e){super(e),this.requestData=e=>{var{appendData:t,ThemeInfo:i,ThemeStyle:o,hasMoreData:s,nextData:n,loaderData:a,containerSize:r}=this.props;e.progress>.8&&s&&!a.isShowMoreLoading&&o.autoScrollStatus&&n(p.aD?null===i||void 0===i?void 0:i.wallId:null===i||void 0===i?void 0:i.webId,Math.floor(Date.now()/1e3),(0,m.Ci)(r.width,o.column,280),t.networkID,t.after,t.heightEvent)},this.inputRefs={}}componentDidMount(){this.props.loadBranding()}render(){var{postData:e,completeDataObject:t,clickToShowPopUp:i,hasMoreData:o,parentID:s,keyRender:r,onClickPopUpSlider:d,CardStyle:l,ThemeStyle:h,ProductSetting:u,ThemeInfo:v,containerSize:_}=this.props,b=s,w=h.slide.autoSlide,S=h.slide.slideDuration,y=_.width>767?260:280,D=!p.aD&&[151513].includes(null===v||void 0===v?void 0:v.ownerId)?0:.4,I=(0,m.Ci)(_.width,h.column,y);return(0,c.jsx)(c.Fragment,{children:s&&(0,c.jsx)("div",{className:"tb_rt_post_container tb_swiper",ref:this.sliderHeight,children:(0,c.jsx)(n.RC,{observer:!0,observeParents:!0,spaceBetween:0,ref:e=>this.inputRefs[b]=e,style:{width:"100%"},onScroll:e=>{this.requestData(e)},onTouchMove:e=>{this.requestData(e)},onAutoplay:e=>{this.requestData(e)},speed:700,edgeSwipeDetection:!0,slidesPerView:_.width>1024&&!(0,m.Fr)()&&!h.column.desktop&&11==(null===e||void 0===e?void 0:e.length)?5:I+D,touchRatio:.5,cssMode:(0,m.Fr)(),passiveListeners:!0,freeMode:{enabled:!0,sticky:!1,momentumBounceRatio:1,momentumVelocityRatio:1},autoplay:!p.aD&&{delay:1===w?1e3*S:99e3,disableOnInteraction:!1,pauseOnMouseEnter:!0},loop:!o,mousewheel:{forceToAxis:!0,sensitivity:1},watchSlidesProgress:([1779523].includes(v.ownerId),!0),modules:[a.Ij,a.FJ,a.U1],className:"tb_rt_post_slider",children:(null===e||void 0===e?void 0:e.length)>0&&e.map(((e,o)=>{var a=t[e];return p.aD&&1===a.type?null:(0,c.jsx)(n.qr,{"data-id":a.id,p_id:s,className:"tb_".concat(a.id),children:e=>{var{isVisible:t}=e;return(0,c.jsx)(x,{isVisible:t,Post:a,index:o,CardStyle:l,ThemeStyle:h,ProductSetting:u,ThemeInfo:v,clickToShowPopUp:i,onClickPopUpSlider:d},o)}},"".concat(a.id,"-").concat(o))}))},r)})})}}const D=(0,o.memo)((0,s.Ng)((e=>({loaderData:e.loaderData})),(e=>({nextData:(t,i,o,s,n,a,r,d)=>e((0,S.wF)(t,i,o,s,n,a,r,d))})))(y))}}]);