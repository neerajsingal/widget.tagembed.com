"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[9874],{89874:(t,o,e)=>{e.r(o),e.d(o,{default:()=>_});var l=e(89379),i=e(9950),c=e(10300),n=e(1823),a=e(21850),s=e(82652),d=e(44414),r=(0,i.memo)((t=>{var{item:o}=t,e=o.discount>0&&o.discount!==o.price,l=o.discount>0?o.discount:o.price;return(0,d.jsxs)("a",{hotspot:1,href:o.url,target:"_blank",rel:"noopener noreferrer",className:"tb_tooltip_wrap",children:[(0,d.jsx)("div",{hotspot:1,className:"tb_p_tooltip_title",children:o.title}),e&&(0,d.jsxs)("div",{hotspot:1,className:"tb_p_tooltip_price tb_price_disabled",children:[o.currency,o.price]}),(o.price>0||o.discount>0)&&(0,d.jsxs)("div",{hotspot:1,className:"tb_p_tooltip_price",children:[o.currency,l]})]})})),p=t=>{var{products:o,appData:e,Post:c,showTooltip:p,isPopup:u}=t,[_,h]=(0,i.useState)(null),v=(0,i.useMemo)((()=>{var t,o;return(null===e||void 0===e||null===(t=e.wall)||void 0===t||null===(o=t.ProductSetting)||void 0===o?void 0:o.Hotspot)||{}}),[e]);(0,i.useEffect)((()=>{if(p){var t=o.findIndex((t=>t.id===p));-1!==t&&h(t)}else h(null)}),[p,o]);var b=(0,i.useCallback)((t=>{var o,l,i,n;null!==e&&void 0!==e&&e.wall&&(0,a.hq)({type:1,action:2,wall:null===e||void 0===e||null===(o=e.wall)||void 0===o||null===(l=o.ThemeInfo)||void 0===l?void 0:l.webId,product_id:t.id,post:c.referenceId,owner:null===e||void 0===e||null===(i=e.wall)||void 0===i||null===(n=i.ThemeInfo)||void 0===n?void 0:n.ownerId,feed:c.feedId,currency:t.currencyCode,price:Number(t.discount)>0?t.discount:t.price})}),[e,c]),m=(0,i.useCallback)(((t,o)=>{t.stopPropagation(),b(o),window.open(o.url,"_blank")}),[b]);return null!==v&&void 0!==v&&v.status?o.map(((t,o)=>{var e="hotspot-".concat(t.id,"-").concat(o).concat(u?"-pop":""),i=_===o;return(0,d.jsxs)("div",{id:e,className:"tb_hotspot_dot".concat(i?" tb_hotspot_active_":""),role:"button",style:{top:t.hotspot.top,left:t.hotspot.left},onMouseEnter:()=>h(o),onMouseLeave:()=>h(null),onClick:o=>{m(o,t)},"data-tooltip-offset":7,children:[(0,d.jsx)("div",{hotspot:1,className:"tb_hotspot__ ".concat(0===v.type?"tb_hotspot_ani__":""),children:o+1}),(0,d.jsx)(s.A,{wallId:e,children:(0,d.jsx)(n.m_,(0,l.A)((0,l.A)({appendTo:"body","data-tooltip-id":"tooltip-".concat(t.id,"-").concat(o).concat(u?"-pop":""),className:"tb_pro_tooltip",anchorSelect:"#".concat(e),clickable:!0},u?{isOpen:i}:{}),{},{children:(0,d.jsx)(r,{item:t})}),o)})]},"".concat(t.id,"-").concat(o))})):null},u=(0,i.memo)(p);const _=(0,c.Ng)((t=>({appData:t.appData})))(u)}}]);