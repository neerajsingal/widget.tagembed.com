"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[566],{50566:(e,t,i)=>{i.r(t),i.d(t,{default:()=>g});var o=i(9950),s=i(66345),a=i(10300),r=i(53556),l=i(61302),n=i(21850),d=i(52867),c=i(78262),h=i(3720),p=i(15537),_=i(44414);const u=e=>{let{Post:t,ThemeInfo:i,ThemeStyle:o,CardStyle:s,ThemeRule:a,index:r,ProductSetting:l,inView:n}=e;const d=81==i.id&&s.style.ratio||100,u=[3,5].includes(t.type)&&1==o.autoPlay||!1,b=!t.hotspot;return(0,_.jsxs)("div",{className:"tb_ht_media_wrap",children:[(0,_.jsx)(p.default,{Post:t,IconClass:"tb_ht_media_icon",isCenter:!1,show:b,hideVideo:u}),u?(0,_.jsx)(h.A,{VideoClass:"tb_ht_video",Post:t,size:d,isCover:!0,controls:!1,autoPlay:u,muted:!0,index:r,inView:n}):(0,_.jsx)(c.A,{ImageClass:"tb_ht_image",Post:t,size:d,hotspot:!0,ProductSetting:l,index:r,inView:n})]})};var b=i(56071);const m=(0,o.lazy)((()=>Promise.resolve().then(i.bind(i,92663)))),w=(0,o.lazy)((()=>i.e(7713).then(i.bind(i,47713)))),x=e=>{let{Post:t,CardStyle:i,index:a,ThemeInfo:r,onClickToCTA:l,ThemeStyle:n,ProductSetting:d,clickToShowPopUp:c,onClickPopUpSlider:h}=e;const p=81!=r.id,x=s.MH?"tb_ht_color_overlay":"tb_ht_post_overlay-dark",S={backgroundColor:s.MH?i.style.background:""},g=p&&s.MH?"50%":null,y=!!(i.shopText&&t.products.length&&r.isShoppable);return(0,o.useEffect)((()=>{t.isPopUp&&h(a,t)}),[a,t.isPopUp,t]),(0,_.jsx)(b.A,{children:e=>{let{ref:s,inView:l}=e;return(0,_.jsx)("div",{id:`tb_ht_id-${t.id}`,className:"tb_ht_post_wrapper",onClick:c(a,t),style:{padding:i.style.margin/2,opacity:l?1:0,transition:l?"opacity .5s ease-in-out":""},"tb-network":t.network.id,"tb-product":t.isShopIcon?1:t.isHotspot?2:0,"area-label":t.content.text,role:"article",ref:s,"post-id":t.referenceId?t.referenceId:t.id,"feed-id":t.feedId,children:(0,_.jsx)("div",{className:"tb_ht_post_in",style:{borderRadius:g},role:"button","aria-label":"Popup",tabIndex:"0",children:(0,_.jsxs)("div",{className:"tb_ht_post_media_wrapp",role:"button",tabIndex:"0","aria-label":"Pop Up Button",children:[(0,_.jsx)(u,{Post:t,CardStyle:i,ProductSetting:d,ThemeStyle:n,ThemeInfo:r,index:a,inView:l},a),(0,_.jsxs)("div",{className:"tb_ht_post_details",children:[i.actionStatus?(0,_.jsx)("div",{className:"tb_ht_social_",children:(0,_.jsx)(o.Suspense,{fallback:(0,_.jsx)(_.Fragment,{}),children:(0,_.jsx)(m,{networkClass:"tb_ht_social_ico_",networkId:t.networkId,iconStyle:i.icon})})}):null,y?(0,_.jsx)(o.Suspense,{fallback:(0,_.jsx)(_.Fragment,{}),children:(0,_.jsx)(w,{CardStyle:i,mode:1,btnClass:"tb_ht_btn_wrap"})}):null]}),(0,_.jsx)("div",{className:`tb_ht_post_overlay ${x}`,style:S,children:(0,_.jsx)("div",{})})]})})})}})};i(61038);class S extends o.Component{constructor(e){super(e),this.requestData=()=>{const{appendData:e,ThemeInfo:t,ThemeStyle:i,CardStyle:o,hasMoreData:a,nextData:r,containerSize:l,loaderData:n}=this.props,c=(o.minimumWidth||150)+10;a&&i.autoScrollStatus&&!n.isShowMoreLoading&&r(s.aD?t.wallId:t.webId,Math.floor(Date.now()/1e3),(0,d.Ci)(l.width,i.column,c),e.networkID,e.after,e.heightEvent)},this.autoScrollSlider=e=>{const t=e.index;e.length-t===e._o.perPage&&this.requestData()},this.inputRefs={},this.isDragging=!1}componentDidMount(){setTimeout((()=>{const e=document.querySelectorAll(".splide__slide");e&&e.forEach((e=>{e.removeAttribute("aria-hidden"),e.removeAttribute("role")}))}),100),this.props.loadBranding()}render(){const{postData:e,completeDataObject:t,CardStyle:i,ThemeStyle:o,ThemeInfo:s,parentID:a,onClickToCTA:n,onClickPopUpSlider:c,containerSize:h,ProductSetting:p,clickToShowPopUp:u}=this.props,b=o.slide.autoSlide,m=o.slide.slideDuration,w=o.autoScrollStatus,S=a,g={},y=(1===w||!Object.keys(g).length)&&"slide",v=(i.minimumWidth||150)+10,j=(0,d.Ci)(h.width,o.column,v),C={...g,grid:{rows:1},type:1!==w&&y,rewind:!0,rewindSpeed:1e3,interval:1===b&&parseInt(m)>0?1e3*parseInt(m):5e3,perPage:j,perMove:1,gap:0,autoplay:1===b,padding:0,pagination:!1,arrows:!0};let f=e.length<10?Array.from({length:10},((t,i)=>e[i%e.length])):e;return""!=a?(0,_.jsx)("div",{className:"tb_ht_post_container",children:(0,_.jsxs)(r.eB,{hasTrack:!1,className:"tb_ht_post_slider",options:C,extensions:{Grid:l.x},ref:e=>this.inputRefs[S]=e,onMove:this.autoScrollSlider,children:[(0,_.jsx)("div",{className:"splide__track",children:(0,_.jsx)("div",{className:"splide__list",children:(o.row>1&&1!==f.length&&f.length%2!==0?f.pop():f)&&f&&f.length>0&&f.map(((e,r)=>{const l=t[e];return(0,_.jsx)("div",{className:`splide__slide tb_${l.id}`,"data-id":l.id,p_id:a,children:(0,_.jsx)(x,{onClickToCTA:n,onClickPopUpSlider:c,Post:l,index:r,ProductSetting:p,clickToShowPopUp:u,CardStyle:i,ThemeStyle:o,ThemeInfo:s})},r)}))})}),(0,_.jsxs)("div",{className:"splide__arrows splide__arrows--ltr tb_ht_arrow_wrapper_",children:[(0,_.jsx)("div",{className:"tb_ht_arrow splide__arrow splide__arrow--prev tb_ht_arrow tb_ht_arrow_left__ tb__icon tb-arrow-left-alt",role:"button","aria-label":"Go to previous slide",children:(0,_.jsx)("div",{})}),(0,_.jsx)("div",{className:"tb_ht_arrow splide__arrow splide__arrow--next tb_ht_arrow_right__ tb__icon tb-arrow-right-alt",role:"button","aria-label":"Go to next slide",children:(0,_.jsx)("div",{})})]})]})}):null}}const g=(0,o.memo)((0,a.Ng)((e=>({loaderData:e.loaderData})),(e=>({nextData:(t,i,o,s,a,r,l,d)=>e((0,n.wF)(t,i,o,s,a,r,l,d))})))(S))}}]);