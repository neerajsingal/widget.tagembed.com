"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[1906],{41906:(e,t,n)=>{n.r(t),n.d(t,{default:()=>S});var i=n(9950),l=n(53556),s=(n(61038),n(17857)),o=n(56071),d=n(44414);const r=i.lazy((()=>n.e(7154).then(n.bind(n,67154)))),a=i.lazy((()=>Promise.all([n.e(8740),n.e(2466),n.e(5757)]).then(n.bind(n,71320)))),c=e=>{let{Post:t,postSize:n,clickToShowPopUp:l,index:c,ThemeInfo:p,CardStyle:h,ThemeStyle:v,onClickPopUpSlider:u,contentActive:m}=e;const S=(0,i.useRef)(null),x=1!==(null===t||void 0===t?void 0:t.type),I=!(!h.author.status&&!h.timeStatus);return(0,i.useEffect)((()=>{t.isPopUp&&u(c,t)}),[c,null===t||void 0===t?void 0:t.isPopUp,t]),(0,d.jsx)(o.A,{children:e=>{var o,u,w;let{ref:g,inView:f}=e;return(0,d.jsx)("div",{id:`tb-sp-post-${null===t||void 0===t?void 0:t.id}`,className:"tb_gf_post_wrapper",style:{width:`${n}%`,padding:h.style.margin/2,float:"left"},"tb-network":null===t||void 0===t||null===(o=t.network)||void 0===o?void 0:o.id,tabIndex:"0",role:"article","aria-label":`Post ${parseInt(c)+1},${t.content.text}`,ref:S,"post-id":null!==t&&void 0!==t&&t.referenceId?null===t||void 0===t?void 0:t.referenceId:null===t||void 0===t?void 0:t.id,"feed-id":null===t||void 0===t?void 0:t.feedId,children:(0,d.jsxs)("div",{className:`tb_gf_post_in ${m?"tb_active":""} `,onClick:l(c,t),children:[(0,d.jsx)("div",{className:"tb_gf_post_media_wrapp",children:x?(0,d.jsx)(i.Suspense,{fallback:(0,d.jsx)(d.Fragment,{}),children:(0,d.jsx)(r,{Post:{...t,postFileNew:null===t||void 0===t||null===(u=t.media)||void 0===u||null===(w=u.image)||void 0===w?void 0:w.small},CardStyle:h,ThemeStyle:v,ThemeInfo:p,inView:!0},`img${c}_${t.id}`)}):""}),(0,d.jsxs)("div",{className:"tb_gf_post_details",children:[(0,d.jsx)("div",{className:"tb_gf_contant_wrapper",children:h.content.status||1==t.type?(0,d.jsx)(a,{contentClass:"tb_gf_content",Content:t.content,CardStyle:h,Lines:h.content.lines}):""}),(0,d.jsx)(i.Suspense,{fallback:(0,d.jsx)(d.Fragment,{}),children:(0,d.jsx)(s.default,{className:"tb_gf",Post:t,CardStyle:h,ThemeStyle:v,mediaType:x,ThemeInfo:p,inView:!0})})]}),!h.content.status||I?(0,d.jsx)("div",{className:"tb_gf_post_overlay tb_gf_post_overlay-dark",children:(0,d.jsx)("div",{})}):null]})})}})};var p=n(66345);class h extends i.Component{constructor(e){super(e),this.intervalId=null,this.updateIndex=()=>{const{Post:e,handleSlideChange:t}=this.props;let n=this.state.currentActiveIndex+1;n>=e.length&&(n=0,t()),this.setState({currentActiveIndex:n})},this.state={currentActiveIndex:-1}}componentDidMount(){const{currentIndex:e,intervalTime:t,index:n}=this.props;e!=n||p.Vn||(this.intervalId=setInterval(this.updateIndex,1e3*t))}componentWillUnmount(){clearInterval(this.intervalId)}UNSAFE_componentWillReceiveProps(e){const{index:t}=this.props;e.currentIndex!=t&&(clearInterval(this.intervalId),this.setState({currentActiveIndex:-1})),e.currentIndex!=t||p.Vn||(this.intervalId=setInterval(this.updateIndex,1e3*e.intervalTime))}render(){const{ThemeStyle:e,CardStyle:t,ThemeInfo:n,largeDiv:i,smallDiv:l,Post:s,completeDataObject:o,index:r,clickToShowPopUp:a,onClickToCTA:h,postSizeInPx:v,postSize:u,onClickPopUpSlider:m}=this.props,{currentActiveIndex:S}=this.state,x=e.direction||"left",I=p.Vn?r%2:0,w={width:i+"%",float:"0"==I?"right"==x?"right":"left":"right"==x?"left":"right"},g={width:l+"%",float:"right"==x?"left":"right"};return s&&s.length>0?(0,d.jsxs)("div",{className:"ts_gf_post_row",children:[(0,d.jsx)("div",{className:"ts_gf_post_large",style:w,children:(0,d.jsx)(c,{ownerId:null===n||void 0===n?void 0:n.ownerId,Post:o[s[0]],index:r,postSize:100,CardStyle:t,ThemeStyle:e,wallID:null===n||void 0===n?void 0:n.wallId,clickToShowPopUp:a,onClickToCTA:h,postSizeInPx:v,completeDataObject:o,onClickPopUpSlider:m,contentActive:0==S},`sqr_crd_0_${o[s[0]].id}`)}),(0,d.jsxs)("div",{className:"ts_gf_post_small",style:g,children:[s&&s.length>0?s.map(((i,l)=>{const s=o[i];return 0!=l?(0,d.jsx)(c,{ownerId:null===n||void 0===n?void 0:n.ownerId,Post:s,index:l,postSize:u,CardStyle:t,ThemeStyle:e,wallID:null===n||void 0===n?void 0:n.wallId,clickToShowPopUp:a,onClickToCTA:h,postSizeInPx:v,completeDataObject:o,onClickPopUpSlider:m,contentActive:S==l},`sqr_crd_${l}_${i.id}`):null})):null," "]})]}):null}}const v=h;var u=n(52867);class m extends i.Component{constructor(e){super(e),this.myRef=i.createRef(),this.handleSlideChange=this.handleSlideChange.bind(this),this.state={postData:[],windowWidth:window.innerWidth,currentIndex:0}}componentDidMount(){const{renderId:e}=this.props;e.renderId&&this.setState({windowWidth:document.getElementById(e.renderId).clientWidth})}handleSlideChange(){if(this.myRef.current){const e=this.myRef.current.splide,t=(e.index+1)%e.length;e.go(t)}}shouldComponentUpdate(e,t){return this.props.postData!==e.postData||this.props.ThemeStyle!==e.ThemeStyle||this.props.CardStyle!==e.CardStyle||this.props.containerSize!==e.containerSize||this.state.windowWidth!==t.windowWidth||this.state.currentIndex!==t.currentIndex}render(){var e;const{postData:t,completeDataObject:n,CardStyle:i,ThemeStyle:s,ThemeInfo:o,clickToShowPopUp:r,onClickToCTA:a,postSizeInPx:c,onClickPopUpSlider:h,containerSize:m}=this.props,{windowWidth:S}=this.state,x=(0,u.Ci)(m.width,s.column,310),I=s.column.desktop,{cardWidth:w,largeDiv:g,smallDiv:f}=(0,u.jO)(S,x),_=S<768?3:I||1,C=S<768?3:x,T=(null===s||void 0===s||null===(e=s.slide)||void 0===e?void 0:e.slideDuration)||5,y=[];for(let l=0;l<t.length;l+=_)y.push(t.slice(l,l+_));return(0,d.jsx)("div",{tabIndex:"0","aria-label":`There are ${(null===t||void 0===t?void 0:t.length)||0} posts in the feed`,role:"feed",className:"tb_gf_post_container",children:p.Vn?(0,d.jsx)("div",{className:"tb_gf_slider_wrappper",children:y.map(((e,t)=>e.length===C&&(0,d.jsx)(v,{postSize:w,ownerId:o.ownerId,Post:e,index:t,CardStyle:i,ThemeStyle:s,wallID:o.wallId,clickToShowPopUp:r,onClickToCTA:a,postSizeInPx:c,completeDataObject:n,largeDiv:g,smallDiv:f,onClickPopUpSlider:h,intervalTime:T,currentIndex:this.state.currentIndex,handleSlideChange:this.handleSlideChange},t)))}):(0,d.jsx)(l.eB,{hasTrack:!1,className:"tb_gf_slider_wrappper",options:{type:"fade",rewind:!1,speed:1e3,perPage:1,perMove:1,gap:0,autoplay:!1,pauseOnHover:!1,padding:0,pagination:!1,arrows:!1},ref:this.myRef,onActive:e=>this.setState({currentIndex:e.index}),children:(0,d.jsx)(l.v9,{children:y.map(((e,t)=>e.length===C&&(0,d.jsx)(l.Nn,{children:(0,d.jsx)(v,{ownerId:o.ownerId,postSize:w,Post:e,index:t,CardStyle:i,ThemeStyle:s,wallID:o.wallId,clickToShowPopUp:r,onClickToCTA:a,postSizeInPx:c,completeDataObject:n,largeDiv:g,smallDiv:f,onClickPopUpSlider:h,intervalTime:T,currentIndex:this.state.currentIndex,handleSlideChange:this.handleSlideChange})},t)))})})})}}const S=m}}]);