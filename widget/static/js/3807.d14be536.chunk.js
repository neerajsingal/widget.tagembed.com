"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[3807],{33807:(e,t,i)=>{i.r(t),i.d(t,{AiIcon:()=>g,AiIconColored:()=>v,default:()=>w});var s=i(47313),a=i(31881),r=i.n(a),l=i(43411),n=i(43635),o=i(46417);const c=Array.from({length:5},((e,t)=>t+1));class d extends s.Component{constructor(e){super(e),this.handleClick=e=>{const{isActiveIndex:t,addRatings:i}=this.props;this.setState({activeIndex:e}),i(e)},this.handleMouseEnter=e=>{this.setState({hoverIndex:e})},this.handleMouseLeave=()=>{this.setState({hoverIndex:null})},this.state={activeIndex:null,hoverIndex:null}}render(){const{hoverIndex:e,activeIndex:t}=this.state;return(0,o.jsx)("div",{className:"t_rate_wrap",children:c.map(((i,s)=>(0,o.jsx)("div",{className:"t_star_ico_wrap".concat(i<=e?" t_h_active_":"").concat(i<=t?" t_active_":""),onClick:()=>this.handleClick(i),onMouseEnter:()=>this.handleMouseEnter(i),onMouseLeave:this.handleMouseLeave,children:(0,o.jsx)("div",{className:"t_star_ico tb__icon tb-star-outline",children:(0,o.jsx)("div",{})})},s)))})}}const h=d;var _=i(17739),p=i(98501),m=i(35179);const u=s.lazy((()=>Promise.all([i.e(9457),i.e(9010)]).then(i.bind(i,18748)))),v=()=>(0,o.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 20 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,o.jsx)("path",{d:"M9.89539 6.67812C10.1534 6.58595 10.3266 6.33964 10.3266 6.06577C10.3266 5.79191 10.1534 5.54559 9.89645 5.45342L8.71518 5.02753C8.14049 4.82136 7.61855 4.49055 7.18683 4.05882C6.7551 3.62709 6.42428 3.10515 6.21811 2.53046L5.79222 1.3492C5.74665 1.22352 5.66358 1.11488 5.55425 1.03795C5.44492 0.961021 5.31461 0.919523 5.18093 0.919067C4.90759 0.919067 4.66128 1.09175 4.56805 1.3492L4.14269 2.53046C3.93656 3.10526 3.60569 3.62728 3.17386 4.05903C2.74202 4.49077 2.21993 4.82153 1.64508 5.02753L0.464879 5.45342C0.206908 5.54612 0.0336914 5.79191 0.0336914 6.06577C0.0336914 6.33964 0.206908 6.58542 0.46382 6.67812L1.64508 7.10401C2.21981 7.31012 2.74178 7.64091 3.17352 8.07265C3.60526 8.50439 3.93605 9.02636 4.14216 9.60109L4.56805 10.7829C4.66075 11.0398 4.90707 11.2125 5.1804 11.2125C5.45373 11.2125 5.70005 11.0393 5.79222 10.7824L6.21811 9.60109C6.42428 9.02639 6.7551 8.50446 7.18683 8.07273C7.61855 7.641 8.14049 7.31018 8.71518 7.10401L9.89539 6.67812Z",fill:"url(#paint0_linear_8573_5744)"}),(0,o.jsx)("path",{d:"M13.6629 11.7821C13.8087 11.73 13.9066 11.5908 13.9066 11.436C13.9066 11.2812 13.8087 11.142 13.6635 11.0899L12.9958 10.8492C12.671 10.7326 12.376 10.5456 12.1319 10.3016C11.8879 10.0576 11.7009 9.76259 11.5844 9.43776L11.3437 8.77009C11.3179 8.69906 11.271 8.63765 11.2092 8.59417C11.1474 8.55069 11.0737 8.52724 10.9982 8.52698C10.8437 8.52698 10.7045 8.62458 10.6518 8.77009L10.4113 9.43776C10.2948 9.76265 10.1078 10.0577 9.86374 10.3017C9.61966 10.5458 9.32457 10.7327 8.99965 10.8492L8.33258 11.0899C8.18677 11.1423 8.08887 11.2812 8.08887 11.436C8.08887 11.5908 8.18677 11.7297 8.33198 11.7821L8.99965 12.0228C9.3245 12.1393 9.61953 12.3263 9.86355 12.5703C10.1076 12.8143 10.2945 13.1094 10.411 13.4342L10.6518 14.1022C10.7042 14.2474 10.8434 14.345 10.9979 14.345C11.1524 14.345 11.2916 14.2471 11.3437 14.1019L11.5844 13.4342C11.7009 13.1094 11.8879 12.8144 12.1319 12.5704C12.376 12.3263 12.671 12.1393 12.9958 12.0228L13.6629 11.7821Z",fill:"url(#paint1_linear_8573_5744)"}),(0,o.jsxs)("defs",{children:[(0,o.jsxs)("linearGradient",{id:"paint0_linear_8573_5744",x1:"5.69478",y1:"1.07347",x2:"5.28302",y2:"11.0581",gradientUnits:"userSpaceOnUse",children:[(0,o.jsx)("stop",{stopColor:"#654985"}),(0,o.jsx)("stop",{offset:"1",stopColor:"#E16490"})]}),(0,o.jsxs)("linearGradient",{id:"paint1_linear_8573_5744",x1:"11.2886",y1:"8.61425",x2:"11.0559",y2:"14.2577",gradientUnits:"userSpaceOnUse",children:[(0,o.jsx)("stop",{stopColor:"#654985"}),(0,o.jsx)("stop",{offset:"1",stopColor:"#E16490"})]})]})]}),g=()=>(0,o.jsxs)("svg",{width:"14",height:"15",viewBox:"0 0 14 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,o.jsx)("path",{d:"M9.95199 6.53749C10.2123 6.44448 10.3871 6.19591 10.3871 5.91954C10.3871 5.64317 10.2123 5.39459 9.95305 5.30158L8.76098 4.87179C8.18102 4.66373 7.65431 4.32989 7.21863 3.8942C6.78294 3.45852 6.4491 2.93181 6.24104 2.35185L5.81125 1.15977C5.76526 1.03295 5.68143 0.923309 5.5711 0.845677C5.46077 0.768045 5.32927 0.726168 5.19436 0.725708C4.91853 0.725708 4.66995 0.899976 4.57587 1.15977L4.14662 2.35185C3.9386 2.93192 3.60471 3.45872 3.16892 3.89442C2.73313 4.33011 2.20625 4.6639 1.62614 4.87179L0.435135 5.30158C0.174803 5.39513 0 5.64317 0 5.91954C0 6.19591 0.174803 6.44394 0.434066 6.53749L1.62614 6.96728C2.20614 7.17527 2.73289 7.5091 3.16858 7.94479C3.60427 8.38048 3.93809 8.90723 4.14608 9.48722L4.57587 10.6798C4.66942 10.9391 4.91799 11.1134 5.19383 11.1134C5.46966 11.1134 5.71824 10.9386 5.81125 10.6793L6.24104 9.48722C6.4491 8.90726 6.78294 8.38055 7.21863 7.94487C7.65431 7.50919 8.18102 7.17534 8.76098 6.96728L9.95199 6.53749Z",fill:"white"}),(0,o.jsx)("path",{d:"M13.7539 11.688C13.9011 11.6354 13.9999 11.4949 13.9999 11.3387C13.9999 11.1825 13.9011 11.042 13.7545 10.9894L13.0808 10.7465C12.753 10.6289 12.4553 10.4402 12.209 10.194C11.9627 9.94771 11.774 9.65 11.6564 9.3222L11.4135 8.64842C11.3875 8.57674 11.3402 8.51476 11.2778 8.47088C11.2154 8.42701 11.1411 8.40334 11.0648 8.40308C10.9089 8.40308 10.7684 8.50158 10.7153 8.64842L10.4726 9.3222C10.3551 9.65006 10.1663 9.94782 9.92003 10.1941C9.67372 10.4403 9.37592 10.629 9.04803 10.7465L8.37485 10.9894C8.22771 11.0423 8.12891 11.1825 8.12891 11.3387C8.12891 11.4949 8.22771 11.6351 8.37425 11.688L9.04803 11.9309C9.37585 12.0485 9.67358 12.2372 9.91984 12.4834C10.1661 12.7297 10.3548 13.0274 10.4723 13.3552L10.7153 14.0293C10.7681 14.1759 10.9086 14.2744 11.0645 14.2744C11.2205 14.2744 11.361 14.1756 11.4135 14.029L11.6564 13.3552C11.774 13.0274 11.9627 12.7297 12.209 12.4835C12.4553 12.2372 12.753 12.0485 13.0808 11.9309L13.7539 11.688Z",fill:"white"})]}),x=e=>/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase()),C=e=>{let{wall:t,type:i,onClosePopUp:s}=e;return(0,o.jsx)("div",{className:"t_modal_content",children:(0,o.jsxs)("div",{className:"t_s_wrap",children:[(0,o.jsx)("img",{className:"t_s_icon_",src:"".concat(p.do,"/media/images/").concat(i,"-icon.svg"),height:80,width:80,alt:""}),"check"==i?(0,o.jsx)("div",{className:"t_s_title",children:"Thanks for Your Efforts!"}):null,(0,o.jsx)("div",{className:"t_s_desc",children:t.UgcSettings.onsite_status?t.UgcSettings.onsite_succ_msg:"Thank you for sharing your amazing content with us."}),(0,o.jsx)("div",{className:"t_f_close_wrap",children:(0,o.jsx)("button",{className:"t_f_p_btn",onClick:s,children:"Close"})})]})})},b=e=>{let{logo:t}=e;return t?(0,o.jsx)("div",{className:"t_m_logo_w",children:(0,o.jsx)("img",{className:"t_m_logo",src:t,height:20,width:130,alt:""})}):null};class f extends s.Component{constructor(e){var t,i;super(e),this.handleNext=e=>this.setState({submitPost:!1}),this.hanleTab1=e=>this.setState({activeTab:1}),this.hanleTab2=e=>this.setState({activeTab:2}),this.onShowCloseSubmitPicPopUp=e=>{const{isOpen:t}=this.state;this.setState({isOpen:!t})},this.updateImageWithData=e=>{const{upload_image:t}=this.state;t&&t.length<20&&(t.push(e),this.setState({upload_image:t}))},this.onClickToaddMore=e=>{const{upload_image:t}=this.state,{wall:i}=this.props;if(t&&t.length<20){const e=3==i.UgcSettings.choose_content_category?2:1;t.push({file:null,caption:null,review:"",rating:0,error:!1,activeTab:e,type:1,thumb_file:"",videoPath:""}),this.setState({isAddMoreActive:!0,upload_image:t,isActiveIndex:0==t.length||1==t.length?0:parseInt(t.length)-1,step:1,activeTab:e,submitError:!1,errorClickMore:!1})}else t.length>=20&&this.setState({errorClickMore:!0})},this.onClickToUpdateMoreStep=e=>t=>{const{isAddMoreActive:i,isActiveIndex:s,upload_image:a}=this.state;i&&a[s]&&a.splice(s,1),this.setState({isAddMoreActive:!1,upload_image:a,step:e,isEdit:!1,isActiveIndex:a&&a.length>0&&parseInt(a.length)-1>0?parseInt(a.length)-1:0,activeTab:1,errorClickMore:!1})},this.onClickToUpdateStep=e=>t=>{var i=!1;const{upload_image:s,isActiveIndex:a,activeTab:r}=this.state;s&&s[a]&&(1==r?null==s[a].caption||""==s[a].caption||0==s[a].caption.trim().length?(s[a].error=!0,i=!0):s[a].error=!1:2==r&&(""==s[a].review||""==s[a].review||0==s[a].review.length||0==s[a].rating?(s[a].error=!0,i=!0):s[a].error=!1)),i?this.setState({upload_image:s}):this.setState({isAddMoreActive:!1,upload_image:s,step:e,isEdit:!1,activeTab:1,submitErrorMessage:null,errorClickMore:!1})},this.onSubmitPostData=e=>{const{name:t,email:i,upload_image:s,is_terms_check:a,tandc:r,receiveMail:l,rateProduct:o,reviewTitle:c,review:d,layout:h,captionError:_}=this.state,{wallId:p,modalPop:u,wall:v,feeds:g}=this.props;if(this.setState({submitError:!1}),r&&(null===t||void 0===t?void 0:t.length)>0&&(null===i||void 0===i?void 0:i.length)>0&&x(i)&&!i.includes("mailinator")&&r&&(1==h&&o>0&&(!m.ig||c)||2==h)&&(null===d||void 0===d?void 0:d.length)>0&&!_){this.setState({apiRequest:!0});var C=!!window.ugcSuite||!!window.location.href.includes("ugcSuite=1"),b={};C&&g&&g.length>0&&g.map((e=>{e&&e.Network&&Object.keys(e.Network).length>0&&29==e.Network.id&&e.value1&&(b={feedId:e.value1})}));let e=[];s&&s.length>0?s.map((t=>{e.push({...t})})):e=[{video:"",type:1,height:"",width:"",thumbnail:""}];const r={wallId:null!==v&&void 0!==v&&v.Wall.wallId?null===v||void 0===v?void 0:v.Wall.wallId:p,name:t,email:i,media:e,onsite_token:u.onsite_token,...b,caption:d,rating:o,title:2==h?" ":c};[104746].includes(v.Wall.owner)&&(r.is_terms_check=a),(0,n.uM)(r).then((e=>{const{onsite_token:t}=e.data;this.props.onsiteTokenUpdate(t),this.setState({step:3,apiRequest:!1},(()=>setTimeout((()=>{window.location.href.includes("onsite-upload")?window.location.reload():this.props.onSitePopup(!1)}),5e3)),document.querySelector("html").style.overflow="auto")})).catch((e=>{const{message:t}=e.toJSON();t&&this.setState({submitError:!0,submitErrorMessage:t,apiRequest:!1}),console.error(e)}))}else""!=this.state.review&&0!=this.state.review.trim().length||this.setState({captionError:!0,apiRequest:!1}),null!=this.state.name&&0!=this.state.name.trim().length||this.setState({nameError:!0,apiRequest:!1}),null!=this.state.email&&0!=this.state.email.trim().length&&x(this.state.email)&&!i.includes("mailinator")||this.setState({emailError:!0,apiRequest:!1}),0==o&&this.setState({rateProductError:!0}),null!=this.state.reviewTitle&&0!=this.state.reviewTitle.trim().length||this.setState({reviewTitleError:!0,apiRequest:!1})},this.addCaption=e=>{String(e.target.value).length<=500?this.setState({review:e.target.value,captionError:!1}):this.setState({captionError:!0})},this.aiPromptFun=e=>{""!=String(this.state.aiPromptCopy).trim()&&String(this.state.aiPromptCopy).trim()!=String(e.target.value).trim()&&this.setState({isRegenrate:!0}),this.setState({aiPrompt:e.target.value})},this.typeWriterEffect=()=>{const{aiResponse:e,currentIndex:t}=this.state;t<e.length?this.setState((i=>({review:i.review+e[t],currentIndex:i.currentIndex+1})),(()=>{setTimeout(this.typeWriterEffect,20)})):this.setState({isTyping:!1,loadbtn:!1})},this.aiReviewFun=e=>{const{aiPrompt:t,rateProduct:i,layout:s}=this.state;if(this.setState({aiInput:!0,aiReadOnly:!0,isTyping:!0,currentIndex:0,review:"",aiPromptError:""}),(!i||i<=0)&&1==s)return this.setState({rateProductError:!0}),!1;const a=t.split(/\s+/).map((e=>e.length));if(!t||a.length<=2)return this.setState({aiPromptError:"Please enter at least 3 words."}),!1;this.setState({writeAiReview:!0,loadbtn:!0,aiSpinner:!0,isRegenrate:!1,aiResponse:""}),r().post(m.gX,{input_text:t,stars:1==s?i:0}).then((e=>{200==e.data.status_code?this.setState({aiResponse:e.data.body,aiSpinner:!1,aiPromptCopy:t,isRegenrate:!0,captionError:!1},(()=>{this.typeWriterEffect()})):this.setState({loading:!1,isTyping:!1,loadbtn:!1,aiSpinner:!1,aiPromptError:e.data.body,aiPromptCopy:t,isRegenrate:!1,captionError:!1})})).catch((e=>{this.setState({error:e.message,loading:!1,isTyping:!1,loadbtn:!1,aiSpinner:!1,aiPromptError:"Internal Server Error",aiPromptCopy:t,isRegenrate:!1,captionError:!1})}))},this.aiPromptEditFun=()=>{this.setState({aiReadOnly:!1,isRegenrate:!0},(()=>{if(this.textAreaRef.current){const e=this.textAreaRef.current;e.focus(),e.setSelectionRange(e.value.length,e.value.length)}}))},this.addReview=e=>t=>{const{upload_image:i}=this.state;i&&i[e]&&(i[e].review=t.target.value,i[e].caption="",i[e].error=!1,i[e].activeTab=2,this.setState({upload_image:i}))},this.addRatings=(e,t)=>{this.setState({rateProduct:e,rateProductError:!1})},this.onChangeReviewTitle=e=>{this.setState({reviewTitle:e.target.value,reviewTitleError:!1})},this.addPostImage=(e,t,i,s,a,r,l,n,o,c)=>{let{upload_image:d}=this.state;const h={video:e,type:s,height:o,width:c,thumbnail:t};d.push(h),d.length>20&&(d.length=20),this.setState({upload_image:d,isActiveIndex:d.length+1})},this.onClickToRemove=(e,t)=>{const{upload_image:i}=this.state;if(i&&i.length>0){const t=i.filter((t=>t.video!=e.video));this.setState({upload_image:t,errorClickMore:!1,isActiveIndex:t.length+1,removedFile:e})}},this.onClickToImageRemove=e=>t=>{const{upload_image:i}=this.state;i&&i[e]&&(i[e].file=null,i[e].thumb_file="",i[e].videoPath="",i[e].type=1,i[e].ext=null,i[e].size=0,i[e].fileName=null,i[e].mediaHeight=0,i[e].mediaWidth=0,this.setState({upload_image:i}),(0,_.AB)(2))},this.onClickToEdit=e=>t=>{const{upload_image:i}=this.state;let s=1;i&&i[e]&&(s=i[e].activeTab),this.setState({isActiveIndex:e,isEdit:!0,step:1,activeTab:s})},this.onTextName=e=>{this.setState({name:e.target.value,nameError:!1},(()=>{null!=this.state.name&&0!=this.state.name.length||this.setState({nameError:!0})}))},this.onTextEmail=e=>{this.setState({email:e.target.value,emailError:!1},(()=>{null!=this.state.email&&0!=this.state.email.length&&x(this.state.email)&&!this.state.email.includes("mailinator")||this.setState({emailError:!0})}))},this.onUpdatereceiveMail=e=>{const{receiveMail:t}=this.state;this.setState({receiveMail:!t})},this.onUpdatetandc=e=>{const{tandc:t}=this.state;this.setState({tandc:!t})},this.onClosePopUp=()=>{this.props.onSitePopup(!1),document.querySelector("html").style.overflow="auto"},this.termsCheck=e=>{this.setState({is_terms_check:e})},this.uploadErrorCallback=e=>{this.setState({uploadError:e},(()=>{setTimeout((()=>{this.setState({uploadError:""})}),5e3)}))},this.backStepFun=()=>{this.setState({step:1})},this.state={submitPost:!0,activeTab:1,isOpen:!0,step:1,wall_id:null,name:"",email:"",upload_image:[],receiveMail:!1,tandc:!0,nameError:!1,emailError:!1,submitErrorMessage:null,apiRequest:!1,isActiveIndex:0,isAddMoreActive:!1,isEdit:!1,submitError:!1,is_terms_check:0,errorClickMore:!1,uploadError:"",rateProduct:0,reviewTitle:"",review:"",rateProductError:!1,reviewTitleError:!1,captionError:!1,layout:(null===e||void 0===e||null===(t=e.wall)||void 0===t||null===(i=t.UgcSettings)||void 0===i?void 0:i.onsite_snap_layout)||1,removedFile:{},aiInput:!1,aiPrompt:"",writeAiReview:!1,aiReadOnly:!0,aiSpinner:!1,aiPromptError:"",isRegenrate:!1,aiPromptCopy:""},this.textAreaRef=(0,s.createRef)()}componentDidMount(){const{wall:e}=this.props;(e=>{var t;window._mfq=window._mfq||[],function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="//cdn.mouseflow.com/projects/5d24672d-901f-43be-86a6-a92685f165a6.js",document.getElementsByTagName("head")[0].appendChild(e)}();var i="tagembed"===(null===e||void 0===e||null===(t=e.User)||void 0===t?void 0:t.userDatabaseType)?"widget.tagembed.com":"widget.taggbox.com";window._mfq.push(["setVariable","useProduct",i]),window._mfq.push(["setVariable","UserType","AIReviewWriter"])})(e),this.setState({activeTab:3==e.UgcSettings.choose_content_category?2:1})}render(){const{activeTab:e,isActiveIndex:t,step:i,upload_image:a,isAddMoreActive:r,isEdit:l,name:n,email:c,receiveMail:d,tandc:_,nameError:f,emailError:w,apiRequest:j,submitError:S,submitErrorMessage:N,errorClickMore:k,uploadError:E,reviewTitle:y,review:P,rateProductError:T,reviewTitleError:R,captionError:I,layout:A,removedFile:M,aiInput:U,aiPrompt:L,writeAiReview:q,aiReadOnly:F,aiPromptError:W,aiSpinner:O,isRegenrate:Z}=this.state,{wall:D,modalPop:B,isFreeAdsStatus:z}=this.props,G={backgroundColor:D.UgcSettings.onsite_background_color?D.UgcSettings.onsite_background_color:null,backgroundImage:D.UgcSettings.onsite_background_image?"url(".concat(D.UgcSettings.onsite_background_image,")"):null},{onClosePopUp:J}=this;return(0,o.jsx)("div",{className:"t_modal".concat(z?" t_brand_":""),children:(0,o.jsx)("div",{className:"t_modal_wrap",style:G,children:D&&D.UgcSettings&&Object.keys(D.UgcSettings).length>0&&D.UgcSettings.onsite_status?(0,o.jsx)("div",{className:"t_modal_container",children:3==i?(0,o.jsx)(C,{wall:D,onClosePopUp:J,type:"check"}):(0,o.jsxs)("div",{className:"t_modal_content",children:[(0,o.jsx)(b,{logo:D.UgcSettings.onsite_logo}),(0,o.jsx)("div",{className:"t_m_close_btn tb__icon tb-close-alt",onClick:J,children:(0,o.jsx)("div",{})}),D.UgcSettings.onsite_popup_title?(0,o.jsx)("div",{className:"t_m_title",children:D.UgcSettings.onsite_popup_title}):null,""!=D.UgcSettings.onsite_popup_sub_heading?(0,o.jsx)("div",{className:"t_m_subtitle",children:D.UgcSettings.onsite_popup_sub_heading}):null,1==A?(0,o.jsxs)("div",{className:"t_f_group",children:[(0,o.jsx)(h,{isActiveIndex:t,onClickToUpdateStep:this.onClickToUpdateStep,onClickToUpdateMoreStep:this.onClickToUpdateMoreStep,isAddMoreActive:r,item:a[t],addRatings:this.addRatings}),T?(0,o.jsx)("div",{className:"t_f_error t_text_center",children:" * Rating is required."}):null]}):null,1!=A||m.ZQ||m.Jx?null:(0,o.jsxs)("div",{className:"t_f_group",children:[(0,o.jsxs)("div",{className:"t_label_",children:["Review Title ",(0,o.jsx)("div",{className:"t_t_danger",children:"*"})]}),(0,o.jsx)("input",{type:"text",className:"t_from_input ".concat(R?"t_f_invalid":""),placeholder:"Enter review title",onChange:this.onChangeReviewTitle,value:y}),R?(0,o.jsx)("div",{className:"t_f_error",children:" * Review Title is required."}):null]}),(0,o.jsxs)("div",{className:"t_f_group",children:[q?(0,o.jsxs)("div",{className:"t_f_textarea ai_input_wrap",children:[(0,o.jsxs)("div",{className:"t_f_ai_input_wrap_",children:[(0,o.jsx)("div",{className:"t_f_ai_ico",children:(0,o.jsx)(v,{})}),(0,o.jsx)("textarea",{id:"ai_input",ref:this.textAreaRef,className:"t_from_ai_input t_f_textarea",value:L,onChange:this.aiPromptFun,placeholder:"Write Ai Review",readOnly:F,disabled:F}),(0,o.jsxs)("div",{className:"t_f_ai_btn_wrap",children:[(0,o.jsx)("div",{className:"t_f_ai_btn",onClick:this.aiPromptEditFun,children:(0,o.jsx)("div",{className:"tb__icon tb-edit"})}),(0,o.jsx)("div",{className:"t_f_ai_btn",onClick:()=>this.setState({writeAiReview:!1,aiPrompt:"",review:"",aiPromptError:"",aiInput:!1,isRegenrate:!1}),children:(0,o.jsx)("div",{className:"tb__icon tb-close-alt"})})]})]}),(0,o.jsxs)("div",{className:"t_f_ai_res_wrap",children:[O?(0,o.jsxs)("div",{className:"t_f_skel_wrap",children:[(0,o.jsx)("div",{class:"t_f_s_bar_wrap",children:(0,o.jsx)("div",{class:"t_f_s_bar",children:(0,o.jsx)("div",{})})}),(0,o.jsx)("div",{class:"t_f_s_bar_wrap",children:(0,o.jsx)("div",{class:"t_f_s_bar",children:(0,o.jsx)("div",{})})}),(0,o.jsx)("div",{class:"t_f_s_bar_wrap",style:{maxWidth:"50%"},children:(0,o.jsx)("div",{class:"t_f_s_bar",children:(0,o.jsx)("div",{})})})]}):null,(0,o.jsx)("textarea",{className:"t_from_textarea ".concat(I?"t_f_invalid":""),value:P,onChange:this.addCaption}),(0,o.jsx)("div",{className:"t_f_p_btn t_f_rg_btn t_f_l_btn".concat(Z?"":" tb_disabled"),onClick:()=>!!Z&&this.aiReviewFun(!1),children:"Regenerate"})]})]}):(0,o.jsxs)("div",{className:"t_f_ai_res_wrap",children:[U?(0,o.jsx)("textarea",{className:"t_from_textarea t_f_ai_prompt",value:L,onChange:this.aiPromptFun,placeholder:2==A?"Describe what your caption should be about":"Provide a brief of the product or service for the review."}):(0,o.jsx)("textarea",{className:"t_from_textarea ".concat(I?"t_f_invalid":""),placeholder:"Write your ".concat(2==A?"caption":"review"," here"),value:P,onChange:this.addCaption}),U?(0,o.jsx)("div",{className:"t_f_ai_ico_text",children:(0,o.jsx)(v,{})}):"",U?(0,o.jsx)("div",{className:"t_f_ai_btn_wrap",children:(0,o.jsx)("div",{className:"t_f_ai_btn",onClick:()=>this.setState({aiInput:!1,aiPromptError:""}),children:(0,o.jsx)("div",{className:"tb__icon tb-close-alt"})})}):"",U?(0,o.jsxs)("div",{className:"t_f_p_btn t_f_p_btn_gr t_f_ai_btn".concat(L.length<=0&&U?" tb_disabled":""),onClick:this.aiReviewFun,children:[(0,o.jsx)("div",{className:"t_f_ai_ico_btn",children:(0,o.jsx)(g,{})}),"Generate"]}):(0,o.jsxs)("div",{className:"t_f_p_btn t_f_p_btn_gr t_f_ai_btn".concat(L.length<=0&&U?" tb_disabled":""),onClick:()=>this.setState({aiInput:!0}),children:[(0,o.jsx)("div",{className:"t_f_ai_ico_btn",children:(0,o.jsx)(g,{})})," Write with AI"]})]}),W?(0,o.jsxs)("div",{className:"t_f_error",children:[" * ",W]}):null,I?(0,o.jsxs)("div",{className:"t_f_error",children:[" * ",String(P).length<=0?"".concat(2==A?"Caption":"Review"," is required."):"".concat(2==A?"Caption":"Review"," limit of 500 exceeded!")]}):null]}),(0,o.jsxs)("div",{className:"t_f_group",children:[(0,o.jsx)("div",{className:"t_label_",children:"Picture/Video (optional)"}),(0,o.jsxs)("div",{className:"t_f_upload",children:[a&&a.length>0?a&&a.map(((e,t)=>e.thumbnail?(0,o.jsxs)("div",{className:"t_m_up_img_wrap",onClick:this.onClickToEdit(t),children:[e.thumbnail?(0,o.jsxs)("div",{className:"t_m_up_img_in",children:[(0,o.jsx)("img",{className:"t_m_up_img",src:e.thumbnail,height:80,width:80,alt:""}),3==e.type||5==e.type?(0,o.jsx)("div",{className:"t_m_vi_ico tb__icon tb-play",children:(0,o.jsx)("div",{})}):null]}):null,(0,o.jsx)("div",{className:"t_m_remove_btn tb__icon tb-close-alt",onClick:()=>this.onClickToRemove(e,t),children:(0,o.jsx)("div",{})})]},t):null)):null,(0,o.jsx)(s.Suspense,{fallback:(0,o.jsx)("div",{className:"t_m_upload",children:"Loading..."}),children:(0,o.jsx)(u,{updateImageWithData:this.updateImageWithData,isActiveIndex:t,addPostImage:this.addPostImage,onsite_token:B.onsite_token,uploadErrorCallback:this.uploadErrorCallback,upload_image:a,onClickToUpdateMoreStep:this.onClickToUpdateMoreStep,removedFile:M})})]}),E?(0,o.jsx)("div",{className:"t_f_error",children:E}):null]}),(0,o.jsxs)("div",{className:"t_row_",children:[(0,o.jsx)("div",{className:"t_col_",children:(0,o.jsxs)("div",{className:"t_f_group",children:[(0,o.jsxs)("div",{className:"t_label_",children:["Name  ",(0,o.jsx)("div",{className:"t_t_danger",children:"*"})]}),(0,o.jsx)("input",{type:"text",className:"t_from_input ".concat(f?"t_f_invalid":""),placeholder:"Enter Your name",onChange:this.onTextName,value:n}),f?(0,o.jsx)("div",{className:"t_f_error",children:" Name is required."}):null]})}),(0,o.jsx)("div",{className:"t_col_",children:(0,o.jsxs)("div",{className:"t_f_group",children:[(0,o.jsxs)("div",{className:"t_label_",children:["Email  ",(0,o.jsx)("div",{className:"t_t_danger",children:"*"})]}),(0,o.jsx)("input",{type:"text",className:"t_from_input ".concat(w?"t_f_invalid":""),placeholder:"Enter you email",onChange:this.onTextEmail,value:c}),w?(0,o.jsxs)("div",{className:"t_f_error",children:[" ",0==String(c).trim().length?"Email is required.":x(c)?"":"Enter valid email."]}):null]})})]}),[104746].includes(D.Wall.owner)?(0,o.jsxs)("div",{className:"t_f_check_inline",children:[(0,o.jsx)("input",{type:"checkbox",id:"t_accept",className:"t_from_check",onChange:e=>this.termsCheck(e.target.checked?1:0)}),(0,o.jsxs)("div",{className:"t_f_label_wrap",children:[(0,o.jsx)("label",{className:"t_check_label_",htmlFor:"t_accept",children:"I agree to CALM using my story for marketing purposes --"}),(0,o.jsx)("a",{href:D.UgcSettings.onsite_term_url,className:"t_tc_link",target:"_blank",children:"click for more information on how your story will be used."})]})]}):(0,o.jsxs)("div",{className:"t_f_group",children:[(0,o.jsxs)("div",{className:"t_f_check_inline",children:[(0,o.jsx)("input",{type:"checkbox",id:"t_accept",className:"t_from_check",value:"accept",onChange:this.onUpdatetandc,checked:_}),(0,o.jsxs)("label",{className:"t_check_label_",htmlFor:"t_accept",children:["By clicking on Submit, you are agreeing to our ",(0,o.jsx)("a",{href:"".concat(p.ZS).concat(m.ZQ?"review-hub-content-rights":m.Jx?"on-site-uploads-content-rights/":"snapup-content-rights/"),className:"t_tc_link",target:"_blank",children:"terms and conditions"})," *"]})]}),0==_?(0,o.jsx)("div",{className:"t_f_error",children:"* Please agree to the terms and conditions to submit your media."}):null]}),S?(0,o.jsx)("div",{className:"t_f_group",children:(0,o.jsxs)("div",{className:"t_f_error",children:["* ",N||"Please check complete details."]})}):null,(0,o.jsx)("div",{className:"t_f_group t_text_center",children:(0,o.jsx)("div",{className:"t_f_p_btn ".concat(j?" t_f_btn_spinner":""),onClick:this.onSubmitPostData,children:D.UgcSettings.onsite_popup_btn_txt})}),2==i?(0,o.jsx)("div",{className:"t_f_group t_text_center",children:(0,o.jsx)("div",{className:"t_f_s_btn",onClick:this.backStepFun,children:"Back"})}):null,k?(0,o.jsx)("div",{className:"t_f_error",children:"* Max 20 posts are allowed."}):null]})}):null})})}}const w=(0,l.$j)((e=>(void 0!=e.modalPop&&1==e.modalPop.onSiteIsShowPopUp&&(document.querySelector("html").style.overflow="hidden"),{modalPop:e.modalPop})),(e=>({onSitePopup:t=>e((0,n.wg)(t)),onsiteTokenUpdate:t=>e((0,n.q3)(t))})))(f)}}]);