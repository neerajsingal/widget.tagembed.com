"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[8593],{58593:(e,t,a)=>{a.r(t),a.d(t,{default:()=>x});var l=a(89379),s=a(9950),n=a(73068),i=a(73878),o=a(14478),r=a(66345),d=a(44414);const p=s.lazy((()=>a.e(8914).then(a.bind(a,48914)))),c=s.lazy((()=>a.e(4121).then(a.bind(a,14121)))),h=s.lazy((()=>a.e(501).then(a.bind(a,40501)))),u=s.lazy((()=>Promise.all([a.e(1823),a.e(8092),a.e(804),a.e(3736),a.e(7884)]).then(a.bind(a,84061)))),g=s.lazy((()=>Promise.all([a.e(804),a.e(821)]).then(a.bind(a,16656)))),b=s.lazy((()=>a.e(2406).then(a.bind(a,22406)))),m=s.lazy((()=>a.e(4675).then(a.bind(a,74675)))),_=(0,n.componentWillAppendToBody)((e=>{let{children:t,wallId:a}=e;return a?(0,d.jsx)("div",{"data-widget-id":a,children:t}):null}));class j extends s.PureComponent{constructor(e){super(e),this.togglePopup=()=>{this.setState((e=>({isPopupVisible:!e.isPopupVisible,showFirstButton:!e.showFirstButton})))},this.toggleDivs=()=>{this.setState((e=>({toggleSticky:!e.isClickStoped&&!e.toggleSticky})))},this.autoLoadEditorScrollData=e=>{const{wall:t,appendData:a,loaderData:l}=this.props,s=t.ThemeRule.numberOfPosts;if(1===t.Personalization.autoScrollStatus){let e=document.getElementById("BadgeThemeScroll");if(e){document.body.scrollHeight;let n=e.scrollTop,i=e.scrollHeight;if(n+e.clientHeight>=i-10&&(!l||!l.isShowMoreLoading)){const e=Math.floor(Date.now()/1e3);this.props.getDataNextSteps(t.Wall.id,e,s,a.networkID,a.after,a.heightEvent)}}}},this.state={isClickStoped:!1,isPopupVisible:!1,showFirstButton:!0,toggleSticky:!1},this.interval=null}componentDidMount(){this.interval=setInterval(this.toggleDivs,1e4);let e=document.getElementById("BadgeThemeScroll");e&&e.addEventListener("scroll",this.autoLoadEditorScrollData)}componentWillUnmount(){clearInterval(this.interval)}render(){var e;const{postData:t,completeDataObject:a,adjustWidth:n,wall:i,reviewFilters:o,languageSetting:j,appendData:x,appData:w,filter_tags:S,webFilters:v,isFreeAdsStatus:D}=this.props,{isPopupVisible:y,showFirstButton:k,toggleSticky:f}=this.state,B=!!(i.Banner&&Object.keys(i.Banner).length>0&&(1===i.Banner.status&&1===i.Banner.banner_position||1===i.BannerImage.status)),F=!!(i.Banner&&Object.keys(i.Banner).length>0&&1===i.Banner.status&&2===i.Banner.banner_position),P=!!(i.Banner&&Object.keys(i.Banner).length>0&&1===i.Banner.status&&6==i.Banner.bannerType),z=r.uS?1===i.Personalization.filterStatus:!!(v&&v.length>1);s.Suspense,d.Fragment,i.Personalization.filter_type,t.appendData;const I=Object.keys(a).map((e=>a[e])).sort((()=>Math.random()-Math.random())).find((()=>!0));return(0,d.jsxs)("div",{className:"tb_bt__container",children:[(0,d.jsx)(_,{wallId:null===i||void 0===i||null===(e=i.Wall)||void 0===e?void 0:e.id,children:(0,d.jsxs)("div",{className:"tb_bt_popup_wrapper tb_bt_popup_show",style:{display:y?null:"none"},children:[(0,d.jsx)("div",{className:"tb_bt_popup_close_btn",onClick:this.togglePopup,children:(0,d.jsx)("div",{className:"tb_bt_popup_close_ico tb__icon tb-close-alt"})}),(0,d.jsx)("div",{className:"tb_bt_head_title",children:"What our customer say"}),(0,d.jsxs)("div",{className:"tb_bt_post_wrap",id:"BadgeThemeScroll",children:[P&&B?(0,d.jsx)(s.Suspense,{fallback:(0,d.jsx)(d.Fragment,{}),children:(0,d.jsx)(c,{reviewFilters:o,wall:i,appendData:x,languageSetting:j})}):null,z?(0,d.jsx)(s.Suspense,{fallback:(0,d.jsx)(d.Fragment,{}),children:(0,d.jsx)(h,{type:i.Personalization.filter_type,webFilters:v,filter_tags:S,appendData:x,wall:i,languageSetting:j,postData:t})}):null,(0,d.jsx)(s.Suspense,{fallback:(0,d.jsx)(d.Fragment,{}),children:(0,d.jsx)(u,(0,l.A)({},this.props))}),1===i.Personalization.loadMoreStatus?(0,d.jsx)(s.Suspense,{fallback:(0,d.jsx)(d.Fragment,{}),children:(0,d.jsx)(m,{languageSetting:j,wall:i,appendData:x,postData:w.postData})}):null,P&&F?(0,d.jsx)(s.Suspense,{fallback:(0,d.jsx)(d.Fragment,{}),children:(0,d.jsx)(c,{reviewFilters:o,wall:i,appendData:x,languageSetting:j})}):null]})]})}),(0,d.jsx)("div",{className:"tb_bt_wrapper",children:k&&(0,d.jsxs)("div",{className:"tb_bt_post_wrapper",children:[f?null:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"tb_bt_average_sticky ".concat(f?"":"tb_bt_show"),children:(0,d.jsx)(s.Suspense,{fallback:(0,d.jsx)(d.Fragment,{}),children:(0,d.jsx)(b,{ThemeRule:i.ThemeRule,reviewFilters:o,togglePopup:this.togglePopup})})}),D?(0,d.jsxs)(s.Suspense,{fallback:(0,d.jsx)(d.Fragment,{}),children:[(0,d.jsx)(p,{languageSetting:j,wallId:i.Wall.id,themeID:i.Personalization.widgetTheme})," "]}):null]}),t&&t.length>0&&f&&(0,d.jsx)("div",{className:"tb_bt_post_contain ".concat(f?"tb_bt_show":""),children:(0,d.jsx)(s.Suspense,{fallback:(0,d.jsx)(d.Fragment,{}),children:(0,d.jsx)(g,{ownerId:i.Wall.owner,itemData:I,itemIndex:I.id,adjustWidth:n,personalization:i.Personalization,ThemeRule:i.ThemeRule,wallID:i.Wall.id,toggleDivs:this.toggleDivs},I.id)},I.id)})]})})]})}}const x=(0,i.Ng)((e=>({appData:e.appData})),(e=>({getDataNextSteps:(t,a,l,s,n,i,r)=>e((0,o.H5)(t,a,l,s,n,i,r))})))(j)}}]);