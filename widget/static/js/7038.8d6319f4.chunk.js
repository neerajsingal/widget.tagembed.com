"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[7038],{7038:(e,t,s)=>{s.r(t),s.d(t,{default:()=>c});var r=s(9950),i=s(10300),a=s(93152),o=s(44414);class l extends r.PureComponent{render(){return(0,o.jsx)("div",{className:"tb_report_media_succ",children:(0,o.jsxs)("div",{className:"tb_report_media_succ_00",children:[(0,o.jsx)("div",{className:"tb_report_media_title",children:"Success"}),(0,o.jsx)("div",{className:"tb_report_media_p",children:"This media has been successfully reported."}),(0,o.jsx)("div",{className:"tb_report_media_succ_ico",children:(0,o.jsx)("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 98.5 98.5",enableBackground:"new 0 0 98.5 98.5",space:"preserve",children:(0,o.jsx)("path",{className:"tb_report_media_suc_svg",fill:"none",strokeWidth:"8",strokeMiterlimit:"10",d:"M81.7,17.8C73.5,9.3,62,4,49.2,4C24.3,4,4,24.3,4,49.2s20.3,45.2,45.2,45.2s45.2-20.3,45.2-45.2c0-8.6-2.4-16.6-6.5-23.4l0,0L45.6,68.2L24.7,47.3"})})})]})})}}const n=e=>/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase());class d extends r.PureComponent{constructor(){super(...arguments),this.state={email:"",reason:"",emailError:!1,reasonError:!1,submitErrorMessage:null,modalShow:!1,successModal:!1,loadbtn:!1},this.onTextEmail=e=>{const t=e.target.value;this.setState({email:t,emailError:!t||!n(t)||t.includes("mailinator")})},this.onTextReason=e=>{this.setState({reason:e.target.value,reasonError:!1},(()=>{(null===this.state.reason||this.state.reason.length<50)&&this.setState({reasonError:!0})}))},this.onSubmitData=e=>{const{email:t,reason:s}=this.state,{item:r,wall:i}=this.props,o=r.id,l=i.ThemeInfo.wallId,d={image:r.media.image.large,rating:r.rating,network:r.network.id,authorImage:r.author.picture,authorName:r.author.name,authorUsername:r.author.username,content:r.content,time:r.createdAt,mediaType:r.type},c=t&&n(t)&&!t.includes("mailinator"),m=s&&s.length>50;c&&m?(this.setState({loadbtn:!0}),(0,a.h)({wall_id:l,post_id:o,email:t,reason:s,post_data:d}).then((()=>this.setState({successModal:!0}))).catch((e=>{const{data:t}=e.response||{},s=404===(null===t||void 0===t?void 0:t.response_code)?t.message:"Something went wrong";this.setState({submitErrorMessage:s,loadbtn:!1})}))):(c||this.setState({emailError:!0}),m||this.setState({reasonError:!0}))},this.onClose=e=>{const{reportMediaClosePopUp:t}=this.props;t()},this.popUpCloseClckOnWindow=()=>{var e=this;document.addEventListener("click",(t=>{t.target.matches(".tb_report_media_modal")&&e.props.reportMediaClosePopUp()}),!1)}}componentDidMount(){setTimeout((()=>this.setState({modalShow:!0})),100),this.popUpCloseClckOnWindow()}render(){var e;const{email:t,reason:s,emailError:r,reasonError:i,submitErrorMessage:a,successModal:n,modalShow:d,loadbtn:c}=this.state,{item:m}=this.props,_=!![3,5].includes(m.type),h=7===m.network.id,p=1===m.isAudio;return(0,o.jsx)("div",{className:"tb_report_media_modal "+(d?"tb_modal_show":""),children:(0,o.jsx)("div",{className:"tb_report_media_container",children:(0,o.jsxs)("div",{className:"tb_report_media_body",children:[(0,o.jsx)("div",{className:"tb_report_media_close",onClick:this.onClose,children:(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",width:"24px",height:"24px",viewBox:"0 0 24 24",version:"1.1",children:(0,o.jsx)("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:(0,o.jsxs)("g",{transform:"translate(12.000000, 12.000000) rotate(-45.000000) translate(-12.000000, -12.000000) translate(4.000000, 4.000000)",fill:"#000000",children:[(0,o.jsx)("rect",{x:"0",y:"7",width:"16",height:"2",rx:"1"}),(0,o.jsx)("rect",{transform:"translate(8.000000, 8.000000) rotate(-270.000000) translate(-8.000000, -8.000000)",x:"0",y:"7",width:"16",height:"2",rx:"1"})]})})})}),n?(0,o.jsx)(l,{}):(0,o.jsxs)("div",{className:"tb_report_media_wrapper",children:[(0,o.jsx)("div",{className:"tb_report_media_title",children:"Report This Post"}),(0,o.jsx)("div",{className:"tb_report_media_p",children:"This means it is inappropriate, it has violated a law, or it infringes upon someone's rights. Reporting this post will flag it for further review."}),null!==(e=m.media)&&void 0!==e&&e.image?(0,o.jsx)("div",{className:"tb_report_media__",children:(0,o.jsx)("div",{className:"tb_report_media_img",style:{backgroundImage:`url(${m.media.image.small})`},children:_&&(h?(0,o.jsxs)("div",{className:"tb_report_media_youtube_ico tb__icon tb-youtube-default",children:[(0,o.jsx)("div",{className:"tb_colr_ico tb_ico_path1",children:(0,o.jsx)("div",{})}),(0,o.jsx)("div",{className:"tb_colr_ico tb_ico_path2",children:(0,o.jsx)("div",{})})]}):p?(0,o.jsx)("div",{className:"tb_report_media_ico tb__icon tb-audio",children:(0,o.jsx)("div",{})}):(0,o.jsx)("div",{className:"tb_report_media_video_ico tb__icon tb-play"}))})}):null,(0,o.jsxs)("div",{className:"tb_report_media_form",children:[(0,o.jsxs)("div",{className:"tb_report_media_form_group",children:[(0,o.jsxs)("div",{className:"tb_report_media_label",children:["Email ",(0,o.jsx)("div",{className:"tb_report_media_required",children:"*"})," "]}),(0,o.jsx)("input",{type:"email",value:t,className:"tb_report_media_input",onChange:this.onTextEmail,placeholder:"Enter email address"}),r?(0,o.jsx)("div",{className:"tb_report_media_error_",children:"* Please enter correct email."}):null]}),(0,o.jsxs)("div",{className:"tb_report_media_form_group",children:[(0,o.jsxs)("div",{className:"tb_report_media_label",children:["Reason ",(0,o.jsx)("div",{className:"tb_report_media_required",children:"*"})," "]}),(0,o.jsx)("textarea",{className:"tb_report_media_input tb_report_media_textarea",value:s,onChange:this.onTextReason,placeholder:"I am reporting this media because..."}),i?(0,o.jsx)("div",{className:"tb_report_media_error_",children:"* Please enter minimun 50 characters"}):null]}),(0,o.jsxs)("div",{className:"tb_report_media_buttons",children:[(0,o.jsx)("div",{className:"tb_report_media_cancel",onClick:this.onClose,children:"Cancel"}),(0,o.jsx)("div",{className:"tb_report_media_submit "+(c?"tb_report_media_spinner":""),onClick:this.onSubmitData,children:"Report"})]}),a&&a.length>0?(0,o.jsxs)("div",{className:"tb_report_media_error",children:[(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",viewBox:"0 0 24 24",version:"1.1",children:(0,o.jsxs)("g",{id:"Stockholm-icons-/-Code-/-Info-circle",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[(0,o.jsx)("rect",{id:"bound",x:"0",y:"0",width:"24",height:"24"}),(0,o.jsx)("circle",{id:"Oval-5",fill:"#db4b20",opacity:"0.3",cx:"12",cy:"12",r:"10"}),(0,o.jsx)("rect",{id:"Rectangle-9",fill:"#db4b20",x:"11",y:"10",width:"2",height:"7",rx:"1"}),(0,o.jsx)("rect",{id:"Rectangle-9-Copy",fill:"#db4b20",x:"11",y:"7",width:"2",height:"2",rx:"1"})]})}),a]}):null]})]})]})})})}}const c=(0,i.Ng)(null,{reportMediaClosePopUp:a.JH})(d)}}]);