(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[342,629,5757,8176],{30629:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>u});var n=i(9950),l=i(48400),o=i(10300),s=i(52867),a=i(93152),r=i(66345),d=i(44414);class c extends n.PureComponent{constructor(){super(...arguments),this.handleResize=()=>this.getActiveWrapperSize(2),this.getActiveWrapperSize=e=>{var t=0,i=0,{SnapUp:n,ThemeInfo:l,sliderClass:o}=this.props,{QrCode:a,Form:d}=n;if(l.IsUser&&!(0,s.Fr)()&&(a.status||d.status))var c=setInterval((()=>{var n=document.querySelector(".".concat(o));if(n){var s=n.getBoundingClientRect(),a=parseInt(s.width),d=parseInt(s.height);if(a==t&&d==i&&a>0)clearInterval(c),this.props.updateContainerSize(a,d,1);else{t=a,i=d,this.props.updateContainerSize(a,d);var u=[80,47,16,81,60],h=[80,47,16].includes(l.id)?1e3:3e3;setTimeout((()=>{2!=e&&(r.sb||u.includes(l.id))&&this.props.updateContainerSize(a,d,2),clearInterval(c)}),h)}}else console.log("No active wrapper found"),clearInterval(c)}),10)},this.onSitePopupButton=e=>{(0,s.qK)(e)&&this.props.onSitePopup(!0)}}componentDidMount(){var{SnapUp:e,ThemeInfo:t}=this.props,{QrCode:i,Form:n}=e;t.IsUser&&!(0,s.Fr)()&&(i.status||n.status)&&(this.getActiveWrapperSize(1),window.addEventListener("resize",this.handleResize))}componentWillUnmount(){var{SnapUp:e,ThemeInfo:t}=this.props,{QrCode:i,Form:n}=e;t.IsUser&&!(0,s.Fr)()&&(i.status||n.status)&&window.removeEventListener("resize",this.handleResize)}componentDidUpdate(e){var t,i,n,l,o,s,a,d,c,u,h,p,v,_,m,g,b,x,w,S,y,f,C,j,k,I,N,P,A,T,L;if(r.sb){var{ThemeStyle:q,CardStyle:z}=this.props;((null===(t=e.CardStyle)||void 0===t||null===(i=t.style)||void 0===i?void 0:i.ratio)!=(null===z||void 0===z||null===(n=z.style)||void 0===n?void 0:n.ratio)||(null===(l=e.ThemeStyle)||void 0===l||null===(o=l.column)||void 0===o?void 0:o.desktop)!=(null===q||void 0===q||null===(s=q.column)||void 0===s?void 0:s.desktop)||(null===(a=e.ThemeStyle)||void 0===a||null===(d=a.column)||void 0===d?void 0:d.mobile)!=(null===q||void 0===q||null===(c=q.column)||void 0===c?void 0:c.mobile)||(null===(u=e.CardStyle)||void 0===u||null===(h=u.style)||void 0===h?void 0:h.size)!=(null===z||void 0===z||null===(p=z.style)||void 0===p?void 0:p.size)||(null===(v=e.CardStyle)||void 0===v||null===(_=v.author)||void 0===_?void 0:_.status)!=(null===z||void 0===z||null===(m=z.author)||void 0===m?void 0:m.status)||(null===(g=e.CardStyle)||void 0===g||null===(b=g.icon)||void 0===b?void 0:b.status)!=(null===z||void 0===z||null===(x=z.icon)||void 0===x?void 0:x.status)||(null===(w=e.CardStyle)||void 0===w||null===(S=w.content)||void 0===S?void 0:S.status)!=(null===z||void 0===z||null===(y=z.content)||void 0===y?void 0:y.status)||(null===(f=e.CardStyle)||void 0===f||null===(C=f.content)||void 0===C?void 0:C.lines)!=(null===z||void 0===z||null===(j=z.content)||void 0===j?void 0:j.lines)||(null===(k=e.CardStyle)||void 0===k?void 0:k.actionStatus)!=(null===z||void 0===z?void 0:z.actionStatus)||(null===(I=e.CardStyle)||void 0===I||null===(N=I.globalCTA)||void 0===N?void 0:N.status)!=(null===z||void 0===z||null===(P=z.globalCTA)||void 0===P?void 0:P.status)||(null===(A=e.CardStyle)||void 0===A||null===(T=A.style)||void 0===T?void 0:T.margin)!=(null===z||void 0===z||null===(L=z.style)||void 0===L?void 0:L.margin))&&this.getActiveWrapperSize(2)}}render(){var e,{SnapUp:t,ThemeInfo:i,CardStyle:n,postSize:o,isClass:a,qrCardWidth:r,qrCardHeight:c,isLoad:u}=this.props,{QrCode:h,Form:p}=t,v=null!==h&&void 0!==h&&h.position?" tb_pos-".concat(h.position):null,_=[80,81,16,47].includes(i.id),m=(null===n||void 0===n||null===(e=n.style)||void 0===e?void 0:e.margin)/2,g=(e,t)=>(0,d.jsxs)("div",{className:"tb_onsite_upload_btn_wrap ".concat(null!==i&&void 0!==i&&i.isRevieview?"tb_custom_qr_style":null,"   ").concat(v),children:[null!==i&&void 0!==i&&i.isRevieview?(0,d.jsx)("div",{className:"tb_custom_qr_heading",children:"Be the first one to review"}):null,(0,d.jsxs)("div",{tabIndex:0,role:"button","aria-label":"Open Review Hub popup",onKeyDown:e=>this.onSitePopupButton(e),onClick:()=>this.onSitePopupButton(),className:"tb_onsite_upload_btn",children:[h.text?(0,d.jsx)("div",{className:"tb_snap_btn_bg",children:(0,d.jsx)("div",{})}):null,(0,d.jsx)("div",{className:"tb_onsite_btn",children:h.status&&!(0,s.vq)("demo")?(0,d.jsxs)("div",{className:"tb_onsite_qr_btn_wrap",children:[1==h.status?(0,d.jsx)("div",{className:"tb_onsite_qr_code",children:(0,d.jsx)(l.Ay,{level:"L",size:60,value:"".concat((0,s.dq)()).concat(i.webId,"?").concat(i.webId!=i.wallId?"website=true&":"","onsite-upload"),fgColor:e,bgColor:t})}):null,h.text?(0,d.jsx)("div",{className:"tb_onsite_btn_txt tb-cTBfont-".concat(h.style.variant),children:h.text}):""]}):(0,d.jsx)("div",{className:"tb_onsite_btn_wrap_text",children:h.text?(0,d.jsxs)("div",{className:"tb_onsite_btn_txt tb-cTBfont-".concat(h.style.variant),children:[i.IsUser||(0,s.vq)("demo")||null!==i&&void 0!==i&&i.isRevieview?(0,d.jsx)("div",{className:"tb_onsite_btn_icon_list onsite_icon_vertical",children:(0,d.jsx)("div",{className:"tb__icon",children:(0,d.jsx)("svg",{role:"img","aria-label":"Close icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 640",fill:"#fff",width:"28",height:"28",children:(0,d.jsx)("path",{d:"M352 128C352 110.3 337.7 96 320 96C302.3 96 288 110.3 288 128L288 288L128 288C110.3 288 96 302.3 96 320C96 337.7 110.3 352 128 352L288 352L288 512C288 529.7 302.3 544 320 544C337.7 544 352 529.7 352 512L352 352L512 352C529.7 352 544 337.7 544 320C544 302.3 529.7 288 512 288L352 288L352 128z"})})})}):null,h.text]}):""})})]})]});return h.status||p.status?![20,5,19,3,83,16,47,60,79,80,81,4].includes(i.id)||!i.IsUser||null!==i&&void 0!==i&&i.isRevieview||[47,16,60,81,80].includes(i.id)&&(0,s.Fr)()?(0,d.jsx)(g,{color:"#000",background:"#fff"}):u?(0,d.jsx)("div",{tabIndex:0,role:"button","aria-label":"Open Review Hub popup",onKeyDown:e=>this.onSitePopupButton(e),onClick:()=>this.onSitePopupButton(),style:{width:r?"".concat(r,"px"):"".concat(o,"%"),height:c?"".concat([81].includes(i.id)?c-0:c,"px"):"auto",padding:m},className:" ".concat(a||null,"  ").concat([4].includes(i.id)?"":"tb_onsite_upload_btn_wrap"," tb-qr-card"),children:(0,d.jsx)("div",{className:_?"qr_relative":"w-100",children:(0,d.jsxs)("div",{className:"tb_review_hub_wrap ".concat([81,80].includes(i.id)?"tb_review_hub_wrap_slide":""," ").concat([4].includes(i.id)?"qr-padding-0":""," "),children:[h.status&&!(0,s.vq)("demo")?(0,d.jsx)("div",{className:"tb_review_hub_qr",style:{marginBottom:h.text?"20px":"0"},children:(0,d.jsx)(l.Ay,{level:"L",value:"".concat((0,s.dq)()).concat(i.webId,"?").concat(i.webId!=i.wallId?"website=true&":"","onsite-upload"),fgColor:"#000",bgColor:"#fff"})}):null,!h.status||(0,s.vq)("demo")?(0,d.jsx)("div",{className:"tb_onsite_btn_icon_list",style:{marginBottom:h.text?"20px":"0"},children:(0,d.jsx)("div",{className:"tb__icon tb-plus-svg",children:(0,d.jsx)("svg",{role:"img","aria-label":"Add more icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 640",fill:"#fff",width:"18",height:"18",children:(0,d.jsx)("path",{d:"M352 128C352 110.3 337.7 96 320 96C302.3 96 288 110.3 288 128L288 288L128 288C110.3 288 96 302.3 96 320C96 337.7 110.3 352 128 352L288 352L288 512C288 529.7 302.3 544 320 544C337.7 544 352 529.7 352 512L352 352L512 352C529.7 352 544 337.7 544 320C544 302.3 529.7 288 512 288L352 288L352 128z"})})})}):null,h.text?(0,d.jsx)("div",{className:"tb_review_hub_txt",children:h.text}):null]})})}):(0,d.jsx)("img",{src:"https://cloud.tagbox.com/react-app/media/transparent-min.png",alt:"Review QrCode",width:r,height:c}):null}}const u=(0,o.Ng)((e=>({modalPop:e.modalPop})),(e=>({onSitePopup:t=>e((0,a.b8)(t))})))(c)},14250:(e,t,i)=>{"use strict";i.d(t,{A:()=>l});i(9950);var n=i(44414);const l=e=>{var t,{aiSummary:i,type:l}=e;return 1===l?(0,n.jsx)("div",{className:"tb_ai_content",children:null===i||void 0===i||null===(t=i.bullet_points)||void 0===t?void 0:t.map(((e,t)=>(0,n.jsx)("div",{className:"tb_ai_list_item",children:e},t)))}):(0,n.jsx)("div",{className:"tb_ai_content",children:null===i||void 0===i?void 0:i.text})}},71320:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>a});var n=i(9950),l=i(96241),o=i(14250),s=i(44414);class a extends n.PureComponent{constructor(e){super(e),this.toggleExpand=e=>{e.stopPropagation(),this.setState({isExpanded:!this.state.isExpanded})},this.state={isExpanded:!1},this.toggleExpand=this.toggleExpand.bind(this),this.contentRef=n.createRef()}componentDidMount(){setTimeout((()=>{var e,t;if(null!==(e=this.contentRef)&&void 0!==e&&null!==(t=e.current)&&void 0!==t&&t.clientHeight){var i,n,l=(null===(i=this.contentRef)||void 0===i||null===(n=i.current)||void 0===n?void 0:n.clientHeight)||0;this.props.contentRefCallBack&&this.props.contentRefCallBack(l)}}),100)}render(){var{CardStyle:e,contentClass:t,Content:i,Lines:n,isReadMore:a,item:r,textLength:d,ThemeStyle:c,Post:u}=this.props,h={WebkitLineClamp:this.state.isExpanded?void 0:n,textAlign:e.style.textAlign},p={textAlign:e.style.textAlign,display:"block"};return(0,s.jsxs)("div",{className:"".concat("".concat(t," ").concat(e.style.variant?" tb-cTBfont-".concat(e.style.variant):"")),children:[(0,s.jsx)("div",{id:"PostContent-".concat(null===u||void 0===u?void 0:u.id),className:"tb_content_text ".concat(n>0?"tb_content_trim":""),ref:this.contentRef,style:h,children:null!==u&&void 0!==u&&u.aiStatus?(0,s.jsx)(o.A,{aiSummary:null===u||void 0===u?void 0:u.aiSummary,type:null===c||void 0===c?void 0:c.aiSummaryStatus}):(0,s.jsx)(l.A,{networkId:null===u||void 0===u?void 0:u.networkId,Content:i,CardStyle:e})}),a||d>0&&d<i.text.length?(0,s.jsxs)("div",{style:a?null:p,onClick:a?this.toggleExpand:void 0,className:"tb_read_more_",children:[" ","Read More"]}):null]})}}},96241:(e,t,i)=>{"use strict";i.d(t,{A:()=>g});var n=i(89379),l=i(9950),o=i(88740),s=i(42083),a=i(70804),r=i(44414),d=function(e){return"string"===typeof e},c=(e,t,i)=>{if(!d(e)&&!l.isValidElement(e))return e;d(t)&&(t=function(e){var t=/[\\^$.*+?()[\]{}|]/g,i=RegExp(t.source);return e&&i.test(e)?e.replace(t,"\\$&"):e}(t)),t instanceof RegExp||(t=new RegExp(t,"g"));for(var n,o=[],s=0,a=[];null!==(n=t.exec(e));)a.push(n);if(t.lastIndex=0,0===a.length)return e;a.forEach(((t,n)=>{var l=e.slice(s,t.index);l&&o.push(l);var a=i(...t,n,s);o.push(a),s=t.index+t[0].length}));var r=e.slice(s);return r&&o.push(r),function(e){var t=[];return e.forEach((function(e){Array.isArray(e)?t=t.concat(e):t.push(e)})),t}(o)},u=e=>{var{Content:t,children:i}=e;return(0,r.jsxs)(r.Fragment,{children:[t.title?(0,r.jsx)("div",{className:"tb_bold_txt__",children:(0,o.Ay)(t.title)}):null,i]})},h=/(https?:\/\/[^\s]+)/g,p=e=>(0,r.jsx)(s.default,{children:(0,a.Ay)(e)}),v=(e,t)=>{var i;return"string"===typeof e?c(e,/#(\w+)/g,((e,i)=>(0,r.jsxs)("span",{className:"tb_highlight",style:t,children:["#",e]},"tag-".concat(e,"-").concat(i)))):Array.isArray(e)?e.map(((e,i)=>v(e,t))):l.isValidElement(e)&&null!==(i=e.props)&&void 0!==i&&i.children?l.cloneElement(e,(0,n.A)((0,n.A)({},e.props),{},{children:v(e.props.children,t)})):e},_=e=>e&&"string"===typeof e?e=(e=e.replace(/<([^|>]+)\|([^>]+)>/g,'<a href="$1" target="_blank" rel="noopener noreferrer">$2</a>')).replace(/<((https?:\/\/)[^>|]+)>/g,'<a href="$1" target="_blank" rel="noopener noreferrer">$1</a>'):e,m=e=>{var t,i,n,l,{Content:s,CardStyle:a,networkId:d}=e,m={color:null===a||void 0===a||null===(t=a.hashtag)||void 0===t?void 0:t.color,backgroundColor:1===(null===a||void 0===a||null===(i=a.hashtag)||void 0===i?void 0:i.backgroundStatus)?null===a||void 0===a||null===(n=a.hashtag)||void 0===n?void 0:n.background:null},g=(null===s||void 0===s?void 0:s.feedName)||null;if(20===d&&window.slackdown){var b,x=null===s||void 0===s?void 0:s.text;try{b=p(window.slackdown.parse(x))}catch(C){console.error("Slackdown parsing error:",C);var w=_(x);b=p(w)}return(0,r.jsx)(u,{Content:s,children:b})}var S,y,f=(0,o.Ay)(_(20===d?null===s||void 0===s?void 0:s.text:(e=>String(e).replace(/\\n\\n/g,"<br /><br />").replace(/\\n/g,"<br />"))(null===s||void 0===s?void 0:s.text)));(f=c(f,h,((e,t)=>(0,r.jsx)("a",{href:e,target:"_blank",rel:"noopener noreferrer",style:{color:"#0645AD"},children:e},"url-".concat(t)))),null!==a&&void 0!==a&&null!==(l=a.hashtag)&&void 0!==l&&l.colorStatus)&&(1===(null===a||void 0===a||null===(S=a.hashtag)||void 0===S?void 0:S.allHashtag)?f=v(f,m):1===(null===a||void 0===a||null===(y=a.hashtag)||void 0===y?void 0:y.feedHashtag)&&g&&(f=c(f,g,((e,t)=>(0,r.jsx)("span",{className:"tb_highlight",style:m,children:e},"feed-".concat(t,"-").concat((e=>Math.floor(Math.random()*(e.length?e.length:1)))(t)))))));return(0,r.jsx)(u,{Content:s,children:f})};const g=(0,l.memo)(m)},60342:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>r});var n=i(9950),l=i(76506),o=i(91697),s=i(44414),a=e=>{var{label:t,hrefClick:i,Icon:n,count:o,itemId:a=0,type:r}=e,d=o>0?(0,l.sl)(o):"";return(0,s.jsx)("div",{className:"tb_social_action__list",role:"listitem","aria-roledescription":"post social action links",children:(0,s.jsxs)("div",{onClick:e=>{e.stopPropagation(),window.open(i,"_blank")},className:"tb_social_action__ico_wrap tb_social_action__ico_wrap_".concat(a),"aria-label":"".concat(t," post ").concat(r," count ").concat(d),role:"button",tabIndex:"0",children:[(0,s.jsx)("div",{className:"tb_social_action_ico__ tb__icon tb-".concat(n),children:"  "}),d?(0,s.jsx)("div",{className:"tb_social_action_counts__",children:d}):""]})})};class r extends n.PureComponent{componentDidMount(){try{var e,{Post:t}=this.props,i=".tb_social_action__ico_wrap_".concat(null===t||void 0===t?void 0:t.id);null===(e=document.querySelector(i))||void 0===e||e.addEventListener("keydown",(function(e){"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),this.click())}))}catch(n){console.log(n)}}render(){var{Post:e,CardStyle:t,actionClass:i}=this.props,{icon:n,style:l}=t,r={color:1==n.default?n.color:l.color},d=e.networkId,{comment:c,like:u}=e.count,h=[3,10,7].includes(d)?"like":"heart-outline",p=[1,2,3,7,8,9,10,18].includes(d),v=![29,19].includes(d),_=(0,o.Oi)(d);return[29,26,23,6,5,11,12,15,20,21].includes(d)?null:(0,s.jsx)("div",{className:i,onClick:e=>e.stopPropagation(),children:(0,s.jsxs)("div",{className:"tb_social_action__",role:"list",children:[p&&(0,s.jsx)(a,{itemId:e.id,label:_,hrefClick:e.link,Icon:h,iconStyle:r,count:u,type:"like"}),v&&(0,s.jsx)(a,{itemId:e.id,label:_,hrefClick:e.link,Icon:"comment",iconStyle:r,count:c,type:"comment"}),1===d&&(0,s.jsx)(a,{itemId:e.id,label:_,hrefClick:e.link,Icon:"retweet",iconStyle:r,count:c,type:"share"}),(0,s.jsx)(a,{label:_,itemId:e.id,hrefClick:e.link,Icon:"eye",iconStyle:r,count:0,type:"view"})]})})}}},40459:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>j});var n=i(89379),l=i(9950),o=i(10300),s=i(53556),a=i(52867),r=i(71320),d=i(60342),c=i(92663),u=i(17857),h=i(58365),p=i(66345),v=i(91697),_=i(44414),m=l.lazy((()=>Promise.resolve().then(i.bind(i,55507)))),g=l.lazy((()=>i.e(531).then(i.bind(i,60531)))),b=l.lazy((()=>i.e(2685).then(i.bind(i,72685))));class x extends l.PureComponent{constructor(e){super(e),this.handlePostOpen=(e,t,i)=>{(0,a.qK)(e)&&this.props.clickToShowPopUp(t,i)(e)},this.state={textLength:0}}componentDidMount(){var e,{Post:t,onClickPopUpSlider:i,CardStyle:n,itemIndex:l,ThemeInfo:o,ThemeStyle:s}=this.props;t.isPopUp&&i(l,t),1==(null===s||void 0===s||null===(e=s.modal)||void 0===e?void 0:e.action)&&setTimeout((()=>{[1789281].includes(null===o||void 0===o?void 0:o.ownerId)||(this.setState({textLength:(0,a._A)(t,n)}),this.props.updateHeight())}),800)}render(){var{clickToShowPopUp:e,index:t,onClickToCTA:i,ThemeStyle:n,CardStyle:o,Post:s,ThemeInfo:x,Reviews:w}=this.props,{textLength:S}=this.state,y=1!==s.type,f=s.rating>0;o.content.trimContent?(0,a.Ex)(s.content,200):s.content;return(0,_.jsx)(h.A,{children:e=>{var h,{ref:C,inView:j}=e;return(0,_.jsx)("div",{ref:C,className:"tb_rc_post_wrapper".concat(null!==s&&void 0!==s&&s.aiStatus?" tb_ai_summarizer":""),"data-id":s.id,style:{padding:o.style.margin/2},"tb-network":s.network.icon,"post-id":s.referenceId?s.referenceId:s.id,"feed-id":s.feedId,role:"article",children:(0,_.jsx)("div",{className:"tb_rc_post_wrap_in",role:"button",tabIndex:0,"aria-label":"".concat((0,v.Oi)(s.networkId)," post: ").concat((0,a._y)(s.content.text)||"View post"," \u2013 opens in modal"),onClick:e=>this.handlePostOpen(e,t,s),onKeyDown:e=>this.handlePostOpen(e,t,s),children:(0,_.jsxs)("div",{className:"tb_rc_post_in",children:[(0,_.jsxs)("div",{className:"tb_rc_post_media_wrapp",role:"button","aria-label":"Pop Up Button",children:[!y&&[20].includes(x.id)&&null!==o&&void 0!==o&&null!==(h=o.icon)&&void 0!==h&&h.status?(0,_.jsxs)("div",{className:"tb_rc_social_top_",children:[" ",(0,_.jsx)(c.default,{networkClass:"tb_rc_social_center_ico",networkId:s.networkId,iconStyle:o.icon})," "]}):null,o.shareStatus?(0,_.jsx)(l.Suspense,{fallback:"",children:(0,_.jsx)(b,{share:s.share,shareClass:"tb_rc_share_container",Post:s,ThemeInfo:x})}):null]}),(0,_.jsxs)("div",{className:"tb_rc_contant_wrapper",children:[(0,_.jsx)(u.default,{className:"tb_rc",Post:s,CardStyle:o,ThemeInfo:x,inView:j,Reviews:w}),(0,_.jsxs)("div",{className:"tb_rc_content_wrap ".concat([52].includes(x.id)?"tb_rc_content_wrap_fixed":""),style:{textAlign:o.style.textAlign},children:[f?(0,_.jsxs)("div",{className:"tb_rc_rating__ ".concat(29===s.network.id?"tb_rc_onsite_rating__":""),children:[(0,_.jsx)(l.Suspense,{fallback:"",children:(0,_.jsx)(m,{size:!0,className:"tb_rc_rating",rating:s.rating,networkId:s.networkId})})," "]}):null,!o.globalCTA.status&&!Object.keys(s.cta).length||p.aD||x.isShoppable?"":(0,_.jsx)(l.Suspense,{fallback:(0,_.jsx)(_.Fragment,{}),children:(0,_.jsx)("div",{className:"tb_rc_post_cta",onClick:e=>{e.stopPropagation()},children:(0,_.jsx)(g,{ctaClass:"tb_rc_post_cta_btn",Post:s,cta:null!==s&&void 0!==s&&s.cta&&Object.keys(s.cta).length?s.cta:o.globalCTA,onClickToCTA:i})})}),o.content.status||!y?(0,_.jsx)(_.Fragment,{children:s.content&&s.content.text?(0,_.jsx)("div",{className:"tb_rc_content_in",children:(0,_.jsx)(r.default,{contentClass:"tb_rc_content",Content:s.content,CardStyle:o,textLength:S,Lines:o.content.lines,ThemeStyle:n,Post:s})}):null}):null]})]}),o.actionStatus&&![52].includes(x.id)?(0,_.jsx)(d.default,{Post:s,CardStyle:o,actionClass:"tb_rc_social_action__"}):null]})})})}})}}const w=x;i(61038);var S=i(76506),y=i(21850),f=i(30629);class C extends l.PureComponent{constructor(e){super(e),this.state={windowWidth:document.getElementById(S.S2)&&document.getElementById(S.S2).clientWidth?document.getElementById(S.S2).clientWidth:window.innerWidth},this.onScreenLoad=()=>{var{renderId:e}=this.props.renderId;this.setState({windowWidth:e&&document.getElementById(e)?document.getElementById(e).clientWidth:document.getElementById(S.S2)&&document.getElementById(S.S2).clientWidth?document.getElementById(S.S2).clientWidth:window.innerWidth})},this.requestData=()=>{var{appendData:e,ThemeInfo:t,ThemeStyle:i,CardStyle:n,hasMoreData:l,loaderData:o,nextData:s,containerSize:r}=this.props,d=(n.minimumWidth||150)+10;l&&i.autoScrollStatus&&!o.isShowMoreLoading&&s(p.aD?t.wallId:t.webId,Math.floor(Date.now()/1e3),(0,a.Ci)(r.width,i.column,d),e.networkID,e.after,e.heightEvent)},this.reScrolled=()=>{setTimeout((()=>{var e=document.querySelector(".splide__list"),t=document.querySelector(".splide__slide").offsetWidth,i=document.querySelectorAll(".splide__slide.is-visible").length,n=document.querySelector(".splide__slide.is-active.is-visible").getAttribute("aria-label").substring(0,2),l=Number(n)+(i-1)+i;l>0?(e.style.transition="0s ease",e.style.transform="translateX(-".concat(l*t,"px)")):e.style.transform="translateX(0px)",this.updateContainerSize()}),200)},this.updateHeight=()=>{this.setState({qrcardSize:(0,n.A)((0,n.A)({},this.state.qrcardSize),{},{height:this.containerRef.current.offsetHeight})},(()=>this.updateContainerSize()))},this.handleResize=()=>this.setState({resizeKey:Math.random()}),this.autoScrollSlider=e=>{var{ThemeStyle:t}=this.props,i=(t.autoScrollStatus,e.index);e.length-i===e._o.perPage&&this.requestData()},this.updateContainerSize=(e,t,i)=>{if(this.containerRef.current){var l=0,o=0;Object.values(this.inputRefs).forEach((e=>{var t,i=null===e||void 0===e||null===(t=e.splide)||void 0===t?void 0:t.root;if(i){var n=i.querySelector(".splide__slide");l=n?n.offsetHeight:0,o=n?n.offsetWidth:0}})),2!==i&&this.setState({containerWidth:this.containerRef.current.offsetWidth,qrcardSize:(0,n.A)((0,n.A)({},this.state.qrcardSize),{},{width:o||e,height:l||this.containerRef.current.offsetHeight||t})}),(p.sb||1==i)&&o>50&&this.setState({isLoad:1})}},this.inputRefs={},this.containerRef=l.createRef(),this.state={qrcardSize:{width:0,height:0},containerWidth:0,resizeKey:0,isLoad:!1}}UNSAFE_componentWillMount(){this.onScreenLoad()}componentDidMount(){this.props.loadBranding(),setTimeout((()=>{var e=document.querySelectorAll(".splide__slide");e&&e.forEach((e=>{e.removeAttribute("aria-hidden"),e.removeAttribute("role")}))}),100);var{postData:e}=this.props;if(e&&1==e.length){var t=document.querySelector(".tb_rc_arrow_left__"),i=document.querySelector(".tb_rc_arrow_right__");function l(){setTimeout((()=>{var e=document.querySelector(".splide__list");null!=e&&(e.style.transform="translateX(0)")}),100)}t&&i&&(document.querySelector(".tb_rc_arrow_left__").style="display:none",document.querySelector(".tb_rc_arrow_right__").style="display:none"),document.body.addEventListener("click",(function(){l()})),l(),window.addEventListener("resize",l)}else window.addEventListener("resize",(()=>{this.onScreenLoad()}));var n=document.querySelector("#kt_aside_toggle");null!=n&&n.addEventListener("click",this.reScrolled),window.addEventListener("resize",this.handleResize)}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}componentDidUpdate(){var e=Object.values(this.inputRefs)[0],{postData:t,completeDataObject:i,onClickPopUpSlider:n,parentID:l}=this.props;e&&Object.values(e)[5].length>0&&Object.values(e)[5].map(((e,o)=>{if(e.classList){var s=String(e.classList.value).split(" ").filter((e=>String(e).includes("tb_"))),a=s[0];String(s[0]).includes("tb_")&&(a=String(s[0]).replace("tb_",""));for(var r=t.findIndex((e=>e==a)),d=document.querySelectorAll(".tb_rc_post_container #".concat(e.id)),c=0;c<d.length;c++){var u=d[c],h=u.getAttribute("p_id");String(l)===String(h)&&u.addEventListener("click",(e=>{e.preventDefault();var t=i[a];n(r,t)}))}}}))}render(){var{postData:e,Reviews:t,completeDataObject:i,ThemeInfo:o,ThemeStyle:r,clickToShowPopUp:d,onClickToCTA:c,parentID:u,ProductSetting:h,CardStyle:p,onClickPopUpSlider:v,SnapUp:m}=this.props,{QrCode:g,Form:b}=m,x=u,{windowWidth:S,qrcardSize:y,containerWidth:C,resizeKey:j,isLoad:k}=this.state,I=r.column.desktop,N=r.column.mobile,P=r.slide.autoSlide,A=r.slide.slideDuration,T=r.slide.autoScrollStatus,L=1===p.content.trimcontent,q=!!(S<768||(0,a.Fr)()),z=e&&e.length?q?1:e.length>3?3:e.length:3,R=e&&e.length?q?1:e.length>3?3:e.length:3,E=S>900?5:S>800?4:3,D={},W=1!=T?!Object.keys(D).length&&"slide":"slide",B=(0,n.A)((0,n.A)({},D),{},{type:1!==T&&W,role:"article",label:"social widget",rewind:!0,speed:1e3,loop:!0,interval:1===P?1e3*A:5e3,perPage:I>0?I:q?1:e.length>E?E:e.length,gap:0,perMove:!1,autoplay:1===P,padding:"0",pagination:!1,arrows:!!q||e.length>(I>0?I:R),fixedHeight:L,breakpoints:{560:{perPage:N>0?N:1,perMove:N>0?N:1,arrows:e.length>(N>0?N:1)},767:{perPage:I>0?I-3<1?I:I-3:z,arrows:e.length>(I>0?I-3<1?I:I-3:z)},991:{perPage:I>0?I-4<1?I:I-4:z,arrows:e.length>(I>0?I-4<1?I:I-4:z)},1200:{perPage:I>0?I-1==0?I:I-1:z,arrows:e.length>(I>0?I-1==0?I:I-1:z)},1600:{perPage:I>0?I:R,arrows:e.length>(I>0?I:R)}}}),U=o.IsUser&&!(0,a.Fr)()&&(g.status||b.status);return(0,_.jsx)(_.Fragment,{children:""!=u?(0,_.jsxs)("div",{className:"tb_rc_post_container  ".concat(U?"tb_post_container_qr":null," "),ref:this.containerRef,children:[U?(0,_.jsx)("div",{style:{width:y.width,height:y.height},children:(0,_.jsx)("div",{className:"fixed-qr-card",style:{padding:0},children:(0,_.jsx)(l.Suspense,{fallback:"",children:(0,_.jsx)(f.default,{updateContainerSize:this.updateContainerSize,CardStyle:p,ThemeStyle:r,ThemeInfo:o,SnapUp:m,postSize:100,qrCardWidth:y.width,qrCardHeight:y.height,sliderClass:"tb_rc_post_in ",isLoad:k})})})}):null,(0,_.jsx)("div",{style:{width:U?"".concat(C-y.width,"px"):"100%"},children:(0,_.jsxs)(s.eB,{hasTrack:!1,className:"tb_rc_post_slider ".concat(U?"tb_post_slider_qr":""," ").concat(L?"tb_rc_fixed_height":""),options:B,ref:e=>this.inputRefs[x]=e,onMove:this.autoScrollSlider,children:[(0,_.jsx)("div",{className:"splide__track",children:(0,_.jsx)("div",{className:"splide__list",children:e&&e.length>0&&e.map(((e,n)=>{var l=i[e];return(0,_.jsx)("div",{className:"splide__slide tb_".concat(l.id),"data-id":l.id,p_id:u,children:(0,_.jsx)(w,{updateHeight:this.updateHeight,Post:l,index:n,Reviews:t,CardStyle:p,ThemeStyle:r,ProductSetting:h,onClickToCTA:c,ThemeInfo:o,clickToShowPopUp:d,onClickPopUpSlider:v},n)},n)}))})}),(0,_.jsx)("div",{className:"splide__arrows splide__arrows--ltr tb_rc_arrow_wrapper_",role:"navigation","aria-label":"Slider Navigation Wrapper",children:(0,_.jsxs)("div",{style:{display:k||!U?"flex":"none"},children:[(0,_.jsx)("div",{role:"navigation",className:"tb_rc_arrow splide__arrow splide__arrow--prev tb_rc_arrow_left__ tb__icon tb-arrow-left-alt ".concat(U?"left-arrow-wrapper":null),"aria-labelledby":"Navigation Previous Slide",children:" "}),(0,_.jsx)("div",{role:"navigation",className:"tb_rc_arrow splide__arrow splide__arrow--next tb_rc_arrow_right__ tb__icon tb-arrow-right-alt","aria-labelledby":"Navigation Next Slide",children:" "})]})})]},j)})]}):null})}}const j=(0,l.memo)((0,o.Ng)((e=>({loaderData:e.loaderData})),(e=>({nextData:(t,i,n,l,o,s,a,r)=>e((0,y.wF)(t,i,n,l,o,s,a,r))})))(C))},95098:()=>{}}]);