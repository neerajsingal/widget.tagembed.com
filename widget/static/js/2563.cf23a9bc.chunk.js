"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[2563],{82603:(e,t,a)=>{a.d(t,{Z:()=>u});var i=a(96011),n=a.n(i),l=a(296),s=a(52867),r=a(66345),o=a(63246),d=a(14313),c=a(1448);var h;const u=function(e,t,a,i,u,v,p){let g=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;return w=>{var b;if(!g&&(r.sb||r.eg))return;const{wall:m}=l.A.getState().appData,f=l.A.getState().appData.postData,_=4===m.ThemeInfo.id&&1==m.ThemeStyle.row;var k=(0,c.AM)(s.wV);if(k&&k.headers&&Object.keys(k.headers).length>0)(k.headers.tag||p)&&(k.headers.tag=1),k.headers.keywords?(k.headers.keywords.length,k.headers.keywords=`${k.headers.keywords}`):p&&(k.headers.keywords=p),k.headers.action=1;else if(p){var y={tag:1,keywords:`${p}`,action:1};k.headers=y}else{y={action:1};k.headers=y}var x=(null===f||void 0===f||null===(b=f.filteredDataObject[i])||void 0===b?void 0:b.length)||0;const j=null!==f&&void 0!==f&&f.filteredDataObject?Object.keys(f.filteredDataObject):[];j.length>0&&0==i&&j.map((e=>{var t;x+=(null===f||void 0===f||null===(t=f.filteredDataObject[e])||void 0===t?void 0:t.length)||0})),x<a&&x!=i?(h&&h.cancel(),h=n().CancelToken.source(),k.cancelToken=h.token,w({type:o.dC,payload:!0}),w({type:o.Sg,payload:{appendData:{after:f.appendData.after,networkID:i,heightEvent:v,tagName:p},filterNetworkId:i,newData:[],hasMoreData:{[i]:{hasMoreData:!0,after:f.appendData.after}},tagName:p}}),u&&(new d.A).get(`${r.iT}${e}/${t}/${a}/${i}/1/${u}`,k).then((e=>{var t;const n=(t=e).data.data;w({type:o.Sg,payload:{appendData:{after:t.data.after,networkID:i,heightEvent:v,tagName:p},filterNetworkId:i,newData:n,hasMoreData:{[i]:{hasMoreData:!(_&&Object.keys(t.data.data).length<a)&&1==t.data.hasPost,after:t.data.after}},tagName:p,isFilter:!0}}),w({type:o.dC,payload:!1})})).catch((e=>{w({type:o.dC,payload:!1})}))):(w({type:o.Sg,payload:{appendData:{after:f.appendData.after,networkID:i,heightEvent:v,tagName:p},filterNetworkId:i,newData:[],hasMoreData:{[i]:{hasMoreData:!0,after:f.appendData.after}},tagName:p}}),w({type:o.dC,payload:!1}))}}},81572:(e,t,a)=>{a.r(t),a.d(t,{default:()=>l});var i=a(44414);const n=(e,t,a)=>(0,i.jsx)("div",{className:"tb_avg_rating_ico__ tb__icon tb-star-outline",style:{color:e,fontSize:a,minWidth:a+"px"},children:(0,i.jsx)("div",{className:"tb_avg_rating_ico_fill__ tb__icon tb-star-fill",style:{color:e,width:10*t+"%",fontSize:a},children:(0,i.jsx)("div",{})})}),l=e=>{let{rating:t,size:a,color:l}=e;const s=t>5?5:t,r=Math.trunc(5-s),o=Math.trunc(s),d=String(s).split(".")[1];return(0,i.jsxs)("div",{className:"tb_avg_rating__","aria-label":"Ratings",role:"status",children:[o?[...Array(o)].map(((e,t)=>(0,i.jsx)("div",{"data-index":t,className:"tb_avg_rating_ico__ tb__icon tb-star-fill",style:{color:l||"#F8B90C",fontSize:a,minWidth:a+"px"},children:(0,i.jsx)("div",{})},t))):null,d>0?n(l||"#F8B90C",d,a):null,r?[...Array(r)].map(((e,t)=>(0,i.jsx)("div",{className:"tb_avg_rating_ico__ tb__icon tb-star-outline",style:{fontSize:a,minWidth:a+"px"},children:(0,i.jsx)("div",{})},t))):null]})}},92663:(e,t,a)=>{a.r(t),a.d(t,{default:()=>r});var i=a(9950),n=a(91697),l=a(44414);const s=i.lazy((()=>a.e(620).then(a.bind(a,20620))));class r extends i.PureComponent{render(){const{networkId:e,networkClass:t,iconStyle:a}=this.props;return 505==(null===a||void 0===a?void 0:a.default)||[7,4,36].includes(e)?(0,l.jsx)(i.Suspense,{fallback:(0,l.jsx)(l.Fragment,{}),children:(0,l.jsx)(s,{networkId:e,networkClass:t})}):(0,l.jsx)("div",{className:`${t} tb__icon tb-${(0,n.EC)(e)}`,"aria-label":`post network ${(0,n.Oi)(e)}`,children:(0,l.jsx)("div",{})})}}},82563:(e,t,a)=>{a.r(t),a.d(t,{default:()=>y});var i=a(9950),n=a(10300),l=a(52867),s=a(80415),r=a(66345),o=a(78213),d=a(82603),c=a(81572),h=a(76506),u=a(92663),v=a(44414);class p extends i.PureComponent{constructor(e){super(e),this.toggleDropdown=()=>{const{activeId:e}=this.state,{reviewFilters:t}=this.props;if(0!==e&&t.length>0){const a=t.filter((t=>t.Network.id===e));a&&a.length>0&&window.open(a[0].Network.link,"_blank")}else this.setState((e=>({isOpen:!this.state.isOpen})))},this.handleClickOutside=e=>{this.dropdownRef.current&&!this.dropdownRef.current.contains(e.target)&&this.setState((e=>({isOpen:!1})))},this.totalReviewNetworks=e=>t=>{var a;const{network:i,activeId:n}=(0,h.pD)(e);this.props.changeFilterStatus&&this.props.changeFilterStatus(2);const l=Math.floor(Date.now()/1e3),{appendData:s,wall:r}=this.props;let o=r.ThemeStyle.totalPosts;this.props.filterPostDataAppendWebFilter(null===r||void 0===r||null===(a=r.ThemeInfo)||void 0===a?void 0:a.webId,l,o,n,s.after,s.heightEvent,null,1),this.setState({network:i,activeId:n,networkID:n})},this.getReviewLogo=e=>{switch(e){case"Overall":return"";case"Facebook":return"facebook";case"Google Review":return"google";case"Yelp":return"yelp";case"Etsy":return"etsy";case"Amazon":return"amazon";case"Tripadvisor":return"tripadvisor";case"Review Hub":return r.MH?"tagbox":"tagembed";case"AliExpress":return"aliexpress";case"Airbnb":return"airbnb";case"Trustpilot Reviews":return"trustpilot";case"UGC Uploader":return"snapup";case"Booking.com":return"booking"}},this.state={getNetwork:[],networkID:null,isOpen:!1,activeId:0,network:{name:"",avgRate:0,totalReviews:0,color:this.props.wall.Banner[0].title.style.font}},this.dropdownRef=i.createRef()}componentDidMount(){document.addEventListener("click",this.handleClickOutside);const{network:e,activeId:t}=(0,h.pD)(this.props.reviewFilters.reviewFilters);this.setState({network:e,activeId:t,networkID:t})}componentDidUpdate(e){if(e.Banner!==this.props.Banner){const{network:e,activeId:t}=(0,h.pD)(this.props.reviewFilters.reviewFilters);this.setState({network:e,activeId:t,networkID:t})}}componentWillUnmount(){document.removeEventListener("click",this.handleClickOutside)}render(){const{reviewFilters:e,wall:t}=this.props,{isOpen:a,network:n,activeId:o}=this.state,{Banner:d}=t,p={color:d[0].subTitle.style.color,fontFamily:d[0].subTitle.style.font,fontSize:`${Number(d[0].subTitle.style.size)}px`},g={color:d[0].title.style.color,fontFamily:d[0].title.style.font,fontSize:`${Number(d[0].title.style.size)}px`},w={backgroundColor:d[0].button.style.background,color:d[0].button.style.color,fontSize:`${Number(d[0].button.style.size)}px`};return(0,v.jsx)("div",{className:"tb_rv_container",style:{padding:t.CardStyle.style.margin/2},children:(0,v.jsxs)("div",{className:"tb_rv_wrapper",style:{borderRadius:t.CardStyle.style.radius,backgroundColor:d[0].background.primaryColor},children:[null!==e&&void 0!==e&&e.reviewFilters&&(null===e||void 0===e?void 0:e.reviewFilters.length)>1?(0,v.jsx)("div",{className:"tb_rv_scrollable",children:(0,v.jsx)("div",{className:"tb_rv_filter_wrap",children:(0,v.jsxs)("div",{className:"tb_rv_filter_wrap_in",children:[Object.keys(null===e||void 0===e?void 0:e.reviewFilters).length?(0,v.jsx)("div",{className:"tb_fil_soc_btn"+(0===o?" tb_fil_active":""),onClick:this.totalReviewNetworks(null===e||void 0===e?void 0:e.reviewFilters),children:(0,v.jsx)("div",{className:"tb_fil_btn_txt",children:t.ThemeStyle.language.text.all})}):null,Object.keys(null===e||void 0===e?void 0:e.reviewFilters).length&&(null===e||void 0===e?void 0:e.reviewFilters.map(((e,t)=>(0,v.jsx)("div",{className:"tb_fil_soc_btn"+(o===e.id?" tb_fil_active":""),onClick:this.totalReviewNetworks([e]),children:(0,v.jsxs)(i.Suspense,{fallback:(0,v.jsx)(v.Fragment,{}),children:[" ",(0,v.jsx)(u.default,{networkClass:"tb_review_filter_ico",networkId:e.id,iconStyle:e.icon})]})},t))))]})})}):null,(0,v.jsxs)("div",{className:"tb_rv_banner_wrap",style:{minHeight:d.banner_height},children:[(0,v.jsxs)("div",{className:"tb_rv_rating",children:[(0,v.jsxs)("div",{className:"tb_rv_head_text",children:["Overall"!==n.name?(0,v.jsx)("div",{className:"tb_rv_head_logo",children:(0,v.jsx)("img",{className:"tb_rv_head_log_img","data-name":this.getReviewLogo(n.name),src:`${s.th}media/review-logo/${this.getReviewLogo(n.name)}.svg`,height:40,width:50,style:{marginTop:"Trustpilot Reviews"===n.name?-6:""}})}):null,(0,v.jsx)("div",{className:"tb_rv_head_r_text "+(r.MH?`tb-cTBfont-${d[0].title.variant}`:""),style:r.MH?g:{},children:d[0].title.text})]}),(0,v.jsxs)("div",{className:"tb_rv_rating_wrap",children:[(0,v.jsx)("div",{className:"tb_rv_review_count "+(r.MH?`tb-cTBfont-${d[0].title.variant}`:""),style:r.MH?g:{color:d[0].subTitle.color},children:n.avgRate}),(0,v.jsx)("div",{className:"tb_rv_rview_star",children:(0,v.jsx)(c.default,{size:!1,rating:n.avgRate,color:d[0].star.color})}),(0,v.jsxs)("div",{className:`tb_rv_review_total_post tb-cTBfont-${r.MH?d[0].title.variant:d[0].subTitle.styl.variant}`,style:r.MH?g:p,children:[(0,h.sl)(n.totalReviews)," ",d[0].subTitle.variant?d[0].subTitle.variant:"reviews"," "]})]})]}),(0,v.jsxs)("div",{className:"tb_rv_banner_btn_wrap",ref:this.dropdownRef,children:[(0,v.jsx)("div",{className:`tb_rv_banner_btn tb-cTBfont-${d[0].button.style.variant}`,onClick:this.toggleDropdown,style:w,children:d[0].button.text}),a&&(0,v.jsxs)("div",{className:"tb_rv_dropdown_ "+(a?"tb_rv_dd_show":""),children:[(0,v.jsx)("div",{className:"tb_rv_dropdown_title",children:"Where do you want to leave a review?"}),Object.keys(e).length&&(null===e||void 0===e?void 0:e.reviewFilters.map(((e,a)=>{var i;return(0,v.jsxs)("div",{className:"tb_rv_dropdown_list",onClick:a=>e.link?window.open(29==e.id?`${(0,l.dq)()}${t.ThemeInfo.webId}?${t.ThemeInfo.webId!=t.ThemeInfo.wallId?"website=true&":""}onsite-upload`:e.link,"_blank"):null,children:[(0,v.jsx)(u.default,{networkClass:"tb_rv_dd_ico",networkId:e.id,iconStyle:null===(i=t.CardStyle)||void 0===i?void 0:i.icon}),e.name&&String(e.name).includes("Google")?"Google":String(e.name).includes("UGC Upload")?"SnapUp":e.name]},a)})))]})]})]})]})})}}const g=(0,n.Ng)(null,{filterPostDataAppendWebFilter:d.Z})(p),w=i.lazy((()=>a.e(912).then(a.bind(a,60912)))),b=i.lazy((()=>a.e(4189).then(a.bind(a,34189)))),m=i.lazy((()=>a.e(3820).then(a.bind(a,63820)))),f=i.lazy((()=>Promise.all([a.e(8092),a.e(3556),a.e(4622)]).then(a.bind(a,44622)))),_=i.lazy((()=>Promise.all([a.e(8400),a.e(8674)]).then(a.bind(a,30629))));class k extends i.PureComponent{constructor(){super(),this.updateContainerSize=()=>{if(this.containerRef.current){if(r.aD){const{wall:e}=this.props,{Banner:t,Ticker:a}=e;this.setState({cardHeight:window.innerHeight-(a.height+t.status?t.height:0)})}this.setState({containerSize:{width:this.containerRef.current.offsetWidth,height:this.containerRef.current.offsetHeight}})}},this.onLoadSpotLight=()=>{const{postData:e}=this.props;if(e.completeDataObject&&Object.keys(e.completeDataObject).length>0){var t=null;Object.entries(e.completeDataObject).forEach((e=>{let[a,i]=e;1==(null===i||void 0===i?void 0:i.highlight)&&null==t&&(t=i)})),t&&Object.keys(t).length>0&&(0,o.ar)(t)}},this.updateHeaderHeight=e=>{this.setState({CusBannerHeight:e})},this.state={containerSize:{width:null,height:null},CusBannerHeight:0,cardHeight:0,parentID:""},this.containerRef=i.createRef()}componentDidMount(){var e,t;(this.updateContainerSize(),window.addEventListener("resize",this.updateContainerSize),this.observer=new IntersectionObserver((e=>{let[t]=e;t.isIntersecting&&((0,l.KL)(),this.observer.disconnect())}),{threshold:.002}),null!==this&&void 0!==this&&null!==(e=this.containerRef)&&void 0!==e&&e.current)&&this.observer.observe(null===this||void 0===this||null===(t=this.containerRef)||void 0===t?void 0:t.current);r.aD&&!r.Vn&&this.onLoadSpotLight()}componentWillUnmount(){window.removeEventListener("resize",this.updateContainerSize)}componentDidUpdate(){var e;let t=document.querySelector(".tb_app_container"),a=l.wV?l.wV:null===t||void 0===t||null===(e=t.parentNode)||void 0===e?void 0:e.id;this.setState({parentID:a})}render(){var e,t,a,n,o,d,c;const{wall:h,webFilters:u,reviewFilters:p,languageSetting:k,postData:y,filter_tags:x}=this.props,{containerSize:j,parentID:S,cardHeight:D}=this.state,{SnapUp:I,ThemeInfo:N,Banner:F,ThemeStyle:C,CustomBanner:R,Ticker:T}=h,B=null===N||void 0===N?void 0:N.id,$=(null===I||void 0===I?void 0:I.ruleStatus)&&(![63,64,50,82].includes(B)||r.aD),H=![55,52,60,16,47,57,61,86,62,50,81,80,84,82].includes(B),z=!r.aD&&1===(null===C||void 0===C?void 0:C.filterStatus)&&(!u||u.length>1),M=!!(x&&x.length>0),O=!(!r.aD||null===h||void 0===h||null===(e=h.spotlight)||void 0===e||!e.status);let E=""!=u&&u&&u.length?u.map((e=>{let{Network:t}=e;return null===t||void 0===t?void 0:t.id})):null;!r.HY&&null!==h&&void 0!==h&&null!==(t=h.Background)&&void 0!==t&&t.image&&h.Background.image.includes(s.vr)&&(h.Background.image=String(h.Background.image).replace(s.Vy,""));const A=1===(null===h||void 0===h||null===(a=h.Background)||void 0===a?void 0:a.status)&&84!==B?{backgroundImage:null!==h&&void 0!==h&&null!==(n=h.Background)&&void 0!==n&&n.url?`url(${null===h||void 0===h||null===(o=h.Background)||void 0===o?void 0:o.url})`:"",backgroundColor:null===h||void 0===h||null===(d=h.Background)||void 0===d?void 0:d.color}:null,L=!![63,64].includes(B)&&1==(null===(c=h.Reviews)||void 0===c?void 0:c.themeStatus)||r.aD||r.Vn||r.MH,W=r.aD&&!r.Vn&&(null===T||void 0===T?void 0:T.status),P=W&&1==(null===T||void 0===T?void 0:T.position),U=W&&2==(null===T||void 0===T?void 0:T.position),G=!!(F&&Object.keys(F).length>0),V=!r.aD&&H&&(z||M)&&!G,Y=G?(0,l.Gv)(F)?F:F[0]:{},q=!!F&&Object.keys(F).length&&1===(null===Y||void 0===Y?void 0:Y.status)&&[0,1].includes(null===Y||void 0===Y?void 0:Y.position)&&![57,84,87,82].includes(B)&&!O,X=(null===F||void 0===F?void 0:F.status)&&2==(null===F||void 0===F?void 0:F.position)&&!O&&![57,84,87,82].includes(B),Z=G&&1===(null===Y||void 0===Y?void 0:Y.status)&&6==(null===Y||void 0===Y?void 0:Y.type)||8==(null===Y||void 0===Y?void 0:Y.type)&&0===(null===C||void 0===C?void 0:C.filterStatus)&&![57,84,87,82].includes(B);return(0,v.jsxs)("div",{className:"tb_app_container",ref:this.containerRef,children:[P?(0,v.jsx)(i.Suspense,{fallback:(0,v.jsx)(v.Fragment,{}),children:(0,v.jsx)(b,{Ticker:T})}):null,q?(0,v.jsx)(i.Suspense,{fallback:(0,v.jsx)(v.Fragment,{}),children:(0,v.jsx)(w,{Banner:F,CustomBanner:R,updateHeaderHeight:this.updateHeaderHeight})}):null,(0,v.jsxs)("div",{className:"tb_app_wrapper",style:A,children:[Z&&q?(0,v.jsx)(i.Suspense,{fallback:(0,v.jsx)(v.Fragment,{}),children:(0,v.jsx)(g,{isHeader:!1,reviewFilters:p,languageSetting:k,bannerType:null===Y||void 0===Y?void 0:Y.bannerType,appendData:y.appendData,wall:h,postData:y})}):null,$?(0,v.jsxs)(i.Suspense,{fallback:(0,v.jsx)(v.Fragment,{}),children:[" ",(0,v.jsx)(_,{ThemeInfo:N,SnapUp:I,id:B,webId:N.webId,wallId:N.wallId})," "]}):null,V?(0,v.jsxs)(i.Suspense,{fallback:(0,v.jsx)(v.Fragment,{}),children:[" ",(0,v.jsx)(m,{type:2,webFilters:u,filter_tags:x,appendData:y.appendData,wall:h,postData:y})]}):"",L&&!O?(0,v.jsx)(i.Suspense,{fallback:(0,v.jsx)(v.Fragment,{}),children:(0,v.jsx)(f,{...this.props,cardHeight:D,brandingNetworks:E,containerSize:j,parentID:S,CusBannerHeight:this.state.CusBannerHeight})}):null,Z&&X?(0,v.jsx)(i.Suspense,{fallback:(0,v.jsx)(v.Fragment,{}),children:(0,v.jsx)(g,{isHeader:!1,reviewFilters:p,appendData:y.appendData,wall:h,postData:y})}):null]}),X?(0,v.jsx)(i.Suspense,{fallback:(0,v.jsx)(v.Fragment,{}),children:(0,v.jsx)(w,{Banner:F,CustomBanner:R})}):null,U?(0,v.jsx)(i.Suspense,{fallback:(0,v.jsx)(v.Fragment,{}),children:(0,v.jsx)(b,{Ticker:T})}):null]})}}const y=(0,n.Ng)((e=>({renderId:e.renderId})),null)(k)},80415:(e,t,a)=>{a.d(t,{$R:()=>p,Bo:()=>s,Fc:()=>m,Fp:()=>g,GR:()=>d,UM:()=>c,Vy:()=>y,ZQ:()=>h,bW:()=>u,fZ:()=>x,g5:()=>v,gX:()=>k,gc:()=>f,hX:()=>b,iP:()=>o,om:()=>r,qF:()=>_,th:()=>l,vr:()=>n,xX:()=>w});var i=a(66345);const n=!String(window.location.href).includes("tagbox=true")&&String(window.location.href).includes("widgets.tagembed")?"https://cdn.tagembed.com/":i.HY?"https://cloud.tagshop.ai/":"https://cloud.tagbox.com/",l=`${n}react-app/`,s="https://app.taggbox.com/widget/",r=i.HY?"https://tagshop.ai/":window.location.href.includes("widget.tagembed")||"https://taggbox.com/",o="https://taggbox.com/widget/",d="https://display.socialwalls.com",c="https://display-test.socialwalls.com",h="https://widget.socialwalls.com",u="https://test.taggbox.com/embed-widget/react/",v="https://widget-test.tagembed.com/",p="https://widget.tagshop.ai",g=[20,5,19,3,4,50,53,85,49,83,79],w=[20,5,19,3,4,53,79,83,85,49],b=[20,5,19,3,4,53,63,64],m=[20,5,19,3,4,53,63,64,50],f=[62,63,65,78,66,67,69,64,68],_=`${l}media/error/no-product.svg`,k=`${l}media/error/no-image.svg`,y="https://cloud.taggbox.com/uploaded/",x=window.location.href.includes("tagembed")},76506:(e,t,a)=>{a.d(t,{C9:()=>g,Cq:()=>p,HI:()=>u,Ph:()=>k,S2:()=>f,TW:()=>j,Uy:()=>c,fF:()=>w,hZ:()=>b,hz:()=>v,p5:()=>y,pD:()=>S,pj:()=>x,sl:()=>_,um:()=>h,wG:()=>m});var i=a(66345),n=a(80415),l=a(296),s=a(86961);let r=[],o=!1;const d=new Headers({"Content-Type":"application/json",Authorization:`Bearer ${i.$x}`,Productdomain:i.QR}),c=e=>{var t;return null===(t=document.getElementById("tb_onsite_btn_id"))||void 0===t?void 0:t.classList.toggle("tb_onsite_btn_disabled",1===e)},h=e=>{var t;if(i.aD)return window.parent.postMessage(e,"*");const a={1:()=>window.onShowDemoPost(1),2:()=>window.hendleFeeds("addFeeds"),3:()=>window.hendleFeeds("manageFeeds")};null===(t=a[e])||void 0===t||t.call(a)},u=e=>{try{r.push(e)}catch(t){console.log(t)}},v=e=>e&&""!==e&&!e.includes("ui-avatars"),p=e=>{if(!e)return"0 Byte";const t=Math.floor(Math.log(e)/Math.log(1024));return{size:Math.round(e/Math.pow(1024,t),2),sizeText:["Bytes","KB","MB","GB","TB"][t]}},g=e=>e.startsWith("http://")||e.startsWith("https://")?e:"https://"+e,w=e=>{if(!e||isNaN(e))return"invalid date";const t=Date.now()-1e3*e;if(isNaN(t)||t<0)return"invalid date";if(t<6e4)return"just now";const a=[{label:"year",ms:31536e6},{label:"month",ms:2592e6},{label:"week",ms:6048e5},{label:"day",ms:864e5},{label:"hour",ms:36e5},{label:"minute",ms:6e4}].find((e=>{let{ms:a}=e;return t>=a}));if(!a)return"just now";const i=Math.floor(t/a.ms);return`${i} ${a.label}${i>1?"s":""} ago`},b=()=>[`${n.om}`,"Website Widget"],m=e=>e&&String(e)?unescape(e).split("/").pop().split("/").slice(-1).join().split(".").shift():"",f=["localhost","widget","wall_id="].every((e=>(0,i.vq)(e)))?"taggbox_main":[`${i.Xg}.${i.IF}`,`${i.Xg}${i.t6}${i.IF}`,`${i.Xg}s.${i.IF}`].some((e=>(0,i.vq)(e)))?"tag_main__root":i.HY?"taggShopRoot":"taggbox_main",_=e=>{const t=Math.floor(Math.log10(e)/3)||0;return t&&e?+(e/Math.pow(1e3,t)).toFixed(0)+["","K","M","B","T"][t]:e},k=e=>i.MH?e:atob(e),y=(e,t,a)=>e&&e.length>0?e.findIndex((e=>e.id===t)):a,x=()=>{try{const{wall:e}=l.A.getState().appData,{webId:t,wallId:a,ownerId:n}=e.ThemeInfo;o||(window.addEventListener("beforeunload",(()=>{if(0===r.length)return;const e=r.reduce(((e,t)=>e+t),0);e>0?fetch(i.KQ,{method:"POST",headers:d,body:JSON.stringify({action:1,model:null!==s.Ex&&void 0!==s.Ex&&s.Ex.includes("website")?"website":"wall",playCount:r.length,wall:i.aD?a:t,playTime:e,owner:n}),keepalive:!0}).finally((()=>(r=[],o=!1))):(r=[],o=!1)})),o=!0)}catch(e){console.error(e)}},j=e=>new Promise(((t,a)=>Object.assign(new Image,{onload:function(){t({width:this.naturalWidth,height:this.naturalHeight})},onerror:e=>a(new Error(`Image loading error: ${e.message}`)),src:e}))),S=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{let i=0,n=0,s="",r=0,o="",d=[];if(t)return e.map((e=>{i+=e.averageReviews*e.totalReviews,n+=e.totalReviews,s="Overall",r=0,o=e.color,d=(null===e||void 0===e?void 0:e.reviewList)||[]})),{network:{name:s,avgRate:isNaN(i/n)?0:(i/n).toFixed(1),totalReviews:n,color:o,reviewList:d},activeId:r};{var a;const{wall:t}=l.A.getState().appData;let o=null===t||void 0===t||null===(a=t.Banner)||void 0===a?void 0:a.title_font_color;return e.map((a=>{var l;i+=a.averageReviews*a.totalReviews,n+=a.totalReviews,s=e.length>1?"Overall":a.name,r=e.length>1?0:a.id,o=e.length>1?null===t||void 0===t||null===(l=t.Banner)||void 0===l?void 0:l.title_font_color:a.color,d=e.length>1?(e=>{try{let t=new Map;return e.forEach((e=>{e.Network.reviewList.forEach((e=>{t.set(e.rating,(t.get(e.rating)||0)+e.count)}))})),Array.from(t,(e=>{let[t,a]=e;return{rating:t,count:a}}))}catch(t){}})(e):(null===a||void 0===a?void 0:a.reviewList)||[]})),{network:{name:s,avgRate:isNaN(i/n)?0:(i/n).toFixed(1),totalReviews:n,color:o,reviewList:d},activeId:r}}}catch(i){console.log("ex",i)}}},91697:(e,t,a)=>{a.d(t,{EC:()=>i,Oi:()=>l,Yo:()=>n});const i=e=>({0:"manual-upload",1:"twitter",2:"instagram",3:"facebook",4:"google",5:"pinterest",6:"flickr",7:"youtube",8:"vimeo",10:"linkedin",11:"tumblr",12:"rss",13:"star",15:"workplace",18:"instagram",19:"yelp",20:"slack",21:"yammer",23:"airbnb",25:"soundcloud",26:"giphy",27:"deviantart",28:"tiktok",29:"onsite-upload",30:"vkontakte",32:"chrome",33:"collabration",34:"amazon",35:"tripadvisor",36:"star",37:"aliexpress"}[e]||""),n=e=>({0:"#313A53",1:"#29a9e1",2:"#000000",3:"#1b74e4",4:"#4081ed",5:"#e60022",6:"#0a63dc",7:"#FF0000",8:"#1eb8eb",10:"#0a66c2",11:"#36465d",12:"#f78422",13:"#FABF04",15:"#4767ab",18:"#000000",19:"#be362e",20:"#510d4e",21:"#0078d4",23:"#ff7977",25:"#ff7700",26:"#000000",27:"#00e59b",28:"#000000",29:"#613983",30:"#0077FF",32:"#4c8bf5",33:"#4e69ed",34:"#4e69ed",35:"#60c196",36:"#00e9ff",37:"#E52F20"}[e]||""),l=e=>({0:"Manual Upload",1:"Twitter",2:"Instagram",3:"Facebook",4:"Google",5:"Pinterest",6:"Flickr",7:"YouTube",8:"Vimeo",10:"LinkedIn",11:"Tumblr",12:"RSS",13:"Star",15:"Workplace",18:"Instagram",19:"Yelp",20:"Slack",21:"Yammer",23:"Airbnb",25:"Soundcloud",26:"Giphy",27:"Deviantart",28:"Tiktok",29:"Review Hub",30:"Vkontakte",32:"Chrome Extension",33:"Collab with Creators",34:"Amazon",35:"Tripadvisor",36:"Review Hub",37:"Aliexpress"}[e]||"")}}]);