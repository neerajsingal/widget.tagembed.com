(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[8261],{35643:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>F});var o=a(89379),i=a(9950),s=a(10300),n=a(66345),l=a(10467),r=a(76506),d=a(44414),c=i.lazy((()=>Promise.all([a.e(8092),a.e(1823),a.e(3556),a.e(1828)]).then(a.bind(a,51828)))),p=i.lazy((()=>Promise.all([a.e(1823),a.e(9924)]).then(a.bind(a,69924)))),h=i.lazy((()=>Promise.all([a.e(8092),a.e(7482)]).then(a.bind(a,7482)))),u=i.lazy((()=>Promise.all([a.e(2041),a.e(1883)]).then(a.bind(a,29779))));class _ extends i.PureComponent{constructor(t){var e;super(t),e=this,this.handleResize=()=>{this.setState({winSize:{width:window.innerWidth,height:window.innerHeight}},(()=>{var{mediaSize:t}=this.state;this.setSize(t.height,t.width)}))},this.setSize=(t,e)=>{var{hideContent:a}=this.props,{winSize:o}=this.state,i=e<=0?1e3:e,s=t<=0?1e3:t,n=Math.max(1,o.width-535),l=Math.max(1,o.height-(90+(a?69:0))),r=Math.min(n/i,l/s),d={height:s*r,width:i*r,paddingBottom:100*s/i},c={winHeight:o.height,winWidth:o.width,height:d.height,width:d.width,paddingBottom:d.paddingBottom};this.props.allSizeCallback(c),this.setState({mediaSize:{height:d.height,width:d.width,paddingBottom:d.paddingBottom}})},this.onMediaLoad=function(){var t=(0,l.A)((function*(t){var{height:a,width:o}=t.media;if(a&&o)e.setSize(a,o);else{var i=document.querySelector(".tb_media-".concat(t.id)),s=i?parseInt(i.getAttribute("data-height"),10):0,n=i?parseInt(i.getAttribute("data-width"),10):0;if(n>0&&s>0)e.setSize(s,n);else try{var{width:l,height:d}=yield(0,r.TW)(t.media.image.small);e._isMounted&&e.setSize(d,l)}catch(c){e._isMounted&&e.setSize(1e3,1e3)}}}));return function(e){return t.apply(this,arguments)}}(),this.state={winSize:{width:window.innerWidth,height:window.innerHeight},mediaSize:{height:0,width:0,paddingBottom:0}}}static getDerivedStateFromProps(t,e){return t.Post!==e.Post?(0,o.A)((0,o.A)({},e),{},{Post:t.Post}):null}componentDidMount(){var{Post:t}=this.props;window.addEventListener("resize",this.handleResize),this._isMounted=!0,this.onMediaLoad(t)}componentDidUpdate(t){this.props.Post!==t.Post&&this.onMediaLoad(this.props.Post)}componentWillUnmount(){this._isMounted=!1,window.removeEventListener("resize",this.handleResize)}render(){var{Post:t,ThemeInfo:e,onUpdateProdImgIdx:a,showTooltip:o}=this.props,{winSize:s,mediaSize:n}=this.state,l={maxHeight:s.width>991?n.height:null,maxWidth:s.width>991?n.width:null,aspectRatio:"".concat(n.width," / ").concat(n.height),flexBasis:s.width>991?n.height:null},r={paddingBottom:"".concat(n.paddingBottom,"%"),width:s.width>991?n.width:null};return(0,d.jsx)("div",{className:"tb_post_modal_media_holder",style:l,children:(0,d.jsx)("div",{className:"tb_post_modal_media",style:r,children:(0,d.jsx)("div",{className:"tb_post_modal_media_",children:t.mediaList&&t.mediaList.length>0?(0,d.jsx)(i.Suspense,{fallback:(0,d.jsx)(d.Fragment,{}),children:(0,d.jsx)(c,{winSize:s,Post:t,mediaSize:n,ThemeInfo:e,onUpdateProdImgIdx:a,showTooltip:o})}):[2,4].includes(t.type)?(0,d.jsx)(i.Suspense,{fallback:(0,d.jsx)(d.Fragment,{}),children:(0,d.jsx)(p,{winSize:s,Post:t,Item:!1,Products:t.products,mediaSize:n,ThemeInfo:e,opacity:1,showTooltip:o,hotspot:!0})}):[3,5].includes(t.type)?t.isAudio?(0,d.jsx)(i.Suspense,{fallback:(0,d.jsx)(d.Fragment,{}),children:(0,d.jsx)(u,{Post:t})}):(0,d.jsx)(i.Suspense,{fallback:(0,d.jsx)(d.Fragment,{}),children:(0,d.jsx)(h,{Post:t,mediaSize:n},t.id)}):null})})})}}var m=a(92663),v=a(52867),b=a(78167),g=a(6723);class w extends i.PureComponent{constructor(t){super(t),this.state={picture:t.Post.author.picture}}UNSAFE_componentWillReceiveProps(t){var{Post:e}=t;this.setState({picture:e.author.picture})}render(){var t,e,a,o,i,{Post:s,CardStyle:l,Reviews:r,ThemeInfo:c}=this.props,{name:p,username:h}=s.author,u=l.author.status,_="".concat(h&&h.length>0?"@":"").concat(null===h||void 0===h?void 0:h.replace(/\s+/g,"")),w=!(n.HY&&!u||0==u||(0,v.zK)(p))||!(!n.aD&&!n.Vn),x=0==s.timePost||s.author.isInstaUser,f=!(!l.timeStatus||0==u||x),y=!(!l.timeStatus||x);return w||y||null!==l&&void 0!==l&&null!==(t=l.icon)&&void 0!==t&&t.status?(0,d.jsxs)("div",{className:"tb_post_modal_post_author",children:[(0,d.jsxs)("div",{className:"tb_post_modal_author_details",children:[w?(0,d.jsx)(b.default,{tabStart:2,isPopup:!0,author:s.author,link:s.link,networkId:s.networkId,alt:[1533063].includes(null===c||void 0===c?void 0:c.ownerId)?s.author.name:s.createdAt,authorClass:"tb_post_modal_author_media tb-cTBfont-".concat(l.author.variant),inView:!0}):null,(0,d.jsxs)("div",{className:"tb_post_modal_author_deatils",children:[w?(0,d.jsx)("div",{className:"tb_post_modal_author_wrap",children:(0,d.jsxs)("a",{href:s.link&&n.yR?s.link:"#",tabIndex:3,target:"_blank",className:"tb_post_modal_author_usrname tb-cTBfont-".concat(l.author.variant),children:[p," "]})}):null,(0,d.jsx)("div",{className:"tb_post_modal_author_info",children:null!==(e=s.author)&&void 0!==e&&e.aiStatus?(0,d.jsxs)("div",{className:"tb_post_modal_author_handlename",children:[null===r||void 0===r||null===(a=r.reviewDetails)||void 0===a?void 0:a.avgRating," Based on ",null===r||void 0===r||null===(o=r.reviewDetails)||void 0===o?void 0:o.totalReviewGiven," reviews"]}):(0,d.jsxs)(d.Fragment,{children:[w?(0,d.jsx)("div",{className:"tb_post_modal_author_handlename tb-cTBfont-".concat(l.author.variant),children:_}):null,f?(0,d.jsx)("div",{className:"tb_post_modal_seprator_dot",children:(0,d.jsx)("div",{})}):null,y?(0,d.jsx)(g.default,{createdAt:s.createdAt,timeClass:"tb_post_modal_post_time tb-cTB font-".concat(l.author.variant)}):null]})})]})]}),null!==l&&void 0!==l&&null!==(i=l.icon)&&void 0!==i&&i.status?(0,d.jsx)("div",{className:"tb_post_modal_social_wrapper",children:(0,d.jsx)(m.default,{tabStart:4,link:s.link,networkClass:"tb_post_modal_social_ico tb-cTBfont-".concat(l.author.variant),networkId:s.networkId,iconStyle:l.icon,isPopUp:!0})}):null]}):null}}var x=a(93152),f=a(21850),y={sharePostPopUP:x.CW};const I=(0,s.Ng)(null,y)((t=>{var e,a,{sharePostPopUP:o,item:i,wall:s,color:l}=t,{webId:c,wallId:p,ownerId:h}=s.ThemeInfo,u={color:l};return(0,d.jsx)("div",{className:"tb_post_modal_post_footer_social_",children:(0,d.jsxs)("ul",{className:"tb_post_modal_share_ico",children:[(0,d.jsx)("li",{className:"tb_post_modal_social_ico_list___",children:(0,d.jsx)("a",{tabIndex:8,href:i.share.facebook,"aria-label":"Share on Facebook",target:"_blank",onClick:(a=i.share.facebook,t=>{window.open(a,"_target"),(0,f.hq)({type:2,action:2,wall:n.aD?p:c,feed:i.feedId,post:i.referenceId?i.referenceId:i.id,owner:h}),(0,f.x9)("Tagbox","popup_share_click","popup_share",n.aD?p:c)}),className:"tb_post_modal_share_button tb__icon tb-facebook",style:u})}),(0,d.jsx)("li",{className:"tb_post_modal_social_ico_list___",children:(0,d.jsx)("a",{tabIndex:9,href:i.share.twitter,"aria-label":"Share on Twitter",target:"_blank",className:"tb_post_modal_share_button tb__icon tb-twitter",onClick:(t=>e=>{window.open(t,"_target"),(0,f.hq)({type:2,action:2,wall:n.aD?p:c,feed:i.feedId,post:i.referenceId?i.referenceId:i.id,owner:h}),(0,f.x9)("Tagbox","popup_share_click","popup_share",n.aD?p:c)})(i.share.twitter),style:u})}),(0,d.jsx)("li",{className:"tb_post_modal_social_ico_list___",children:(0,d.jsx)("a",{tabIndex:10,href:i.share.linkedin,"aria-label":"Share on LinkedIn",target:"_blank",className:"tb_post_modal_share_button tb__icon tb-linkedin",onClick:(t=>e=>{(0,f.hq)({type:2,action:2,wall:n.aD?p:c,feed:i.feedId,post:i.referenceId?i.referenceId:i.id,owner:h}),(0,f.x9)("Tagbox","popup_share_click","popup_share",n.aD?p:c),window.open(t,"_target")})(i.share.linkedin),style:u})}),n.MH&&i.link&&(0,d.jsx)("li",{className:"tb_post_modal_social_ico_list___",onClick:()=>o(i),children:(0,d.jsx)("a",{tabIndex:11,href:"#","aria-label":"Share on Mail",className:"tb_post_modal_share_button tb__icon tb-mail",style:u})}),i.link&&(0,d.jsx)("li",{className:"tb_post_modal_social_ico_list___ tb_post_link__",onClick:(e=i.link,t=>{window.open((0,r.C9)(e),"_blank")}),children:(0,d.jsx)("a",{tabIndex:12,href:i.link,"aria-label":"Share on Post",target:"_blank",className:"tb_post_modal_share_button tb__icon tb-link",style:u})})]})})}));var k=a(96241),P=a(55507),S=a(14250);class j extends i.PureComponent{constructor(t){super(t),this.state={scrollAmount:1,scrollDirection:1,contentHeightInner:100,contentHeightUpper:100},this.upperDivRef=i.createRef(),this.innerDivRef=i.createRef()}componentDidMount(){var t=this.upperDivRef.current,e=this.innerDivRef.current;e&&this.setState({contentHeightInner:e.clientHeight,contentHeightUpEle:t.clientHeight})}render(){var{Post:t,CardStyle:e,allSize:a,socialAction:o,ThemeStyle:i,item:s}=this.props,{contentHeightInner:l,contentHeightUpEle:r}=this.state,c=!n.HY&&a.winWidth>991?a.height-(o?100:0):null,p=String(t.content.text).length>0&&e.style.textDecoration?" tb_post_modal_text_decorate":"";47===e.widgetTheme&&(document.querySelector("html").style.overflow="auto");var h=!n.yR&&l>(c||r);return(0,d.jsx)("div",{className:"tb_post_modal_post_wrapper  ".concat(h?"tb_scroll_auto":""),style:{height:1!=t.type?c:"100%"},children:(0,d.jsx)("div",{className:"tb_post_modal_post_wrap_in",ref:this.upperDivRef,children:(0,d.jsxs)("div",{className:"tb_post_modal_post_content",children:[t.rating&&t.rating>0?(0,d.jsx)(P.default,{className:"tb__modal_rating__",rating:t.rating,networkId:t.networkId}):null,(0,d.jsx)("div",{className:"tb_post_modal_content tb-cTBfont-".concat(e.style.variant," ").concat(p),ref:this.innerDivRef,children:null!==t&&void 0!==t&&t.aiStatus?(0,d.jsx)(S.A,{aiSummary:null===t||void 0===t?void 0:t.aiSummary,type:null===i||void 0===i?void 0:i.aiSummaryStatus}):(0,d.jsx)(k.A,{networkId:null===t||void 0===t?void 0:t.networkId,Content:null===t||void 0===t?void 0:t.content,CardStyle:e})})]})})},"content_".concat(t.id))}}a(96011);var N=a(83744),C=a(18459),D=a(88740);class T extends i.Component{constructor(){super(...arguments),this.state={prdImgLoaded:!1,noImg:!1,itemDetails:{},isLoading:!0},this.openUrl=t=>{var{ProductSetting:e,wall:a}=this.props,{Button:o}=e,i=t;1769383==(null===a||void 0===a?void 0:a.ThemeInfo.ownerId)&&(i=(0,v.Ef)(i)),2==parseInt(o.newTab)?window.parent.location.href=i:window.open(i,"_blank")},this.tracking=(t,e)=>{var a,o,{item:i}=this.props;(0,f.hq)({type:1,action:2,wall:null===t||void 0===t||null===(a=t.ThemeInfo)||void 0===a?void 0:a.webId,product_id:e.id,post:i.referenceId,owner:null===t||void 0===t||null===(o=t.ThemeInfo)||void 0===o?void 0:o.ownerId,feed:i.feedId,currency:e.currencyCode,price:Number(e.discount)>0?e.discount:e.price})},this.showTooltipFunCallback=t=>{this.props.showTooltipFun(t)}}componentDidMount(){var{item:t,wall:e}=this.props,{itemDetails:a}=this.state;if(t&&t.isProduct){this.setState({isLoading:!0});var i=t.products.map((t=>{var i,s,n=t.url;if(1==(null===e||void 0===e||null===(i=e.ProductSetting)||void 0===i||null===(s=i.Button)||void 0===s?void 0:s.pdp_target))return a[t.id]={data:null,showCart:!1},this.setState({itemDetails:a}),Promise.resolve();if(n&&!String(n).includes(".html")&&""!=t.createdFrom){var l="magento"===t.createdFrom||!1;return(0,N.YS)(n,l,{productId:t.sku,storeId:t.storeId}).then((i=>{if(l&&!1===i.status)a[t.id]={data:{available:!0},showCart:140717!==(null===e||void 0===e?void 0:e.ThemeInfo.ownerId)};else{var s,n=l&&(null===i||void 0===i||null===(s=i.data)||void 0===s?void 0:s.data)||(null===i||void 0===i?void 0:i.data),r=l?{available:!0}:{};a[t.id]={data:null!==n&&void 0!==n&&n.id?(0,o.A)((0,o.A)({},n),r):null,showCart:(null===n||void 0===n?void 0:n.id)&&140717!==(null===e||void 0===e?void 0:e.ThemeInfo.ownerId)}}this.setState({itemDetails:a})})).catch((e=>{a[t.id]={data:null,showCart:!1},this.setState({itemDetails:a})}))}return a[t.id]={data:null,showCart:!1},this.setState({itemDetails:a}),Promise.resolve()}));Promise.all(i).then((()=>{this.setState({isLoading:!1})}))}}render(){var t,{item:e,products:a,wall:o,openCart:i,ProductSetting:s}=this.props,{itemDetails:n,isLoading:l}=this.state,{CatalogueTitle:r,Price:c,ProductTitle:p,Button:h}=s;return Object.keys(a||{}).length?(0,d.jsxs)("div",{className:"tb_pro__container",style:{marginTop:(null===a||void 0===a?void 0:a.length)<3&&1784268==(null===o||void 0===o||null===(t=o.ThemeInfo)||void 0===t?void 0:t.ownerId)&&"6rem"},children:[(0,d.jsx)("div",{className:"tb_pro__heading",children:(0,D.Ay)(null===r||void 0===r?void 0:r.text)}),(0,d.jsx)("div",{className:"tb_pro__wrap",children:a.map(((t,a)=>{var s,r,u,_,m,b,g,w=parseFloat(t.price),x=parseFloat(t.discount),f=(0,v.CA)(w,x);return(0,d.jsx)("div",{className:"tb_pro__item",children:(0,d.jsxs)("div",{className:"tb_pro__wrap_in",onMouseEnter:()=>this.showTooltipFunCallback(t.id),onMouseLeave:()=>this.showTooltipFunCallback(0),children:[(0,d.jsx)("div",{className:"tb_pro__img_wrapper",children:(0,d.jsx)(C.A,{ImageClass:"tb_pro__image",media:t.image,itemDetails:n[t.id]||null},"pro-".concat(t.id))}),null!==t&&void 0!==t&&t.title?(0,d.jsx)("div",{className:"tb_pro__title tb-cTBfont-".concat(p.variant),children:(0,D.Ay)(t.title)}):null,w>0||x>0?(0,d.jsxs)("div",{className:"tb_pro__price_wrap",children:[(0,d.jsxs)("div",{className:"tb_pro__price tb-cTBfont-".concat(c.variant),children:[t.currency,x>0?x:w]}),(0,d.jsxs)("div",{className:"post_discount",children:[x>0&&x!=w?(0,d.jsxs)("div",{className:"tb_pro__discount_price tb-cTBfont-".concat(c.variant),children:[t.currency,w]}):null,f?(0,d.jsxs)("div",{className:"post_discount_p",children:[" ",f," "]}):null]})]}):null,n&&Object.keys(n).length&&n[t.id]&&null!==(s=n[t.id])&&void 0!==s&&s.showCart?(0,d.jsx)("div",{className:"tb_pro__link",children:(0,d.jsx)("div",{onClick:null!==(r=n[t.id])&&void 0!==r&&null!==(u=r.data)&&void 0!==u&&u.available?()=>i(t.id,t,n[t.id],e):null,className:"tb_pro__btn ".concat(null!==(_=n[t.id])&&void 0!==_&&null!==(m=_.data)&&void 0!==m&&m.available?"":"tb_pro_sold"," tb-cTBfont-").concat(h.variant," ").concat(l?"tb_pro_sold":""),children:null!==(b=n[t.id])&&void 0!==b&&null!==(g=b.data)&&void 0!==g&&g.available?h.text:"Sold Out"})}):(0,d.jsx)("div",{className:"tb_pro__link",children:(0,d.jsx)("div",{onClick:()=>{this.openUrl(t.url),this.tracking(o,t)},className:"tb_pro__btn tb-cTBfont-".concat(h.variant," ").concat(l?" tb_pro_sold":""),target:o&&o.User&&"102810"!=o.User.id?"_blank":"",children:h.text})})]})},a)}))})]}):null}}const A=T;var R=a(80415);function E(t){t.style.setProperty("visibility","visible","important"),t.style.setProperty("opacity","1","important"),t.style.setProperty("display","flex","important"),t.style.setProperty("transform","none","important"),t.style.setProperty("clip-path","initial","important"),t.style.setProperty("border","none","important")}class M extends i.PureComponent{render(){var{ThemeStyle:t,ThemeInfo:e}=this.props,a=(0,r.hZ)(null===e||void 0===e?void 0:e.productType),o=3==e.productType?"tagembed/tagembed-light-new.png":n.HY?"tagshop-light.svg":n.aD?"socialwalls-light.svg":"taggbox_white-logo.svg",{poweredBy:i}=t.language.text;return(0,d.jsxs)("a",{href:a,target:"_blank",ref:t=>{t&&(t.style.setProperty("position","absolute","important"),t.style.setProperty("left","auto","important"),t.style.setProperty("right","0","important"),t.style.setProperty("bottom","-26px","important"),t.style.setProperty("align-items","center","important"),t.style.setProperty("padding-top","4px","important"),t.style.setProperty("display","flex","important"),t.style.setProperty("width","auto","important"),t.style.setProperty("text-decoration","none","important"),t.style.setProperty("direction","ltr","important"),E(t))},children:[(0,d.jsxs)("div",{ref:t=>{t&&(t.style.setProperty("font-size","13px","important"),t.style.setProperty("color","#fff","important"),t.style.setProperty("margin-right","5px","important"),t.style.setProperty("width","100%","important"),t.style.setProperty("height","auto","important"),t.style.setProperty("font-family","inherit","important"),E(t))},children:[i||"Powered by"," "]}),(0,d.jsx)("div",{ref:t=>{t&&(t.style.setProperty("background-image","url(".concat(R.th,"media/logos/").concat(o,")"),"important"),t.style.setProperty("background-size","contain","important"),t.style.setProperty("background-position","left center","important"),t.style.setProperty("background-repeat","no-repeat","important"),t.style.setProperty("height","22px","important"),t.style.setProperty("min-height","22px","important"),t.style.setProperty("width","90px","important"),t.style.setProperty("min-width","90px","important"),E(t))}})]})}}var z=a(54199),U=a(92687);class B extends i.PureComponent{constructor(){super(...arguments),this.state={isEnable:0,eventData:{},shareText:"SHARE",viewOnText:"View on",currentIndex:null,completeData:{},url:null,imgData:[],type:"",parentID:"",isRepeatingPost:!1,allSize:{winHeight:null,winWidth:null,height:null,width:null,paddingBottom:null},addtoCartPopup:!1,productImg:"",prodImgIdx:0},this.closeButtonRef=(0,i.createRef)(),this.modalRef=(0,i.createRef)(),this.keyboardEvent=t=>{var e=this.state.currentIndex;[39,40].includes(t.keyCode)?(e+=1,this.featuredPopSliderChangeIndex(e)(t)):[37,38].includes(t.keyCode)?(e-=1,this.featuredPopSliderChangeIndex(e)(t)):27==t.keyCode&&this.closeWidgetPopUP()},this.handleKeyDown=t=>{if("Tab"===t.key){var e=this.modalRef.current.querySelectorAll('button, [href], [tabindex]:not([tabindex="-1"])'),a=e[0],o=e[e.length-1];t.shiftKey&&document.activeElement===a?(t.preventDefault(),o.focus()):t.shiftKey||document.activeElement!==o||(t.preventDefault(),a.focus())}},this.onCloseModal=()=>{var t=document.querySelector("#tb_post_modal_modal-".concat(this.state.parentID));t&&t.classList.contains("tb_post_modal_show")&&(t.classList.remove("tb_post_modal_show"),this.setState({isEnable:0,currentIndex:null,type:"",addtoCartPopup:!1,selectedProdDetails:null}),this.closeButtonRef.current&&this.closeButtonRef.current.focus(),this.props.closePopUP());var e=document.getElementsByTagName("html");e&&e[0]&&(e[0].style.overflow="")},this.closeWidgetPopUP=t=>this.onCloseModal(),this.getWidgetPopUPEvent=t=>{void 0!==t&&""!=t&&t.card&&("post"==t.type?this.setState({url:"",isEnable:1,eventData:t,currentIndex:t.index,completeData:t.idArray,viewOnText:t.viewOnText,shareText:t.shareText,imgData:t.imgData,type:t.type,showTooltip:0}):"submit-pic"==t.type&&this.setState({isEnable:1,type:t.type,windowParent:t}))},this.featuredPopSliderChangeIndex=t=>e=>{var a,{eventData:o,isRepeatingPost:i}=this.state;(this.closeButtonRef.current&&this.closeButtonRef.current.focus(),o.idArray.length-1!=t&&t!==o.idArray.length||i)?(a=t===o.idArray.length-1||t===o.idArray.length?0:-1===t?o.idArray.length-1:t,this.setState({currentIndex:a,isRepeatingPost:!1},(()=>this.onPopUpTrack()))):this.loadMore()},this.onPopUpTrack=()=>{try{var{wall:t}=this.props,{currentIndex:e,completeData:a,eventData:i}=this.state,s=null,l={feed:(s=-1===e?a[i.idArray.length-1]:a[e]).feedId,post:s.referenceId?s.referenceId:s.id},r={action:2,wall:t.ThemeInfo.webId,feed:s.feedId,post:s.referenceId?s.referenceId:s.id,type:3,owner:t.ThemeInfo.ownerId};(0,f.hq)(n.Qy?r:(0,o.A)((0,o.A)({action:2,wall:t.ThemeInfo.webId},l),{},{owner:t.ThemeInfo.ownerId,type:3}))}catch(d){console.log("Error in PopUp Tracking",d)}},this.loadMore=()=>{var t,{wall:e,postData:a}=this.props,{eventData:o,currentIndex:i}=this.state,s=!a.hasMoreData||!Object.keys(a.hasMoreData).length||(!a.hasMoreData[0]||0!=a.hasMoreData[0].hasMoreData)&&(!a.hasMoreData[a.appendData.networkID]||a.hasMoreData[a.appendData.networkID].hasMoreData);if(o.idArray.length-1==i&&this.setState({isRepeatingPost:!0}),s&&1===(null===e||void 0===e||null===(t=e.ThemeStyle)||void 0===t?void 0:t.loadMoreStatus)){var l=e.ThemeStyle.totalPosts,r=Math.floor(Date.now()/1e3);this.props.nextData(n.aD?e.ThemeInfo.wallId:e.ThemeInfo.webId,r,l,a.appendData.networkID,a.appendData.after,a.appendData.heightEvent)}else this.setState({currentIndex:0})},this.popUpCloseClckOnWindow=()=>{document.addEventListener("click",(t=>{t.target.matches("#tb_post_modal_modal-".concat(this.state.parentID))&&this.onCloseModal()}))},this.allSize=t=>{this.setState({allSize:{winHeight:window.innerHeight,winWidth:window.innerWidth,height:t.height,width:t.width,paddingBottom:100*t.height/t.width}})},this.onClickOpenCart=(t,e,a,i)=>{var{ThemeInfo:s}=this.props.wall,l={type:1,action:2,wall:n.aD?s.wallId:s.webId,feed:i.feedId,post:i.referenceId?i.referenceId:i.id,owner:s.ownerId,product_id:e.id,productList:[],currency:e.currency,currencyCode:e.currencyCode,price:Number(e.discount)>0?Number(e.discount):Number(e.price)};this.setState({addtoCartPopup:!0,selectedProdDetails:a,tagProdDetail:(0,o.A)((0,o.A)({},e),{},{trackingData:l}),pId:t,productImg:e.image})},this.closeCart=t=>{this.setState({addtoCartPopup:!1,selectedProdDetails:null},(()=>{var t=document.querySelector("#tb_post_modal_modal-".concat(this.state.parentID));t&&t.classList.add("tb_post_modal_show")}))},this.onUpdateProdImgIdx=t=>{this.setState({prodImgIdx:t})},this.showTooltipFun=t=>{this.setState({showTooltip:t})}}componentDidMount(){var t,e,{data:a,wall:o}=this.props,i=document.querySelector(".tb_app_container"),s=v.wV?v.wV:null===i||void 0===i||null===(t=i.parentNode)||void 0===t?void 0:t.id;this.setState({parentID:s}),this.getWidgetPopUPEvent(a),setTimeout((()=>{var t=document.querySelector("#tb_post_modal_modal-".concat(this.state.parentID));t&&t.classList.add("tb_post_modal_show")}));var n=document.getElementsByTagName("html");n&&n[0]&&(n[0].style.overflow="hidden"),this.popUpCloseClckOnWindow(),window.addEventListener&&window.addEventListener("keydown",this.keyboardEvent),1533063==(null===o||void 0===o||null===(e=o.ThemeInfo)||void 0===e?void 0:e.ownerId)&&setTimeout((()=>{(this.closeButtonRef.current&&this.closeButtonRef.current.focus(),this.modalRef.current)&&(this.modalRef.current.querySelectorAll('button, [href], [tabindex]:not([tabindex="-1"])')[0].focus(),this.modalRef.current.addEventListener("keydown",this.handleKeyDown))}),500)}componentWillUnmount(){window.removeEventListener("keydown",this.keyboardEvent),this.modalRef.current&&this.modalRef.current.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(t){var e=this,a=0;if(window.editor){var o=document.getElementById("tb_post_modal_modal-taggbox_main"),i=document.querySelector(".tb_post_modal_conetent"),s=document.querySelector(".tb_post_modal_nxt_btn"),n=document.querySelector(".tb_post_modal_prev_btn");o&&(i&&(i.onclick=()=>a=1),s&&(s.onclick=()=>a=1),n&&(n.onclick=()=>a=1),o.onclick=()=>{0==a&&e.onCloseModal(),a=0})}}UNSAFE_componentWillReceiveProps(t){var{postData:e}=t,{completeData:a,eventData:o}=this.state;if(a.length!=e.postData.length){var i=e.postData.map((t=>e.completeDataObject[t])).filter((t=>!String(t.id).includes("free_add_")));o.idArray=i,this.setState({completeData:i,eventData:o},(()=>{var{currentIndex:t}=this.state;this.setState({currentIndex:t+1},(()=>this.onPopUpTrack()))}))}}render(){var t,e,a,o,i,s,{wall:l,reportMediaPopUp:r,brandingNetworks:c}=this.props,{ThemeInfo:p,ThemeStyle:h,CardStyle:u,Reviews:m}=l,{currentIndex:v,completeData:b,eventData:g,parentID:x,allSize:f,addtoCartPopup:y,productImg:k,selectedProdDetails:P,tagProdDetail:S,prodImgIdx:N,showTooltip:C}=this.state,D=null;D=-1===v?b[g.idArray.length-1]:b[v];var T=1==(null===h||void 0===h||null===(t=h.modal)||void 0===t?void 0:t.slide),R=n.HY?null===u||void 0===u||null===(a=u.content)||void 0===a?void 0:a.status:1==(null===u||void 0===u||null===(e=u.content)||void 0===e?void 0:e.modalContentStatus)?0:1,E=!!(D&&x&&Object.keys(D).length&&1==R&&1!=D.type&&4!=D.type&&5!=D.type),B=!!(D&&x&&Object.keys(D).length&&D.isProduct),F=!!(null!==u&&void 0!==u&&u.actionStatus&&n.MH||n.MH),H=n.MH&&B?" tb_post_modal_ts_p":"",L=n.MH?" tb_post_modal_ts_":"",W="".concat(L).concat(H),O={maxHeight:B&&n.MH&&f.winWidth>991?f.height-(F?45:0):null};return D&&x&&Object.keys(D).length?y?"magento"==(null===S||void 0===S?void 0:S.createdFrom)?(0,d.jsx)(U.A,{productImg:k,addtoCartPopup:y,productDetails:P,tagshopProductDeatil:S,closeCart:this.closeCart,onAddToCart:()=>this.setState({continueShopping:!0}),onSelectedVariant:t=>this.setState({selectedVariant:t}),wall:l,closePopUp:this.props.closePopUP}):(0,d.jsx)(z.A,{productImg:k,addtoCartPopup:y,productDetails:P,tagshopProductDeatil:S,closeCart:this.closeCart,onAddToCart:()=>this.setState({continueShopping:!0}),onSelectedVariant:t=>this.setState({selectedVariant:t}),wall:l,closePopUp:this.props.closePopUP}):(0,d.jsx)("div",{ref:this.modalRef,role:"dialog","aria-modal":"true",className:"tb_post_modal_modal ".concat(n.yR?"":"tb_post_wall_modal"),id:"tb_post_modal_modal-".concat(x),children:(0,d.jsx)("div",{className:"".concat(1767696===(null===p||void 0===p?void 0:p.ownerId)?"custom_modal_dialog":""," tb_post_modal_modal_dialog").concat(E&&!B?" tb_only_media_modal":""," ").concat(F&&n.yR?" tb_post_modal_modal_full":"").concat(W),children:(0,d.jsxs)("div",{className:"tb_post_modal_conetent",children:[n.yR?(0,d.jsxs)("div",{className:"tb_post_modal_modal_head",children:[(0,d.jsxs)("div",{className:"tb_post_modal_modal_header",children:[(0,d.jsx)("div",{className:"tb_post_modal_post_link_small",children:(0,d.jsx)("div",{className:"tb_post_modal_post_address",children:D.link?(0,d.jsxs)("div",{className:"tb_post_modal_view_link",onClick:t=>window.open(D.link,"_blank"),children:[(0,d.jsxs)("div",{className:"tb_post_modal_view",children:[n.Vn&&(null===(o=h.language)||void 0===o?void 0:o.text.viewOn)||""," ",D.network.name]}),(0,d.jsx)("div",{className:"tb_post_view_ico tb__icon tb-arrow-right-alt",children:" "})]}):null})}),n.yR?(0,d.jsx)("div",{className:"tb_post_modal_close_wrap",children:(0,d.jsx)("button",{type:"button",className:"tb_post_modal_close_btn","aria-label":"Close",ref:this.closeButtonRef,tabIndex:1,onClick:this.closeWidgetPopUP,onKeyDown:t=>("Enter"===t.key||" "===t.key)&&this.closeWidgetPopUP(),children:(0,d.jsx)("span",{className:"tb_post_close_ico tb__icon tb-close-alt",children:" "})})}):null]}),n.yR&&T?(0,d.jsxs)("div",{className:"tb_post_modal_navigation tb_post_modal_nav_content ".concat(1===D.type?"tb_post_modal_text_nav__":""),children:[(0,d.jsx)("button",{tabIndex:5,type:"button",className:"tb_post_modal_nav tb_post_modal_prev_btn",onClick:this.featuredPopSliderChangeIndex(v-1),children:(0,d.jsx)("span",{className:"tb_post_nav tb__icon tb-arrow-left-alt",children:" "})}),(0,d.jsx)("button",{tabIndex:6,type:"button",className:"tb_post_modal_nav tb_post_modal_nxt_btn",onClick:this.featuredPopSliderChangeIndex(v+1),children:(0,d.jsx)("span",{className:"tb_post_nav tb__icon tb-arrow-right-alt",children:" "})})]}):null]}):null,(0,d.jsx)("div",{className:"tb_post_modal_body_container",children:(0,d.jsxs)("div",{className:"tb_post_modal_modal_body",children:[1!=D.type?(0,d.jsxs)("div",{className:"tb_post_modal_details_left",children:[n.yR&&T?(0,d.jsxs)("div",{className:"tb_post_modal_navigation tb_post_modal_nav_img",children:[(0,d.jsx)("button",{tabIndex:5,type:"button",className:"tb_post_modal_nav tb_post_modal_prev_btn",onClick:this.featuredPopSliderChangeIndex(v-1),children:(0,d.jsx)("span",{className:"tb_post_nav tb__icon tb-arrow-left-alt",children:" "})}),(0,d.jsx)("button",{tabIndex:6,type:"button",className:"tb_post_modal_nav tb_post_modal_nxt_btn",onClick:this.featuredPopSliderChangeIndex(v+1),children:(0,d.jsx)("span",{className:"tb_post_nav tb__icon tb-arrow-right-alt",children:" "})})]}):null,(0,d.jsx)(_,{allSizeCallback:this.allSize,hideContent:E&&!B,Post:D,CardStyle:u,ThemeStyle:h,ThemeInfo:p,onUpdateProdImgIdx:this.onUpdateProdImgIdx,showTooltip:C})]}):null,(0,d.jsx)("div",{className:"tb_post_modal_details_right".concat(1===D.type?" tb_post_modal_text__":""),children:(0,d.jsxs)("div",{className:"tb_post_modal_content_wrap",children:[(0,d.jsx)("div",{className:"tb_post_modal_content_in",style:O,children:(0,d.jsxs)("div",{className:"tb_post_modal_post_detail_wrap",children:[B?(0,d.jsx)(A,{item:D,wall:l,ProductSetting:l.ProductSetting,products:null!==(i=D.mediaList)&&void 0!==i&&i.length?null===(s=D.mediaList[N])||void 0===s?void 0:s.product:D.products,openCart:this.onClickOpenCart,showTooltipFun:this.showTooltipFun},"product_".concat(D.id)):null,(0,d.jsx)(w,{Post:D,ThemeStyle:h,ThemeInfo:p,CardStyle:u,Reviews:m},"author-".concat(D.id)),E?null:(0,d.jsx)(j,{CardStyle:u,ThemeStyle:h,Post:D,allSize:f,socialAction:F})]})}),n.yR&&F?(0,d.jsxs)("div",{className:"tb_post_modal_post_footer",children:[n.MH||n.aD||n.Vn?(0,d.jsx)("div",{className:"tb_post_modal_post_footer_report",children:(0,d.jsx)("div",{className:"tb_post_modal_post_report_media_btn_wrap__",children:(0,d.jsxs)("button",{tabIndex:7,type:"button",title:"Report This Post",className:"tb_post_modal_post_report_media_btn__ ".concat([1533063].includes(p.ownerId)?"report-button":""),onClick:t=>r(D),children:["Report ",(0,d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12px",height:"12px",viewBox:"0 0 512 512",children:(0,d.jsx)("path",{d:"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM216 336l24 0 0-64-24 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l48 0c13.3 0 24 10.7 24 24l0 88 8 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-80 0c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-208a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"})})]})})}):null,(0,d.jsx)(I,{item:D,wall:l})]}):null]})}),null!==p&&void 0!==p&&p.branding?(0,d.jsx)(M,{brandingNetworks:c,ThemeStyle:h,ThemeInfo:p,wallId:p.webId,themeID:p.id}):null]})})]})})}):null}}const F=(0,s.Ng)((t=>({loaderData:t.loaderData})),(t=>({closePopUP:e=>t((0,x.ng)(e)),reportMediaPopUp:e=>t((0,x.lM)(e)),nextData:(e,a,o,i,s,n,l)=>t((0,f.wF)(e,a,o,i,s,n,l))})))(B)},78167:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>r});var o=a(89379),i=a(9950),s=a(91697),n=a(66345),l=a(44414);class r extends i.PureComponent{constructor(t){super(t),this.state={errorPic:!1}}render(){var{author:t,authorClass:e,networkId:a,size:r,inView:d,tabStart:c,link:p,alt:h,isPopup:u}=this.props,{errorPic:_}=this.state,m=p&&n.yR?"a":"div";return(0,i.createElement)(m,(0,o.A)((0,o.A)({},p&&n.yR?{href:p}:{}),{},{key:Math.random(),className:e,tabIndex:c,"aria-label":u?"Opens ".concat((0,s.Oi)(a)," account of ").concat(h):null,rel:u?"noopener noreferrer":null,style:{overflow:4!==a||_?"":"visible"}}),d&&(0,l.jsx)("img",{className:"".concat(e,"__"),src:t.picture,alt:"",width:r||44,height:r||44,onError:e=>{this.setState({errorPic:!0});var o=(0,s.Yo)(a),i="#ffffff"===o?"000":o.replace("#","");e.target.src=t.errorPic?t.errorPic:"https://ui-avatars.com/api/?name=".concat(t.name.replace(/\s/g,""),"&background=").concat(i,"&color=fff&length=1")}}))}}},92663:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>d});var o=a(9950),i=a(91697),s=a(66345),n=a(76506),l=a(44414),r=(0,o.lazy)((()=>a.e(620).then(a.bind(a,20620))));const d=t=>{var{networkId:e,networkClass:a,iconStyle:d,link:c,tabStart:p}=t,h=505===(null===d||void 0===d?void 0:d.default)||[7,4,36].includes(e),u=c&&s.yR?(0,n.C9)(c):"#",_=(0,l.jsx)(o.Suspense,{fallback:null,children:(0,l.jsx)(r,{networkId:e,networkClass:a})}),m=(0,l.jsx)("span",{className:"".concat(a," tb__icon tb-").concat((0,i.EC)(e)),"aria-label":"post network ".concat((0,i.Oi)(e))});return c?(0,l.jsx)("a",{href:u,target:"_blank",rel:"noreferrer",tabIndex:p,className:h?void 0:"".concat(a," tb__icon tb-").concat((0,i.EC)(e)),"aria-label":h?void 0:"post network ".concat((0,i.Oi)(e)),children:h?_:null}):h?_:m}},14250:(t,e,a)=>{"use strict";a.d(e,{A:()=>i});a(9950);var o=a(44414);const i=t=>{var e,{aiSummary:a,type:i}=t;return 1===i?(0,o.jsx)("div",{className:"tb_ai_content",children:null===a||void 0===a||null===(e=a.bullet_points)||void 0===e?void 0:e.map(((t,e)=>(0,o.jsx)("div",{className:"tb_ai_list_item",children:t},e)))}):(0,o.jsx)("div",{className:"tb_ai_content",children:null===a||void 0===a?void 0:a.text})}},96241:(t,e,a)=>{"use strict";a.d(e,{A:()=>b});var o=a(89379),i=a(9950),s=a(88740),n=a(42083),l=a(70804),r=a(44414),d=function(t){return"string"===typeof t},c=(t,e,a)=>{if(!d(t)&&!i.isValidElement(t))return t;d(e)&&(e=function(t){var e=/[\\^$.*+?()[\]{}|]/g,a=RegExp(e.source);return t&&a.test(t)?t.replace(e,"\\$&"):t}(e)),e instanceof RegExp||(e=new RegExp(e,"g"));for(var o,s=[],n=0,l=[];null!==(o=e.exec(t));)l.push(o);if(e.lastIndex=0,0===l.length)return t;l.forEach(((e,o)=>{var i=t.slice(n,e.index);i&&s.push(i);var l=a(...e,o,n);s.push(l),n=e.index+e[0].length}));var r=t.slice(n);return r&&s.push(r),function(t){var e=[];return t.forEach((function(t){Array.isArray(t)?e=e.concat(t):e.push(t)})),e}(s)},p=t=>{var{Content:e,children:a}=t;return(0,r.jsxs)(r.Fragment,{children:[e.title?(0,r.jsx)("div",{className:"tb_bold_txt__",children:(0,s.Ay)(e.title)}):null,a]})},h=/(https?:\/\/[^\s]+)/g,u=t=>(0,r.jsx)(n.default,{children:(0,l.Ay)(t)}),_=(t,e)=>{var a;return"string"===typeof t?c(t,/#(\w+)/g,((t,a)=>(0,r.jsxs)("span",{className:"tb_highlight",style:e,children:["#",t]},"tag-".concat(t,"-").concat(a)))):Array.isArray(t)?t.map(((t,a)=>_(t,e))):i.isValidElement(t)&&null!==(a=t.props)&&void 0!==a&&a.children?i.cloneElement(t,(0,o.A)((0,o.A)({},t.props),{},{children:_(t.props.children,e)})):t},m=t=>t&&"string"===typeof t?t=(t=t.replace(/<([^|>]+)\|([^>]+)>/g,'<a href="$1" target="_blank" rel="noopener noreferrer">$2</a>')).replace(/<((https?:\/\/)[^>|]+)>/g,'<a href="$1" target="_blank" rel="noopener noreferrer">$1</a>'):t,v=t=>{var e,a,o,i,{Content:n,CardStyle:l,networkId:d}=t,v={color:null===l||void 0===l||null===(e=l.hashtag)||void 0===e?void 0:e.color,backgroundColor:1===(null===l||void 0===l||null===(a=l.hashtag)||void 0===a?void 0:a.backgroundStatus)?null===l||void 0===l||null===(o=l.hashtag)||void 0===o?void 0:o.background:null},b=(null===n||void 0===n?void 0:n.feedName)||null;if(20===d&&window.slackdown){var g,w=null===n||void 0===n?void 0:n.text;try{g=u(window.slackdown.parse(w))}catch(k){console.error("Slackdown parsing error:",k);var x=m(w);g=u(x)}return(0,r.jsx)(p,{Content:n,children:g})}var f,y,I=(0,s.Ay)(m(20===d?null===n||void 0===n?void 0:n.text:(t=>String(t).replace(/\\n\\n/g,"<br /><br />").replace(/\\n/g,"<br />"))(null===n||void 0===n?void 0:n.text)));(I=c(I,h,((t,e)=>(0,r.jsx)("a",{href:t,target:"_blank",rel:"noopener noreferrer",style:{color:"#0645AD"},children:t},"url-".concat(e)))),null!==l&&void 0!==l&&null!==(i=l.hashtag)&&void 0!==i&&i.colorStatus)&&(1===(null===l||void 0===l||null===(f=l.hashtag)||void 0===f?void 0:f.allHashtag)?I=_(I,v):1===(null===l||void 0===l||null===(y=l.hashtag)||void 0===y?void 0:y.feedHashtag)&&b&&(I=c(I,b,((t,e)=>(0,r.jsx)("span",{className:"tb_highlight",style:v,children:t},"feed-".concat(e,"-").concat((t=>Math.floor(Math.random()*(t.length?t.length:1)))(e)))))));return(0,r.jsx)(p,{Content:n,children:I})};const b=(0,i.memo)(v)},55507:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>r});var o=a(9950),i=a(44414),s={3:{className:"tb-default-star",color:"#1b74e4"},19:{className:"tb-yelp-star",color:"#e00707"},23:{className:"tb-default-star",color:"#ff385c"},28:{className:"tb-default-star",color:"#F8B90C"},29:{className:"tb-default-star",color:"#613983"},33:{className:"tb-trustpilot",color:"#000"},35:{className:"tb-star-fill",color:"#34E0A1"},default:{className:"tb-default-star",color:"#F8B90C"}},n=(0,o.memo)((t=>{var{networkId:e,index:a,rating:o}=t,{className:n,color:l}=s[e]||s.default,r=a<o;return(0,i.jsx)("div",{className:"tb_rating_ico__ tb__icon ".concat(n),style:{color:r?l:""},"data-network":e,role:"status","aria-label":"Ratings","data-filled":r?"1":"0",children:(0,i.jsx)("div",{})},a)})),l=t=>{var{rating:e,networkId:a,className:o}=t;return(0,i.jsx)("div",{className:"tb_rating_inside ".concat(o),"aria-hidden":!0,children:e?Array.from({length:5},((t,o)=>(0,i.jsx)(n,{index:o,rating:e,networkId:a},o))):null})};const r=(0,o.memo)(l)},6723:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>l});var o=a(9950),i=a(76506),s=a(44414),n=t=>{var{createdAt:e,timeClass:a}=t;return(0,s.jsx)("div",{className:a,role:"status","aria-label":"post timestamp ".concat((0,i.fF)(e)),children:(0,i.fF)(e)})};const l=(0,o.memo)(n)},91697:(t,e,a)=>{"use strict";a.d(e,{EC:()=>o,Oi:()=>s,Yo:()=>i});var o=t=>({0:"manual-upload",1:"twitter",2:"instagram",3:"facebook",4:"google",5:"pinterest",6:"flickr",7:"youtube",8:"vimeo",10:"linkedin",11:"tumblr",12:"rss",13:"star",15:"workplace",18:"instagram",19:"yelp",20:"slack",21:"yammer",23:"airbnb",25:"soundcloud",26:"giphy",27:"deviantart",28:"tiktok",29:"onsite-upload",30:"vkontakte",32:"chrome",33:"collabration",34:"amazon",35:"tripadvisor",36:"star",37:"aliexpress",47:"reddit"}[t]||""),i=t=>({0:"#313A53",1:"#29a9e1",2:"#000000",3:"#1b74e4",4:"#4081ed",5:"#e60022",6:"#0a63dc",7:"#FF0000",8:"#1eb8eb",10:"#0a66c2",11:"#36465d",12:"#f78422",13:"#FABF04",15:"#4767ab",18:"#000000",19:"#be362e",20:"#510d4e",21:"#0078d4",23:"#ff7977",25:"#ff7700",26:"#000000",27:"#00e59b",28:"#000000",29:"#613983",30:"#0077FF",32:"#4c8bf5",33:"#4e69ed",34:"#4e69ed",35:"#60c196",36:"#00e9ff",37:"#E52F20",47:"#E52F20"}[t]||""),s=t=>({0:"Manual Upload",1:"Twitter",2:"Instagram",3:"Facebook",4:"Google",5:"Pinterest",6:"Flickr",7:"YouTube",8:"Vimeo",10:"LinkedIn",11:"Tumblr",12:"RSS",13:"Star",15:"Workplace",18:"Instagram",19:"Yelp",20:"Slack",21:"Yammer",23:"Airbnb",25:"Soundcloud",26:"Giphy",27:"Deviantart",28:"Tiktok",29:"Review Hub",30:"Vkontakte",32:"Chrome Extension",33:"Collab with Creators",34:"Amazon",35:"Tripadvisor",36:"Review Hub",37:"Aliexpress",47:"Reddit"}[t]||"")},95098:()=>{}}]);