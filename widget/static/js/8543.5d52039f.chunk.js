"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[8543],{54658:(t,e,o)=>{o.r(e),o.d(e,{default:()=>E});var s=o(9950),a=o(10300),i=o(66345),l=o(76506),n=o(80415),r=o(44414);const d=t=>{let{size:e,themeId:o,ThemeInfo:s}=t;const a=t=>o==t&&1==e;return(0,r.jsx)("div",{ref:t=>{t&&(t.style.setProperty("opacity","0.8","important"),t.style.setProperty("display","flex","important"),t.style.setProperty("width",""+(2==e?"110px":"75px"),"important"),t.style.setProperty("height",""+(2==e?"25px":"18px"),"important"),t.style.setProperty("max-width",""+(2==e?"110px":"75px"),"important"),t.style.setProperty("max-height",""+(2==e?"25px":"18px"),"important"),t.style.setProperty("top",""+(a(55)||a(62)||a(61)?"auto":"14px"),"important"),t.style.setProperty("left",""+(a(62)||a(61)?"auto":"14px"),"important"),t.style.setProperty("right",""+(a(55)||a(62)||a(61)?"14px":"auto"),"important"),t.style.setProperty("bottom",""+(a(55)||a(62)||a(61)?"14px":"auto"),"important"),t.style.setProperty("margin","0 auto","important"),t.style.setProperty("position","absolute","important"),t.style.setProperty("visibility","visible","important"),t.style.setProperty("z-index","3","important"),t.style.setProperty("background-image",`url(${n.th}media/logos/${3==s.productType?"tagembed/tagembed-new.svg":"tagbox_logo-light.svg"})`,"important"),t.style.setProperty("background-repeat","no-repeat","important"),t.style.setProperty("background-size","contain","important"),t.style.setProperty("clip-path","initial","important"))},children:(0,r.jsx)("div",{children:" "})})},c=s.lazy((()=>Promise.all([o.e(8092),o.e(1823),o.e(3556),o.e(1828)]).then(o.bind(o,51828)))),p=s.lazy((()=>Promise.all([o.e(1823),o.e(9924)]).then(o.bind(o,69924)))),h=s.lazy((()=>Promise.all([o.e(8092),o.e(7482)]).then(o.bind(o,7482)))),m=s.lazy((()=>Promise.all([o.e(9992),o.e(1883)]).then(o.bind(o,29779))));class _ extends s.PureComponent{constructor(t){super(t),this.handleResize=()=>{this.setState({winSize:{width:window.innerWidth,height:window.innerHeight}},(()=>{const{mediaSize:t}=this.state;this.setSize(t.height,t.width)}))},this.setSize=(t,e)=>{const{hideContent:o}=this.props,{winSize:s}=this.state,a=e<=0?1e3:e,i=t<=0?1e3:t,l=Math.max(1,s.width-535),n=Math.max(1,s.height-(90+(o?69:0))),r=Math.min(l/a,n/i),d={height:i*r,width:a*r,paddingBottom:100*i/a},c={winHeight:s.height,winWidth:s.width,height:d.height,width:d.width,paddingBottom:d.paddingBottom};this.props.allSizeCallback(c),this.setState({mediaSize:{height:d.height,width:d.width,paddingBottom:d.paddingBottom}})},this.onMediaLoad=async t=>{const{height:e,width:o}=t.media;if(e&&o)this.setSize(e,o);else{const e=document.querySelector(`.tb_media-${t.id}`),o=e?parseInt(e.getAttribute("data-height"),10):0,a=e?parseInt(e.getAttribute("data-width"),10):0;if(a>0&&o>0)this.setSize(o,a);else try{const{width:e,height:o}=await(0,l.TW)(t.media.image.small);this._isMounted&&this.setSize(o,e)}catch(s){this._isMounted&&this.setSize(1e3,1e3)}}},this.state={winSize:{width:window.innerWidth,height:window.innerHeight},mediaSize:{height:0,width:0,paddingBottom:0}}}static getDerivedStateFromProps(t,e){return t.Post!==e.Post?{...e,Post:t.Post}:null}componentDidMount(){const{Post:t}=this.props;window.addEventListener("resize",this.handleResize),this._isMounted=!0,this.onMediaLoad(t)}componentDidUpdate(t){this.props.Post!==t.Post&&this.onMediaLoad(this.props.Post)}componentWillUnmount(){this._isMounted=!1,window.removeEventListener("resize",this.handleResize)}render(){const{Post:t,ThemeInfo:e,onUpdateProdImgIdx:o,showTooltip:a}=this.props,{winSize:i,mediaSize:l}=this.state;console.log("gjdsahgdkasd",l);const n={maxHeight:i.width>991?l.height:null,maxWidth:i.width>991?l.width:null,aspectRatio:`${l.width} / ${l.height}`,flexBasis:i.width>991?l.height:null},_={paddingBottom:`${l.paddingBottom}%`,width:i.width>991?l.width:null};return(0,r.jsxs)("div",{className:"tb_post_modal_media_holder",style:n,children:[null!==e&&void 0!==e&&e.branding?(0,r.jsx)(d,{size:2,ThemeInfo:e,themeId:e.id}):null,(0,r.jsx)("div",{className:"tb_post_modal_media",style:_,children:(0,r.jsx)("div",{className:"tb_post_modal_media_",children:t.mediaList&&t.mediaList.length>0?(0,r.jsx)(s.Suspense,{fallback:(0,r.jsx)(r.Fragment,{}),children:(0,r.jsx)(c,{winSize:i,Post:t,mediaSize:l,ThemeInfo:e,onUpdateProdImgIdx:o,showTooltip:a})}):[2,4].includes(t.type)?(0,r.jsx)(s.Suspense,{fallback:(0,r.jsx)(r.Fragment,{}),children:(0,r.jsx)(p,{winSize:i,Post:t,Item:!1,Products:t.products,mediaSize:l,ThemeInfo:e,opacity:1,showTooltip:a,hotspot:!0})}):[3,5].includes(t.type)?t.isAudio?(0,r.jsx)(s.Suspense,{fallback:(0,r.jsx)(r.Fragment,{}),children:(0,r.jsx)(m,{Post:t})}):(0,r.jsx)(s.Suspense,{fallback:(0,r.jsx)(r.Fragment,{}),children:(0,r.jsx)(h,{Post:t,mediaSize:l},t.id)}):null})})]})}}var u=o(92663),v=o(52867),b=o(78167),g=o(6723);class w extends s.PureComponent{constructor(t){super(t),this.state={picture:t.Post.author.picture}}UNSAFE_componentWillReceiveProps(t){const{Post:e}=t;this.setState({picture:e.author.picture})}render(){var t,e,o;const{Post:s,CardStyle:a,Reviews:n}=this.props,{name:d,username:c}=s.author,p=a.author.status,h=`${c&&c.length>0?"@":""}${c}`,m=!(i.HY&&!p||0==p||(0,v.zK)(d))||!(!i.aD&&!i.Vn),_=0==s.timePost||s.author.isInstaUser,w=i.HY?!(!a.timeStatus||0==p||_):0!=p&&!_,y=i.HY?!(!a.timeStatus||_):!_||!(!i.aD&&!i.Vn);return(0,r.jsxs)("div",{className:"tb_post_modal_post_author",children:[(0,r.jsxs)("div",{className:"tb_post_modal_author_details",children:[m?(0,r.jsx)(b.default,{author:s.author,networkId:s.networkId,authorClass:`tb_post_modal_author_media tb-cTBfont-${a.author.variant}`,inView:!0}):null,(0,r.jsxs)("div",{className:"tb_post_modal_author_deatils",children:[m?(0,r.jsx)("div",{className:"tb_post_modal_author_wrap",children:(0,r.jsxs)("div",{className:`tb_post_modal_author_usrname tb-cTBfont-${a.author.variant}`,onClick:t=>s.link&&i.yR?window.open(s.link):null,children:[d," "]})}):null,(0,r.jsx)("div",{className:"tb_post_modal_author_info",children:null!==(t=s.author)&&void 0!==t&&t.aiStatus?(0,r.jsxs)("div",{className:"tb_post_modal_author_handlename",children:[null===n||void 0===n||null===(e=n.reviewDetails)||void 0===e?void 0:e.avgRating," Based on ",null===n||void 0===n||null===(o=n.reviewDetails)||void 0===o?void 0:o.totalReviewGiven," reviews"]}):(0,r.jsxs)(r.Fragment,{children:[m?(0,r.jsx)("div",{className:`tb_post_modal_author_handlename tb-cTBfont-${a.author.variant}`,children:h}):null,w?(0,r.jsx)("div",{className:"tb_post_modal_seprator_dot",children:(0,r.jsx)("div",{})}):null,y?(0,r.jsx)(g.default,{createdAt:s.createdAt,timeClass:`tb_post_modal_post_time tb-cTBfont-${a.author.variant}`}):null]})})]})]}),(0,r.jsx)("div",{className:"tb_post_modal_social_wrapper",onClick:t=>s.link&&i.yR?window.open((0,l.C9)(s.link),"_blank"):null,children:(0,r.jsx)(u.default,{networkClass:`tb_post_modal_social_ico tb-cTBfont-${a.author.variant}`,networkId:s.networkId,iconStyle:a.icon,isPopUp:!0})})]})}}var y=o(93152),x=o(21850);const f={sharePostPopUP:y.CW},P=(0,a.Ng)(null,f)((t=>{let{sharePostPopUP:e,item:o,wall:a,color:n}=t;const{webId:d,wallId:c,ownerId:p}=a.ThemeInfo;(0,s.useEffect)((()=>{window.twttr&&window.twttr.ready((t=>{window.twttr.events.bind("tweet",h)}))}),[]);const h=t=>{t&&((0,x.hq)({type:2,action:2,wall:i.aD?c:d,feed:o.feedId,post:o.referenceId?o.referenceId:o.id,owner:p}),(0,x.x9)("Tagbox","popup_share_click","popup_share",i.aD?c:d)),window.open(o.share.twitter,"_target")},m={color:n};return(0,r.jsx)("div",{className:"tb_post_modal_post_footer_social_",children:(0,r.jsxs)("div",{className:"tb_post_modal_share_ico",children:[(0,r.jsx)("div",{className:"tb_post_modal_social_ico_list___",children:(0,r.jsx)("div",{onClick:(u=o.share.facebook,t=>{window.open(u,"_target"),(0,x.hq)({type:2,action:2,wall:i.aD?c:d,feed:o.feedId,post:o.referenceId?o.referenceId:o.id,owner:p}),(0,x.x9)("Tagbox","popup_share_click","popup_share",i.aD?c:d)}),children:(0,r.jsx)("div",{className:"tb_post_modal_share_button tb__icon tb-facebook",style:m,children:(0,r.jsx)("div",{})})})}),(0,r.jsx)("div",{className:"tb_post_modal_social_ico_list___",children:(0,r.jsx)("div",{className:"tb_post_modal_share_button tb__icon tb-twitter",onClick:h,style:m,children:(0,r.jsx)("div",{})})}),(0,r.jsx)("div",{className:"tb_post_modal_social_ico_list___",children:(0,r.jsx)("div",{className:"tb_post_modal_share_button tb__icon tb-linkedin",onClick:(t=>e=>{(0,x.hq)({type:2,action:2,wall:i.aD?c:d,feed:o.feedId,post:o.referenceId?o.referenceId:o.id,owner:p}),(0,x.x9)("Tagbox","popup_share_click","popup_share",i.aD?c:d),window.open(t,"_target")})(o.share.linkedin),style:m,children:(0,r.jsx)("div",{})})}),i.MH&&o.link&&(0,r.jsx)("div",{className:"tb_post_modal_social_ico_list___",onClick:()=>e(o),children:(0,r.jsx)("div",{className:"tb_post_modal_share_button tb__icon tb-mail",style:m})}),o.link&&(0,r.jsx)("div",{className:"tb_post_modal_social_ico_list___ tb_post_link__",onClick:(_=o.link,t=>{window.open((0,l.C9)(_),"_blank")}),children:(0,r.jsx)("div",{className:"tb_post_modal_share_button tb__icon tb-link",style:m})})]})});var _,u}));var j=o(96241),I=o(55507),k=o(14250);class S extends s.PureComponent{constructor(t){super(t),this.state={scrollAmount:1,scrollDirection:1,contentHeightInner:100,contentHeightUpper:100},this.upperDivRef=s.createRef(),this.innerDivRef=s.createRef()}componentDidMount(){const t=this.upperDivRef.current,e=this.innerDivRef.current;e&&this.setState({contentHeightInner:e.clientHeight,contentHeightUpEle:t.clientHeight})}render(){const{Post:t,CardStyle:e,allSize:o,socialAction:s,ThemeStyle:a,item:l}=this.props,{contentHeightInner:n,contentHeightUpEle:d}=this.state,c=!i.HY&&o.winWidth>991?o.height-(s?100:0):null,p=String(t.content.text).length>0&&e.style.textDecoration?" tb_post_modal_text_decorate":"";47===e.widgetTheme&&(document.querySelector("html").style.overflow="auto");const h=!i.yR&&n>(c||d);return(0,r.jsx)("div",{className:"tb_post_modal_post_wrapper  "+(h?"tb_scroll_auto":""),style:{height:1!=t.type?c:"100%"},children:(0,r.jsx)("div",{className:"tb_post_modal_post_wrap_in",ref:this.upperDivRef,children:(0,r.jsxs)("div",{className:"tb_post_modal_post_content",children:[t.rating&&t.rating>0?(0,r.jsx)(I.default,{className:"tb__modal_rating__",rating:t.rating,networkId:t.networkId}):null,(0,r.jsx)("div",{className:`tb_post_modal_content tb-cTBfont-${e.style.variant} ${p}`,ref:this.innerDivRef,children:null!==t&&void 0!==t&&t.aiStatus?(0,r.jsx)(k.A,{aiSummary:null===t||void 0===t?void 0:t.aiSummary,type:null===a||void 0===a?void 0:a.aiSummaryStatus}):(0,r.jsx)(j.A,{Content:null===t||void 0===t?void 0:t.content,CardStyle:e})})]})})},`content_${t.id}`)}}o(96011);var N=o(83744),C=o(18459),D=o(88740);class T extends s.Component{constructor(){super(...arguments),this.state={prdImgLoaded:!1,noImg:!1,itemDetails:{},isLoading:!0},this.openUrl=t=>{const{ProductSetting:e}=this.props,{Button:o}=e;var s=t;2==parseInt(o.newTab)?window.parent.location.href=s:window.open(s,"_blank")},this.tracking=(t,e)=>{var o,s;const{item:a}=this.props;(0,x.hq)({type:1,action:2,wall:null===t||void 0===t||null===(o=t.ThemeInfo)||void 0===o?void 0:o.webId,product_id:e.id,post:a.referenceId,owner:null===t||void 0===t||null===(s=t.ThemeInfo)||void 0===s?void 0:s.ownerId,feed:a.feedId,currency:e.currencyCode,price:Number(e.discount)>0?e.discount:e.price})},this.showTooltipFunCallback=t=>{this.props.showTooltipFun(t)}}componentDidMount(){const{item:t,wall:e}=this.props;let{itemDetails:o}=this.state;if(t&&t.isProduct){this.setState({isLoading:!0});const s=t.products.map((t=>{var s,a;const i=t.url;if(1==(null===e||void 0===e||null===(s=e.ProductSetting)||void 0===s||null===(a=s.Button)||void 0===a?void 0:a.pdp_target))return o[t.id]={data:null,showCart:!1},this.setState({itemDetails:o}),Promise.resolve();if(i&&!String(i).includes(".html")&&""!=t.createdFrom){const s="magento"===t.createdFrom||!1;return(0,N.YS)(i,s,{productId:t.id,storeId:t.storeId}).then((a=>{if(s&&!1===a.status)o[t.id]={data:{available:!0},showCart:140717!==(null===e||void 0===e?void 0:e.ThemeInfo.ownerId)};else{var i;const l=s&&(null===a||void 0===a||null===(i=a.data)||void 0===i?void 0:i.data)||(null===a||void 0===a?void 0:a.data),n=s?{available:!0}:{};o[t.id]={data:null!==l&&void 0!==l&&l.id?{...l,...n}:null,showCart:(null===l||void 0===l?void 0:l.id)&&140717!==(null===e||void 0===e?void 0:e.ThemeInfo.ownerId)}}this.setState({itemDetails:o})})).catch((e=>{o[t.id]={data:null,showCart:!1},this.setState({itemDetails:o})}))}return o[t.id]={data:null,showCart:!1},this.setState({itemDetails:o}),Promise.resolve()}));Promise.all(s).then((()=>{this.setState({isLoading:!1})}))}}render(){const{item:t,products:e,wall:o,openCart:s,ProductSetting:a}=this.props,{itemDetails:i,isLoading:l}=this.state,{CatalogueTitle:n,Price:d,ProductTitle:c,Button:p}=a;return Object.keys(e||{}).length?(0,r.jsxs)("div",{className:"tb_pro__container",children:[(0,r.jsx)("div",{className:"tb_pro__heading",children:(0,D.Ay)(null===n||void 0===n?void 0:n.text)}),(0,r.jsx)("div",{className:"tb_pro__wrap",children:e.map(((e,a)=>{var n,h,m,_,u,v,b;return(0,r.jsx)("div",{className:"tb_pro__item",children:(0,r.jsxs)("div",{className:"tb_pro__wrap_in",onMouseEnter:()=>this.showTooltipFunCallback(e.id),onMouseLeave:()=>this.showTooltipFunCallback(0),children:[(0,r.jsx)("div",{className:"tb_pro__img_wrapper",children:(0,r.jsx)(C.A,{ImageClass:"tb_pro__image",media:e.image,itemDetails:i[e.id]||null},`pro-${e.id}`)}),null!==e&&void 0!==e&&e.title?(0,r.jsx)("div",{className:`tb_pro__title tb-cTBfont-${c.variant}`,children:(0,D.Ay)(e.title)}):null,Number(e.price)>0||Number(e.discount)>0?(0,r.jsxs)("div",{className:"tb_pro__price_wrap",children:[(0,r.jsxs)("div",{className:`tb_pro__price tb-cTBfont-${d.variant}`,children:[e.currency,Number(e.discount)>0?e.discount:e.price]}),Number(e.discount)>0&&e.discount!=e.price?(0,r.jsxs)("div",{className:`tb_pro__discount_price tb-cTBfont-${d.variant}`,children:[e.currency,e.price]}):null]}):null,i&&Object.keys(i).length&&i[e.id]&&null!==(n=i[e.id])&&void 0!==n&&n.showCart?(0,r.jsx)("div",{className:"tb_pro__link",children:(0,r.jsx)("div",{onClick:null!==(h=i[e.id])&&void 0!==h&&null!==(m=h.data)&&void 0!==m&&m.available?()=>s(e.id,e,i[e.id],t):null,className:`tb_pro__btn ${null!==(_=i[e.id])&&void 0!==_&&null!==(u=_.data)&&void 0!==u&&u.available?"":"tb_pro_sold"} tb-cTBfont-${p.variant} ${l?"tb_pro_sold":""}`,children:null!==(v=i[e.id])&&void 0!==v&&null!==(b=v.data)&&void 0!==b&&b.available?p.text:"Sold Out"})}):(0,r.jsx)("div",{className:"tb_pro__link",children:(0,r.jsx)("div",{onClick:()=>{this.openUrl(e.url),this.tracking(o,e)},className:`tb_pro__btn tb-cTBfont-${p.variant} ${l?" tb_pro_sold":""}`,target:o&&o.User&&"102810"!=o.User.id?"_blank":"",children:p.text})})]})},a)}))})]}):null}}const $=T;function z(t){t.style.setProperty("visibility","visible","important"),t.style.setProperty("opacity","1","important"),t.style.setProperty("display","flex","important"),t.style.setProperty("transform","none","important"),t.style.setProperty("clip-path","initial","important"),t.style.setProperty("border","none","important")}class A extends s.PureComponent{render(){const{brandingNetworks:t,wallId:e,ThemeStyle:o,ThemeInfo:s}=this.props,a=i.HY||`${(0,l.hZ)(t,e)[0]}`,d=3==s.productType?"tagembed/tagembed-light-new.png":i.HY?"tagshop-light.svg":i.aD?"socialwalls-light.svg":"tagbox_logo-light.svg",{poweredBy:c}=o.language.text;return(0,r.jsxs)("a",{href:a,target:"_blank",ref:t=>{t&&(t.style.setProperty("position","absolute","important"),t.style.setProperty("left","auto","important"),t.style.setProperty("right","0","important"),t.style.setProperty("bottom","-26px","important"),t.style.setProperty("align-items","center","important"),t.style.setProperty("padding-top","4px","important"),t.style.setProperty("display","flex","important"),t.style.setProperty("width","auto","important"),t.style.setProperty("text-decoration","none","important"),t.style.setProperty("direction","ltr","important"),z(t))},children:[(0,r.jsxs)("div",{ref:t=>{t&&(t.style.setProperty("font-size","13px","important"),t.style.setProperty("color","#fff","important"),t.style.setProperty("margin-right","5px","important"),t.style.setProperty("width","100%","important"),t.style.setProperty("height","auto","important"),t.style.setProperty("font-family","inherit","important"),z(t))},children:[c||"Powered by"," "]}),(0,r.jsx)("div",{ref:t=>{t&&(t.style.setProperty("background-image",`url(${n.th}media/logos/${d})`,"important"),t.style.setProperty("background-size","contain","important"),t.style.setProperty("background-position","left center","important"),t.style.setProperty("background-repeat","no-repeat","important"),t.style.setProperty("height","22px","important"),t.style.setProperty("min-height","22px","important"),t.style.setProperty("width","90px","important"),t.style.setProperty("min-width","90px","important"),z(t))}})]})}}var M=o(54199),U=o(92687);class R extends s.PureComponent{constructor(){super(...arguments),this.state={isEnable:0,eventData:{},shareText:"SHARE",viewOnText:"View on",currentIndex:null,completeData:{},url:null,imgData:[],type:"",parentID:"",isRepeatingPost:!1,allSize:{winHeight:null,winWidth:null,height:null,width:null,paddingBottom:null},addtoCartPopup:!1,productImg:"",prodImgIdx:0},this.keyboardEvent=t=>{let e=this.state.currentIndex;[39,40].includes(t.keyCode)?(e+=1,this.featuredPopSliderChangeIndex(e)(t)):[37,38].includes(t.keyCode)?(e-=1,this.featuredPopSliderChangeIndex(e)(t)):27==t.keyCode&&this.closeWidgetPopUP()},this.onCloseModal=()=>{var t=document.querySelector(`#tb_post_modal_modal-${this.state.parentID}`);t&&t.classList.contains("tb_post_modal_show")&&(t.classList.remove("tb_post_modal_show"),this.setState({isEnable:0,currentIndex:null,type:"",addtoCartPopup:!1,selectedProdDetails:null}),this.props.closePopUP());var e=document.getElementsByTagName("html");e&&e[0]&&(e[0].style.overflow="")},this.closeWidgetPopUP=t=>this.onCloseModal(),this.getWidgetPopUPEvent=t=>{void 0!==t&&""!=t&&t.card&&("post"==t.type?this.setState({url:"",isEnable:1,eventData:t,currentIndex:t.index,completeData:t.idArray,viewOnText:t.viewOnText,shareText:t.shareText,imgData:t.imgData,type:t.type,showTooltip:0}):"submit-pic"==t.type&&this.setState({isEnable:1,type:t.type,windowParent:t}))},this.featuredPopSliderChangeIndex=t=>e=>{const{eventData:o,isRepeatingPost:s}=this.state;if(o.idArray.length-1!=t&&t!==o.idArray.length||s){let e;e=t===o.idArray.length-1||t===o.idArray.length?0:-1===t?o.idArray.length-1:t,this.setState({currentIndex:e,isRepeatingPost:!1},(()=>this.onPopUpTrack()))}else this.loadMore()},this.onPopUpTrack=()=>{try{const{wall:t}=this.props,{currentIndex:e,completeData:o,eventData:s}=this.state;let a=null;a=-1===e?o[s.idArray.length-1]:o[e];const l={feed:a.feedId,post:a.referenceId?a.referenceId:a.id},n={action:2,wall:t.ThemeInfo.webId,feed:a.feedId,post:a.referenceId?a.referenceId:a.id,type:3,owner:t.ThemeInfo.ownerId};(0,x.hq)(i.Qy?n:{action:2,wall:t.ThemeInfo.webId,...l,owner:t.ThemeInfo.ownerId,type:3})}catch(t){console.log("Error in PopUp Tracking",t)}},this.loadMore=()=>{const{wall:t,postData:e}=this.props,{eventData:o,currentIndex:s}=this.state,a=!e.hasMoreData||!Object.keys(e.hasMoreData).length||(!e.hasMoreData[0]||0!=e.hasMoreData[0].hasMoreData)&&(!e.hasMoreData[e.appendData.networkID]||e.hasMoreData[e.appendData.networkID].hasMoreData);if(o.idArray.length-1==s&&this.setState({isRepeatingPost:!0}),a){const o=t.ThemeStyle.totalPosts,s=Math.floor(Date.now()/1e3);this.props.nextData(i.aD?t.ThemeInfo.wallId:t.ThemeInfo.webId,s,o,e.appendData.networkID,e.appendData.after,e.appendData.heightEvent)}else this.setState({currentIndex:0})},this.popUpCloseClckOnWindow=()=>{document.addEventListener("click",(t=>{t.target.matches(`#tb_post_modal_modal-${this.state.parentID}`)&&this.onCloseModal()}))},this.allSize=t=>{this.setState({allSize:{winHeight:window.innerHeight,winWidth:window.innerWidth,height:t.height,width:t.width,paddingBottom:100*t.height/t.width}})},this.onClickOpenCart=(t,e,o,s)=>{const{ThemeInfo:a}=this.props.wall,l={type:1,action:2,wall:i.aD?a.wallId:a.webId,feed:s.feedId,post:s.referenceId?s.referenceId:s.id,owner:a.ownerId,product_id:e.id,productList:[],currency:e.currency,currencyCode:e.currencyCode,price:Number(e.discount)>0?Number(e.discount):Number(e.price)};this.setState({addtoCartPopup:!0,selectedProdDetails:o,tagProdDetail:{...e,trackingData:l},pId:t,productImg:e.image})},this.closeCart=t=>{this.setState({addtoCartPopup:!1,selectedProdDetails:null},(()=>{var t=document.querySelector(`#tb_post_modal_modal-${this.state.parentID}`);t&&t.classList.add("tb_post_modal_show")}))},this.onUpdateProdImgIdx=t=>{this.setState({prodImgIdx:t})},this.showTooltipFun=t=>{this.setState({showTooltip:t})}}componentDidMount(){var t;const{data:e}=this.props;let o=document.querySelector(".tb_app_container"),s=v.wV?v.wV:null===o||void 0===o||null===(t=o.parentNode)||void 0===t?void 0:t.id;this.setState({parentID:s}),this.getWidgetPopUPEvent(e),setTimeout((()=>{var t=document.querySelector(`#tb_post_modal_modal-${this.state.parentID}`);t&&t.classList.add("tb_post_modal_show")}));var a=document.getElementsByTagName("html");a&&a[0]&&(a[0].style.overflow="hidden"),this.popUpCloseClckOnWindow(),window.addEventListener&&window.addEventListener("keydown",this.keyboardEvent)}componentWillUnmount(){window.removeEventListener("keydown",this.keyboardEvent)}componentDidUpdate(){const t=this;let e=0;if(window.editor){let o=document.getElementById("tb_post_modal_modal-taggbox_main"),s=document.querySelector(".tb_post_modal_conetent"),a=document.querySelector(".tb_post_modal_nxt_btn"),i=document.querySelector(".tb_post_modal_prev_btn");o&&(s&&(s.onclick=()=>e=1),a&&(a.onclick=()=>e=1),i&&(i.onclick=()=>e=1),o.onclick=()=>{0==e&&t.onCloseModal(),e=0})}}UNSAFE_componentWillReceiveProps(t){const{postData:e}=t;let{completeData:o,eventData:s}=this.state;if(o.length!=e.postData.length){let t=e.postData.map((t=>e.completeDataObject[t])).filter((t=>!String(t.id).includes("free_add_")));s.idArray=t,this.setState({completeData:t,eventData:s},(()=>{const{currentIndex:t}=this.state;this.setState({currentIndex:t+1},(()=>this.onPopUpTrack()))}))}}render(){var t,e,o,s,a,l,n;const{wall:d,reportMediaPopUp:c,brandingNetworks:p}=this.props,{ThemeInfo:h,ThemeStyle:m,CardStyle:u,Reviews:v}=d,{currentIndex:b,completeData:g,eventData:y,parentID:x,allSize:f,addtoCartPopup:j,productImg:I,selectedProdDetails:k,tagProdDetail:N,prodImgIdx:C,showTooltip:D}=this.state;let T=null;T=-1===b?g[y.idArray.length-1]:g[b];const z=1==(null===m||void 0===m||null===(t=m.modal)||void 0===t?void 0:t.slide),R=i.HY?null===u||void 0===u||null===(o=u.content)||void 0===o?void 0:o.status:1==(null===u||void 0===u||null===(e=u.content)||void 0===e?void 0:e.modalContentStatus)?0:1,E=!!(T&&x&&Object.keys(T).length&&1==R&&1!=T.type),H=!!(T&&x&&Object.keys(T).length&&T.isProduct),B=!!(null!==u&&void 0!==u&&u.actionStatus&&i.MH||i.MH),F=i.MH&&H?" tb_post_modal_ts_p":"",L=`${i.MH?" tb_post_modal_ts_":""}${F}`,W={maxHeight:H&&i.MH&&f.winWidth>991?f.height-(B?45:0):null};return T&&x&&Object.keys(T).length?j?"magento"==(null===N||void 0===N||null===(s=N.UgcProduct)||void 0===s?void 0:s.created_from)?(0,r.jsx)(U.A,{productImg:I,addtoCartPopup:j,productDetails:k,tagshopProductDeatil:N,closeCart:this.closeCart,onAddToCart:()=>this.setState({continueShopping:!0}),onSelectedVariant:t=>this.setState({selectedVariant:t}),wall:d,closePopUp:this.props.closePopUP}):(0,r.jsx)(M.A,{productImg:I,addtoCartPopup:j,productDetails:k,tagshopProductDeatil:N,closeCart:this.closeCart,onAddToCart:()=>this.setState({continueShopping:!0}),onSelectedVariant:t=>this.setState({selectedVariant:t}),wall:d,closePopUp:this.props.closePopUP}):(0,r.jsx)("div",{className:"tb_post_modal_modal "+(i.yR?"":"tb_post_wall_modal"),id:`tb_post_modal_modal-${x}`,children:(0,r.jsx)("div",{className:`tb_post_modal_modal_dialog${E&&!H?" tb_only_media_modal":""} ${B&&i.yR?" tb_post_modal_modal_full":""}${L}`,children:(0,r.jsxs)("div",{className:"tb_post_modal_conetent",children:[i.yR?(0,r.jsxs)("div",{className:"tb_post_modal_modal_head",children:[(0,r.jsxs)("div",{className:"tb_post_modal_modal_header",children:[(0,r.jsx)("div",{className:"tb_post_modal_post_link_small",children:(0,r.jsx)("div",{className:"tb_post_modal_post_address",children:T.link?(0,r.jsxs)("div",{className:"tb_post_modal_view_link",onClick:t=>window.open(T.link,"_blank"),children:[(0,r.jsxs)("div",{className:"tb_post_modal_view",children:[i.Vn&&(null===(a=m.language)||void 0===a?void 0:a.text.viewOn)||""," ",T.network.name]}),(0,r.jsx)("div",{className:"tb_post_view_ico tb__icon tb-arrow-right-alt",children:" "})]}):null})}),i.yR?(0,r.jsx)("div",{className:"tb_post_modal_close_wrap",children:(0,r.jsx)("div",{className:"tb_post_modal_close_btn",onClick:this.closeWidgetPopUP,children:(0,r.jsx)("div",{className:"tb_post_close_ico tb__icon tb-close-alt",children:" "})})}):null]}),i.yR&&z?(0,r.jsxs)("div",{className:"tb_post_modal_navigation tb_post_modal_nav_content "+(1===T.type?"tb_post_modal_text_nav__":""),children:[(0,r.jsx)("div",{className:"tb_post_modal_nav tb_post_modal_prev_btn",onClick:this.featuredPopSliderChangeIndex(b-1),children:(0,r.jsx)("div",{className:"tb_post_nav tb__icon tb-arrow-left-alt",children:" "})}),(0,r.jsx)("div",{className:"tb_post_modal_nav tb_post_modal_nxt_btn",onClick:this.featuredPopSliderChangeIndex(b+1),children:(0,r.jsx)("div",{className:"tb_post_nav tb__icon tb-arrow-right-alt",children:" "})})]}):null]}):null,(0,r.jsx)("div",{className:"tb_post_modal_body_container",children:(0,r.jsxs)("div",{className:"tb_post_modal_modal_body",children:[1!=T.type?(0,r.jsxs)("div",{className:"tb_post_modal_details_left",children:[i.yR&&z?(0,r.jsxs)("div",{className:"tb_post_modal_navigation tb_post_modal_nav_img",children:[(0,r.jsx)("div",{className:"tb_post_modal_nav tb_post_modal_prev_btn",onClick:this.featuredPopSliderChangeIndex(b-1),children:(0,r.jsx)("div",{className:"tb_post_nav tb__icon tb-arrow-left-alt",children:" "})}),(0,r.jsx)("div",{className:"tb_post_modal_nav tb_post_modal_nxt_btn",onClick:this.featuredPopSliderChangeIndex(b+1),children:(0,r.jsx)("div",{className:"tb_post_nav tb__icon tb-arrow-right-alt",children:" "})})]}):null,(0,r.jsx)(_,{allSizeCallback:this.allSize,hideContent:E&&!H,Post:T,CardStyle:u,ThemeStyle:m,ThemeInfo:h,onUpdateProdImgIdx:this.onUpdateProdImgIdx,showTooltip:D})]}):null,(0,r.jsx)("div",{className:"tb_post_modal_details_right"+(1===T.type?" tb_post_modal_text__":""),children:(0,r.jsxs)("div",{className:"tb_post_modal_content_wrap",children:[(0,r.jsx)("div",{className:"tb_post_modal_content_in",style:W,children:(0,r.jsxs)("div",{className:"tb_post_modal_post_detail_wrap",children:[H?(0,r.jsx)($,{item:T,wall:d,ProductSetting:d.ProductSetting,products:null!==(l=T.mediaList)&&void 0!==l&&l.length?null===(n=T.mediaList[C])||void 0===n?void 0:n.product:T.products,openCart:this.onClickOpenCart,showTooltipFun:this.showTooltipFun},`product_${T.id}`):null,(0,r.jsx)(w,{Post:T,ThemeStyle:m,CardStyle:u,Reviews:v},`author-${T.id}`),E?null:(0,r.jsx)(S,{CardStyle:u,ThemeStyle:m,Post:T,allSize:f,socialAction:B})]})}),i.yR&&B?(0,r.jsxs)("div",{className:"tb_post_modal_post_footer",children:[i.MH||i.aD||i.Vn?(0,r.jsx)("div",{className:"tb_post_modal_post_footer_report",children:(0,r.jsx)("div",{className:"tb_post_modal_post_report_media_btn_wrap__",onClick:t=>c(T),children:(0,r.jsx)("div",{className:"tb_post_modal_post_report_media_btn__",children:"Report"})})}):null,(0,r.jsx)(P,{item:T,wall:d})]}):null]})}),null!==h&&void 0!==h&&h.branding?(0,r.jsx)(A,{brandingNetworks:p,ThemeStyle:m,ThemeInfo:h,wallId:h.webId,themeID:h.id}):null]})})]})})}):null}}const E=(0,a.Ng)((t=>({loaderData:t.loaderData})),(t=>({closePopUP:e=>t((0,y.ng)(e)),reportMediaPopUp:e=>t((0,y.lM)(e)),nextData:(e,o,s,a,i,l,n)=>t((0,x.wF)(e,o,s,a,i,l,n))})))(R)},78167:(t,e,o)=>{o.r(e),o.d(e,{default:()=>l});var s=o(9950),a=o(91697),i=o(44414);class l extends s.PureComponent{constructor(t){super(t),this.state={errorPic:!1}}render(){const{author:t,authorClass:e,networkId:o,size:s,inView:l}=this.props,{errorPic:n}=this.state;return(0,i.jsx)("div",{className:e,style:{overflow:4!=o||n?"":"visible"},children:l?(0,i.jsx)("img",{className:`${e}__`,src:t.picture,"aria-label":"author",alt:t.name,width:s||44,height:s||44,onError:e=>{this.setState({errorPic:!0});const s=(0,a.Yo)(o),i="#ffffff"==s?"000":s.replace("#","");e.target.src=t.errorPic?t.errorPic:`https://ui-avatars.com/api/?name=${t.name.replace(/\s/g,"")}&background=${i}&color=fff&length=1`}}):null},Math.random())}}},92663:(t,e,o)=>{o.r(e),o.d(e,{default:()=>n});var s=o(9950),a=o(91697),i=o(44414);const l=s.lazy((()=>o.e(620).then(o.bind(o,20620))));class n extends s.PureComponent{render(){const{networkId:t,networkClass:e,iconStyle:o}=this.props;return 505==(null===o||void 0===o?void 0:o.default)||[7,4,36].includes(t)?(0,i.jsx)(s.Suspense,{fallback:(0,i.jsx)(i.Fragment,{}),children:(0,i.jsx)(l,{networkId:t,networkClass:e})}):(0,i.jsx)("div",{className:`${e} tb__icon tb-${(0,a.EC)(t)}`,"aria-label":`post network ${(0,a.Oi)(t)}`,children:(0,i.jsx)("div",{})})}}},14250:(t,e,o)=>{o.d(e,{A:()=>a});o(9950);var s=o(44414);const a=t=>{var e;let{aiSummary:o,type:a}=t;return 1===a?(0,s.jsx)("div",{className:"tb_ai_content",children:null===o||void 0===o||null===(e=o.bullet_points)||void 0===e?void 0:e.map(((t,e)=>(0,s.jsx)("div",{className:"tb_ai_list_item",children:t},e)))}):(0,s.jsx)("div",{className:"tb_ai_content",children:null===o||void 0===o?void 0:o.text})}},96241:(t,e,o)=>{o.d(e,{A:()=>p});var s=o(9950),a=o(88740),i=o(44414),l=function(t){return"string"===typeof t};const n=(t,e,o)=>{if(!l(t)&&!s.isValidElement(t))return t;l(e)&&(e=function(t){var e=/[\\^$.*+?()[\]{}|]/g,o=RegExp(e.source);return t&&o.test(t)?t.replace(e,"\\$&"):t}(e)),e instanceof RegExp||(e=new RegExp(e,"g"));let a,i=[],n=0,r=[];for(;null!==(a=e.exec(t));)r.push(a);if(e.lastIndex=0,0===r.length)return t;r.forEach(((e,s)=>{const a=t.slice(n,e.index);a&&i.push(a);const l=o(...e,s,n);i.push(l),n=e.index+e[0].length}));const d=t.slice(n);return d&&i.push(d),function(t){var e=[];return t.forEach((function(t){Array.isArray(t)?e=e.concat(t):e.push(t)})),e}(i)},r=t=>{let{Content:e,children:o}=t;return(0,i.jsxs)(i.Fragment,{children:[e.title?(0,i.jsx)("div",{className:"tb_bold_txt__",children:(0,a.Ay)(e.title)}):null,o]})},d=t=>Math.floor(Math.random()*(t.length?t.length:1)),c=t=>{var e,o,s,l,c,p;let{Content:h,CardStyle:m}=t;const _={color:null===m||void 0===m||null===(e=m.hashtag)||void 0===e?void 0:e.color,backgroundColor:1==(null===m||void 0===m||null===(o=m.hashtag)||void 0===o?void 0:o.backgroundStatus)?null===m||void 0===m||null===(s=m.hashtag)||void 0===s?void 0:s.background:null},u=(null===h||void 0===h?void 0:h.feedName)||null;return null!==m&&void 0!==m&&null!==(l=m.hashtag)&&void 0!==l&&l.colorStatus?1===(null===m||void 0===m||null===(c=m.hashtag)||void 0===c?void 0:c.allHashtag)?(0,i.jsx)(r,{Content:h,children:n((0,a.Ay)(null===h||void 0===h?void 0:h.text),/#(\w+)/g,((t,e)=>(0,i.jsx)("div",{className:"tb_highlight",style:_,children:t},`${e}-${d(e)}`)))}):0===(null===m||void 0===m?void 0:m.hashtag.allHashtag)&&1===(null===m||void 0===m||null===(p=m.hashtag)||void 0===p?void 0:p.feedHashtag)&&u?(0,i.jsx)(r,{Content:h,children:n((0,a.Ay)(null===h||void 0===h?void 0:h.text),u,((t,e)=>(0,i.jsx)("div",{className:"tb_highlight",style:_,children:t},`${e}-${d(e)}`)))}):(0,i.jsx)(r,{Content:h,children:(0,a.Ay)(null===h||void 0===h?void 0:h.text)}):(0,i.jsx)(r,{Content:h,children:(0,a.Ay)(null===h||void 0===h?void 0:h.text)})},p=(0,s.memo)(c)},55507:(t,e,o)=>{o.r(e),o.d(e,{default:()=>r});var s=o(9950),a=o(44414);const i={3:{className:"tb-default-star",color:"#1b74e4"},19:{className:"tb-yelp-star",color:"#e00707"},23:{className:"tb-default-star",color:"#ff385c"},28:{className:"tb-default-star",color:"#F8B90C"},29:{className:"tb-default-star",color:"#613983"},33:{className:"tb-trustpilot",color:"#000"},35:{className:"tb-star-fill",color:"#34E0A1"},default:{className:"tb-default-star",color:"#F8B90C"}},l=(0,s.memo)((t=>{let{networkId:e,index:o,rating:s}=t;const{className:l,color:n}=i[e]||i.default,r=o<s;return(0,a.jsx)("div",{className:`tb_rating_ico__ tb__icon ${l}`,style:{color:r?n:""},"data-network":e,role:"status","aria-label":"Ratings","data-filled":r?"1":"0",children:(0,a.jsx)("div",{})},o)})),n=t=>{let{rating:e,networkId:o,className:s}=t;return(0,a.jsx)("div",{className:`tb_rating_inside ${s}`,"aria-hidden":!0,children:e?Array.from({length:5},((t,s)=>(0,a.jsx)(l,{index:s,rating:e,networkId:o},s))):null})},r=(0,s.memo)(n)},6723:(t,e,o)=>{o.r(e),o.d(e,{default:()=>n});var s=o(9950),a=o(76506),i=o(44414);const l=t=>{const{createdAt:e,timeClass:o}=t;return(0,i.jsx)("div",{className:o,role:"status","aria-label":`post timestamp ${(0,a.fF)(e)}`,children:(0,a.fF)(e)})},n=(0,s.memo)(l)},91697:(t,e,o)=>{o.d(e,{EC:()=>s,Oi:()=>i,Yo:()=>a});const s=t=>({0:"manual-upload",1:"twitter",2:"instagram",3:"facebook",4:"google",5:"pinterest",6:"flickr",7:"youtube",8:"vimeo",10:"linkedin",11:"tumblr",12:"rss",13:"star",15:"workplace",18:"instagram",19:"yelp",20:"slack",21:"yammer",23:"airbnb",25:"soundcloud",26:"giphy",27:"deviantart",28:"tiktok",29:"onsite-upload",30:"vkontakte",32:"chrome",33:"collabration",34:"amazon",35:"tripadvisor",36:"star",37:"aliexpress"}[t]||""),a=t=>({0:"#313A53",1:"#29a9e1",2:"#000000",3:"#1b74e4",4:"#4081ed",5:"#e60022",6:"#0a63dc",7:"#FF0000",8:"#1eb8eb",10:"#0a66c2",11:"#36465d",12:"#f78422",13:"#FABF04",15:"#4767ab",18:"#000000",19:"#be362e",20:"#510d4e",21:"#0078d4",23:"#ff7977",25:"#ff7700",26:"#000000",27:"#00e59b",28:"#000000",29:"#613983",30:"#0077FF",32:"#4c8bf5",33:"#4e69ed",34:"#4e69ed",35:"#60c196",36:"#00e9ff",37:"#E52F20"}[t]||""),i=t=>({0:"Manual Upload",1:"Twitter",2:"Instagram",3:"Facebook",4:"Google",5:"Pinterest",6:"Flickr",7:"YouTube",8:"Vimeo",10:"LinkedIn",11:"Tumblr",12:"RSS",13:"Star",15:"Workplace",18:"Instagram",19:"Yelp",20:"Slack",21:"Yammer",23:"Airbnb",25:"Soundcloud",26:"Giphy",27:"Deviantart",28:"Tiktok",29:"Review Hub",30:"Vkontakte",32:"Chrome Extension",33:"Collab with Creators",34:"Amazon",35:"Tripadvisor",36:"Review Hub",37:"Aliexpress"}[t]||"")}}]);