"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[4155],{34155:(e,t,s)=>{s.r(t),s.d(t,{default:()=>m});var i=s(9950),n=s(66345),o=s(56071),a=s(17857),d=s(44414);const l=i.lazy((()=>s.e(3226).then(s.bind(s,63226)))),r=i.lazy((()=>Promise.all([s.e(8740),s.e(2466),s.e(5757)]).then(s.bind(s,71320)))),c=e=>{let{CardStyle:t,clickToShowPopUp:s,index:i,ThemeStyle:c,Post:p,postSize:h}=e;const{style:m}=t,_=1!==(null===p||void 0===p?void 0:p.type);return(0,d.jsx)(o.A,{children:e=>{let{ref:o,inView:u}=e;const S={width:`${h}%`,padding:m.margin/2,opacity:u?1:0,transition:u?"opacity .7s ease-in-out":""};return(0,d.jsx)("div",{id:`tb_g_p_post-${p.id}`,className:"tb_g_p_post_wrapper",style:S,"post-id":p.referenceId?p.referenceId:p.id,"feed-id":p.feedId,ref:o,children:(0,d.jsx)("div",{className:"tb_g_p_post_in",onClick:s(i,p),children:(0,d.jsxs)("div",{className:"tb_g_p_post_media_wrapp",children:[_?(0,d.jsx)(l,{Post:p,CardStyle:t,ThemeStyle:c,index:i,inView:u}):"",n.Vn?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"tb_g_p_post_details",children:[(0,d.jsx)("div",{className:"tb_g_p_contant_wrapper",children:t.content.status||1==p.type?(0,d.jsx)(r,{contentClass:"tb_g_p_content",Content:p.content,CardStyle:t,Lines:t.content.lines}):""}),(0,d.jsx)(a.default,{className:"tb_g_p",Post:p,CardStyle:t,inView:u})]}),(0,d.jsx)("div",{className:"tb_g_p_post_overlay",children:(0,d.jsx)("div",{})})]}):null]})})})}})};var p=s(52867);class h extends i.PureComponent{constructor(e){super(e),this.timeoutId=null,this.onLoadData=()=>{const{postData:e,ThemeStyle:t}=this.props;if(clearTimeout(this.timeoutId),n.Vn)this.setState({modifiedData:e,currentIndex:0});else{const s=parseInt(t.column.desktop,10),i=e.slice(0,s);this.setState({modifiedData:i,currentIndex:s-1,replaceId:0},(()=>this.onFlipPost()))}},this.onFlipPost=()=>{const{ThemeStyle:e,postData:t}=this.props,{currentIndex:s,replaceId:i,modifiedData:n}=this.state,o=parseInt(e.column.desktop,10);this.timeoutId=setTimeout((()=>{let e=s+1;e>=t.length&&(e=0);const a=(i+1)%o,d=[...n];d[i]=t[e],this.setState({modifiedData:d,currentIndex:e,replaceId:a},(()=>this.onFlipPost()))}),1e3*e.slide.slideDuration)},this.state={modifiedData:[],currentIndex:0,replaceId:0}}componentDidMount(){this.onLoadData()}componentDidUpdate(e){e.postData!==this.props.postData&&this.onLoadData()}componentWillUnmount(){clearTimeout(this.timeoutId)}render(){const{postData:e,completeDataObject:t,CardStyle:s,ThemeStyle:i,ProductSetting:n,ThemeInfo:o,clickToShowPopUp:a,onClickPopUpSlider:l,containerSize:r}=this.props,h={32:8,18:6,12:4,8:4}[i.column.desktop]||4,m=(0,p.Cv)(r.width,h);let _=e.length;const{modifiedData:u}=this.state;return(0,d.jsx)("div",{tabIndex:"0","aria-label":`There are ${e.length>0?e.length:0} posts in the feed`,role:"feed",className:"tb_g_p_post_container",children:(null===u||void 0===u?void 0:u.length)>0&&u.map(((e,r)=>{if(r>=_)return null;const p=t[e];return(0,d.jsx)(c,{Post:p,ThemeInfo:o,index:r,CardStyle:s,ThemeStyle:i,ProductSetting:n,clickToShowPopUp:a,onClickPopUpSlider:l,postSize:m},`sqr_crd_${r}_${e.id}`)}))})}}const m=h}}]);