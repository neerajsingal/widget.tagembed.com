"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[7135],{18459:(t,e,i)=>{i.d(e,{A:()=>o});var a=i(9950),r=i(80415),s=i(76506),n=i(44414);class o extends a.PureComponent{constructor(t){super(t),this.onLoad=t=>1==t.target.getAttribute("data-load")&&this.setState({imgUrl:t.target.src,loadError:!1}),this.state={loadError:!1,paddingBottom:100,imgUrl:this.props.media}}UNSAFE_componentWillReceiveProps(t){var{itemDetails:e}=t,{loadError:i}=this.state;i&&t!=this.props&&e&&Object.keys(e).length&&e.showCart&&this.setState({imgUrl:e.data.featured_image,loadError:!1})}render(){var{ImageClass:t}=this.props,{imgUrl:e,paddingBottom:i}=this.state,a={paddingBottom:"".concat(i,"%")};return(0,n.jsx)("div",{className:"".concat(t,"_wrap"),style:a,children:(0,n.jsx)("img",{className:t,role:"img",src:e,height:300,width:300,onLoad:this.onLoad,onError:t=>{this.setState({loadError:!0}),t.target.src=r.qF},alt:(0,s.wG)(e)})})}}},77611:(t,e,i)=>{i.d(e,{A:()=>s});var a=i(76506),r=i(44414);const s=t=>{var{count:e}=t;return(0,r.jsxs)("div",{className:"tb_r_view",children:[(0,r.jsx)("div",{className:"tb__icon tb-eye",children:(0,r.jsx)("div",{})}),(0,a.sl)(e)]})}},17135:(t,e,i)=>{i.r(e),i.d(e,{default:()=>P});var a=i(9950),r=i(10300),s=i(78885),n=i(27210),o=(i(38281),i(78262)),d=i(3720),l=i(77611),c=i(44414);const p=t=>{var{Post:e,ThemeStyle:i,CardStyle:a,index:r,inView:s}=t,n=!(![3,5].includes(e.type)||1!==i.autoPlay||!s);return(0,c.jsxs)("div",{className:"tb_rtp_media_wrap",children:[n&&1==a.viewCountStatus&&(null===e||void 0===e?void 0:e.count.views)>0?(0,c.jsx)(l.A,{count:null===e||void 0===e?void 0:e.count.views}):null,n?(0,c.jsx)(d.A,{VideoClass:"tb_rtp_video",Post:e,size:1,isCover:!0,muted:!0,autoPlay:!0,index:r,inView:s}):(0,c.jsx)(o.A,{ImageClass:"tb_rtp_image",Post:e,size:1,index:r,inView:s})]})};var _=i(52867),u=i(66345),h=i(18459);const m=t=>{var{Post:e,ProductSetting:i}=t,a=e.products,{Price:r,ProductTitle:o}=i,d=!(!a||1!=a.length);return(0,c.jsx)("div",{className:"tb_rtp_wrap",id:"slide-".concat(e.id),children:(0,c.jsxs)("div",{className:"tb_rtp_wrap_in tb_swiper",children:[(0,c.jsx)(s.RC,{id:"product_slide-".concat(e.id),modules:[n.dK,n.Vx],spaceBetween:10,navigation:{prevEl:"#tb_rtn_prev-".concat(e.id),nextEl:"#tb_rtn_next-".concat(e.id)},children:a.map(((t,e)=>{var i=parseFloat(t.price),a=parseFloat(t.discount),n=((t,e)=>{if(0!=t){if(e>0&&e<t){var i=(t-e)/t*100;return i>0?"".concat(i.toFixed(),"%"):""}return!1}return!1})(i,a);return(0,c.jsx)(s.qr,{children:(0,c.jsxs)("div",{className:"tb_rtp",children:[(0,c.jsx)("div",{className:"tb_rtp_media",style:{opacity:t.image?1:0},children:(0,c.jsx)(h.A,{ImageClass:"tb_rtp_img",media:t.image,size:!1,itemDetails:""})}),(0,c.jsx)("div",{className:"tb_rtp_title_w",children:t.title?(0,c.jsx)("div",{className:"tb_rtp_title tb-cTBfont-".concat(o.variant),children:t.title}):null}),i>0||a>0?(0,c.jsxs)("div",{className:"tb_rtp_price_wrap",children:[(0,c.jsxs)("div",{className:"tb_rtp_price tb-cTBfont-".concat(r.variant),children:[t.currency,a>0?a:i]}),a>0&&a!=i?(0,c.jsxs)("div",{className:"tb_rtp_d_price tb-cTBfont-".concat(r.variant),children:[t.currency,i]}):null,n?(0,c.jsx)("div",{className:"tb_rtp_dp",children:n}):null]},e):null]},e)},"".concat(e,"-").concat(t.id))}))}),d?null:(0,c.jsxs)("div",{className:"tb_rtn_wrap",onClick:t=>{t.stopPropagation()},children:[(0,c.jsx)("div",{id:"tb_rtn_prev-".concat(e.id),className:"tb_rtn_btn tb_rtn_btn_left tb__icon tb-arrow-left-alt",children:(0,c.jsx)("div",{})}),(0,c.jsx)("div",{id:"tb_rtn_next-".concat(e.id),className:"tb_rtn_btn tb_rtn_btn_right tb__icon tb-arrow-right-alt",children:(0,c.jsx)("div",{})})]})]})})};var v=i(78167),b=i(6723);const x=t=>{var{Post:e,CardStyle:i,ProductSetting:a,inView:r}=t,{author:s,networkId:n}=e,{ProductTitle:o}=a,d=!(!i.author.status||(0,_.zK)(s.name));return(0,c.jsx)("div",{className:"tb_rtp_wrap",children:(0,c.jsxs)("div",{className:"tb_rtp_wrap_in",style:{marginTop:d?"":0},children:[d?(0,c.jsxs)("div",{className:"tb_rtp_media",children:[(0,c.jsx)(v.default,{networkId:n,alt:e.createdAt,author:s,authorClass:"tb_rtp_a_img",inView:r},s.username)," "]}):"",d?(0,c.jsx)("div",{className:"tb_rtp_title_w",children:(0,c.jsx)("div",{className:"tb_rtp_authorname tb-cTBfont-".concat(null===o||void 0===o?void 0:o.variant),children:s.username&&s.username.length>0?"".concat(s.username):""})}):"",i.timeStatus?(0,c.jsx)(b.default,{createdAt:e.createdAt,timeClass:"tb_rtp_time tb-cTBfont-".concat(i.author.variant)}):""]})})};var g=i(56071);class w extends a.PureComponent{constructor(t){super(t),this.mediaHeight=a.createRef()}componentDidMount(){var{Post:t,itemIndex:e,onClickPopUpSlider:i}=this.props;(0,_._7)(this.mediaHeight),t.isPopUp&&i(e,t)}render(){var{itemIndex:t,ThemeStyle:e,CardStyle:i,Post:a,ProductSetting:r,clickToShowPopUp:s,index:n}=this.props,{style:o}=i;return(0,c.jsx)(g.A,{children:d=>{var{ref:l,inView:_}=d;return(0,c.jsxs)("div",{"data-id":a.id,id:"tb_rt_id-".concat(a.id),className:"tb_rtp_post_wrapper",onClick:s(t,a),style:{padding:o.margin/2,opacity:_?1:0,transition:_?"opacity .5s ease-in-out":""},"tb-product":a.isShopIcon?1:a.isHotspot?2:0,"area-label":a.content.text,role:"article",ref:l,"post-id":a.referenceId?a.referenceId:a.id,"feed-id":a.feedId,children:[(0,c.jsxs)("div",{className:"tb_rtp_post_in tb_icon_animate ".concat(u.aD?"tb_rtp_post_in_animate":""),role:"button","aria-label":"Popup",tabIndex:0,ref:this.mediaHeight,children:[(0,c.jsx)(p,{Post:a,CardStyle:i,ThemeStyle:e,index:n,inView:_}),u.aD?(0,c.jsx)("div",{className:"tb_rtp_play_ico",children:(0,c.jsx)("div",{className:"tb__icon tb-play",children:(0,c.jsx)("div",{})})}):null,a.isProduct?null:(0,c.jsx)(x,{Post:a,CardStyle:i,ThemeStyle:e,ProductSetting:r,inView:_})]}),a.isProduct?(0,c.jsx)(m,{Post:a,ProductSetting:r},"product_slide".concat(a.id)):null]})}})}}var j=i(21850);class S extends a.Component{constructor(t){super(t),this.requestData=t=>{var{appendData:e,ThemeInfo:i,ThemeStyle:a,hasMoreData:r,nextData:s,loaderData:n,containerSize:o}=this.props;t.progress>.8&&r&&!n.isShowMoreLoading&&s(u.aD?null===i||void 0===i?void 0:i.wallId:null===i||void 0===i?void 0:i.webId,Math.floor(Date.now()/1e3),(0,_.Ci)(o.width,a.column,300),e.networkID,e.after,e.heightEvent)},this.inputRefs={},this.state={loadData:!1}}componentDidUpdate(){this.props.loadBranding()}render(){var{postData:t,completeDataObject:e,clickToShowPopUp:i,hasMoreData:a,parentID:r,keyRender:o,onClickPopUpSlider:d,CardStyle:l,ThemeStyle:p,ProductSetting:h,ThemeInfo:m,containerSize:v}=this.props,b=r,x=p.slide.autoSlide,g=p.slide.slideDuration,j=v.width>767?280:300,S=(0,_.Ci)(v.width,p.column,j);return(0,c.jsx)(c.Fragment,{children:r&&(0,c.jsx)("div",{className:"tb_rtp_post_container tb_swiper",ref:this.sliderHeight,children:(0,c.jsx)(s.RC,{observer:!0,observeParents:!0,spaceBetween:0,ref:t=>this.inputRefs[b]=t,onScroll:t=>{this.requestData(t)},onTouchMove:t=>{this.requestData(t)},onAutoplay:t=>{this.requestData(t)},speed:700,edgeSwipeDetection:!0,slidesPerView:S+.4,touchRatio:2,cssMode:(0,_.Fr)(),passiveListeners:!0,freeMode:{enabled:!0,sticky:!1,momentumBounceRatio:2,momentumVelocityRatio:3},autoplay:!!u.MH&&{delay:1===x?1e3*g:99e3,disableOnInteraction:!1,pauseOnMouseEnter:!0},loop:!a,mousewheel:{forceToAxis:!0,sensitivity:1},watchSlidesProgress:!0,modules:[n.Ij,n.FJ,n.U1],className:"tb_rtp_post_slider",children:(null===t||void 0===t?void 0:t.length)>0&&t.map(((t,a)=>{var n=e[t];return u.MH||1!==n.type?(0,c.jsx)(s.qr,{"data-id":n.id,p_id:r,className:"tb_".concat(n.id),children:t=>{var{isVisible:e}=t;return(0,c.jsx)(w,{isVisible:e,Post:n,index:a,CardStyle:l,ThemeStyle:p,ProductSetting:h,ThemeInfo:m,clickToShowPopUp:i,onClickPopUpSlider:d},a)}},"".concat(n.id,"-").concat(a)):null}))},o)})})}}const P=(0,a.memo)((0,r.Ng)((t=>({loaderData:t.loaderData})),(t=>({nextData:(e,i,a,r,s,n,o,d)=>t((0,j.wF)(e,i,a,r,s,n,o,d))})))(S))},38281:()=>{}}]);