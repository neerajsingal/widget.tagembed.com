"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[7135],{17135:(t,e,i)=>{i.r(e),i.d(e,{default:()=>P});var r=i(9950),a=i(10300),s=i(78885),n=i(27210),o=(i(38281),i(78262)),d=i(3720),c=i(77611),l=i(44414);const p=t=>{var{Post:e,ThemeStyle:i,CardStyle:r,index:a,inView:s}=t,n=!(![3,5].includes(e.type)||1!==i.autoPlay||!s);return(0,l.jsxs)("div",{className:"tb_rtp_media_wrap",children:[n&&1==r.viewCountStatus&&(null===e||void 0===e?void 0:e.count.views)>0?(0,l.jsx)(c.A,{count:null===e||void 0===e?void 0:e.count.views}):null,n?(0,l.jsx)(d.A,{VideoClass:"tb_rtp_video",Post:e,size:1,isCover:!0,muted:!0,autoPlay:!0,index:a,inView:s}):(0,l.jsx)(o.A,{ImageClass:"tb_rtp_image",Post:e,size:1,index:a,inView:s})]})};var u=i(52867),m=i(66345),_=i(18459),h=(t,e)=>{if(0!=t){if(e>0&&e<t){var i=(t-e)/t*100;return i>0?"".concat(i.toFixed(),"%"):""}return!1}return!1};const b=t=>{var{Post:e,ProductSetting:i}=t,r=e.products,{Price:a,ProductTitle:o}=i,d=!(!r||1!=r.length);return(0,l.jsx)("div",{className:"tb_rtp_wrap",id:"slide-".concat(e.id),children:(0,l.jsxs)("div",{className:"tb_rtp_wrap_in tb_swiper",children:[(0,l.jsx)(s.RC,{id:"product_slide-".concat(e.id),modules:[n.dK,n.Vx],spaceBetween:10,navigation:{prevEl:"#tb_rtn_prev-".concat(e.id),nextEl:"#tb_rtn_next-".concat(e.id)},children:r.map((t,e)=>(0,l.jsx)(s.qr,{children:(0,l.jsxs)("div",{className:"tb_rtp",children:[(0,l.jsx)("div",{className:"tb_rtp_media",style:{opacity:t.image?1:0},children:(0,l.jsx)(_.A,{ImageClass:"tb_rtp_img",media:t.image,size:!1,itemDetails:""})}),(0,l.jsx)("div",{className:"tb_rtp_title_w",children:t.title?(0,l.jsx)("div",{className:"tb_rtp_title tb-cTBfont-".concat(o.variant),children:t.title}):null}),t.price>0||t.discount>0?(0,l.jsxs)("div",{className:"tb_rtp_price_wrap",children:[(0,l.jsxs)("div",{className:"tb_rtp_price tb-cTBfont-".concat(a.variant),children:[t.currency,t.discount>0?t.discount:t.price]}),t.discount>0&&t.discount!=t.price?(0,l.jsxs)("div",{className:"tb_rtp_d_price tb-cTBfont-".concat(a.variant),children:[t.currency,t.price]}):null,h(Number(t.price),Number(t.discount))&&""!=h(Number(t.price),Number(t.discount))?(0,l.jsx)("div",{className:"tb_rtp_dp",children:h(Number(t.price),Number(t.discount))}):null]}):null]},e)},e))}),d?null:(0,l.jsxs)("div",{className:"tb_rtn_wrap",onClick:t=>{t.stopPropagation()},children:[(0,l.jsx)("div",{id:"tb_rtn_prev-".concat(e.id),className:"tb_rtn_btn tb_rtn_btn_left tb__icon tb-arrow-left-alt",children:(0,l.jsx)("div",{})}),(0,l.jsx)("div",{id:"tb_rtn_next-".concat(e.id),className:"tb_rtn_btn tb_rtn_btn_right tb__icon tb-arrow-right-alt",children:(0,l.jsx)("div",{})})]})]})})};var v=i(78167),x=i(6723);const g=t=>{var{Post:e,CardStyle:i,ProductSetting:r,inView:a}=t,{author:s,networkId:n}=e,{ProductTitle:o}=r,d=!(!i.author.status||(0,u.zK)(s.name));return(0,l.jsx)("div",{className:"tb_rtp_wrap",children:(0,l.jsxs)("div",{className:"tb_rtp_wrap_in",style:{marginTop:d?"":0},children:[d?(0,l.jsxs)("div",{className:"tb_rtp_media",children:[(0,l.jsx)(v.default,{networkId:n,alt:e.createdAt,author:s,authorClass:"tb_rtp_a_img",inView:a},s.username)," "]}):"",d?(0,l.jsx)("div",{className:"tb_rtp_title_w",children:(0,l.jsx)("div",{className:"tb_rtp_authorname tb-cTBfont-".concat(o.variant),children:s.username&&s.username.length>0?"".concat(s.username):""})}):"",i.timeStatus?(0,l.jsx)(x.default,{createdAt:e.createdAt,timeClass:"tb_rtp_time tb-cTBfont-".concat(i.author.variant)}):""]})})};var w=i(56071);class j extends r.PureComponent{constructor(t){super(t),this.mediaHeight=r.createRef()}componentDidMount(){var{Post:t,itemIndex:e,onClickPopUpSlider:i}=this.props;(0,u._7)(this.mediaHeight),t.isPopUp&&i(e,t)}render(){var{itemIndex:t,ThemeStyle:e,CardStyle:i,Post:r,ProductSetting:a,clickToShowPopUp:s,index:n}=this.props,{style:o}=i;return(0,l.jsx)(w.A,{children:d=>{var{ref:c,inView:u}=d;return(0,l.jsx)("div",{"data-id":r.id,id:"tb_rt_id-".concat(r.id),className:"tb_rtp_post_wrapper",onClick:s(t,r),style:{padding:o.margin/2,opacity:u?1:0,transition:u?"opacity .5s ease-in-out":""},"tb-product":r.isShopIcon?1:r.isHotspot?2:0,"area-label":r.content.text,role:"article",ref:c,"post-id":r.referenceId?r.referenceId:r.id,"feed-id":r.feedId,children:(0,l.jsxs)("div",{className:"tb_rtp_post_in tb_icon_animate ".concat(m.aD?"tb_rtp_post_in_animate":""),role:"button","aria-label":"Popup",tabIndex:0,ref:this.mediaHeight,children:[(0,l.jsx)(p,{Post:r,CardStyle:i,ThemeStyle:e,index:n,inView:u}),m.aD?(0,l.jsx)("div",{className:"tb_rtp_play_ico",children:(0,l.jsx)("div",{className:"tb__icon tb-play",children:(0,l.jsx)("div",{})})}):null,r.isProduct?(0,l.jsx)(b,{Post:r,ProductSetting:a},"product_slide".concat(r.id)):(0,l.jsx)(g,{Post:r,CardStyle:i,ThemeStyle:e,ProductSetting:a,inView:u})]})})}})}}var S=i(21850);class y extends r.Component{constructor(t){super(t),this.requestData=t=>{var{appendData:e,ThemeInfo:i,ThemeStyle:r,hasMoreData:a,nextData:s,loaderData:n,containerSize:o}=this.props;t.progress>.8&&a&&!n.isShowMoreLoading&&s(m.aD?null===i||void 0===i?void 0:i.wallId:null===i||void 0===i?void 0:i.webId,Math.floor(Date.now()/1e3),(0,u.Ci)(o.width,r.column,300),e.networkID,e.after,e.heightEvent)},this.inputRefs={},this.state={loadData:!1}}componentDidUpdate(){this.props.loadBranding()}render(){var{postData:t,completeDataObject:e,clickToShowPopUp:i,hasMoreData:r,parentID:a,keyRender:o,onClickPopUpSlider:d,CardStyle:c,ThemeStyle:p,ProductSetting:_,ThemeInfo:h,containerSize:b}=this.props,v=a,x=p.slide.autoSlide,g=p.slide.slideDuration,w=b.width>767?280:300,S=(0,u.Ci)(b.width,p.column,w);return(0,l.jsx)(l.Fragment,{children:a&&(0,l.jsx)("div",{className:"tb_rtp_post_container tb_swiper",ref:this.sliderHeight,children:(0,l.jsx)(s.RC,{observer:!0,observeParents:!0,spaceBetween:0,ref:t=>this.inputRefs[v]=t,onScroll:t=>{this.requestData(t)},onTouchMove:t=>{this.requestData(t)},onAutoplay:t=>{this.requestData(t)},speed:700,edgeSwipeDetection:!0,slidesPerView:S+.4,touchRatio:2,cssMode:(0,u.Fr)(),passiveListeners:!0,freeMode:{enabled:!0,sticky:!1,momentumBounceRatio:2,momentumVelocityRatio:3},autoplay:!!m.MH&&{delay:1===x?1e3*g:99e3,disableOnInteraction:!1,pauseOnMouseEnter:!0},loop:!r,mousewheel:{forceToAxis:!0,sensitivity:1},watchSlidesProgress:!0,modules:[n.Ij,n.FJ,n.U1],className:"tb_rtp_post_slider",children:(null===t||void 0===t?void 0:t.length)>0&&t.map((t,r)=>{var n=e[t];return m.MH||1!==n.type?(0,l.jsx)(s.qr,{"data-id":n.id,p_id:a,className:"tb_".concat(n.id),children:t=>{var{isVisible:e}=t;return(0,l.jsx)(j,{isVisible:e,Post:n,index:r,CardStyle:c,ThemeStyle:p,ProductSetting:_,ThemeInfo:h,clickToShowPopUp:i,onClickPopUpSlider:d},r)}},"".concat(n.id,"-").concat(r)):null})},o)})})}}const P=(0,r.memo)((0,a.Ng)(t=>({loaderData:t.loaderData}),t=>({nextData:(e,i,r,a,s,n,o,d)=>t((0,S.wF)(e,i,r,a,s,n,o,d))}))(y))},18459:(t,e,i)=>{i.d(e,{A:()=>o});var r=i(9950),a=i(80415),s=i(76506),n=i(44414);class o extends r.PureComponent{constructor(t){super(t),this.onLoad=t=>1==t.target.getAttribute("data-load")&&this.setState({imgUrl:t.target.src,loadError:!1}),this.state={loadError:!1,paddingBottom:100,imgUrl:this.props.media}}UNSAFE_componentWillReceiveProps(t){var{itemDetails:e}=t,{loadError:i}=this.state;i&&t!=this.props&&e&&Object.keys(e).length&&e.showCart&&this.setState({imgUrl:e.data.featured_image,loadError:!1})}render(){var{ImageClass:t}=this.props,{imgUrl:e,paddingBottom:i}=this.state,r={paddingBottom:"".concat(i,"%")};return(0,n.jsx)("div",{className:"".concat(t,"_wrap"),style:r,children:(0,n.jsx)("img",{className:t,role:"img",src:e,height:300,width:300,onLoad:this.onLoad,onError:t=>{this.setState({loadError:!0}),t.target.src=a.qF},alt:(0,s.wG)(e)})})}}},38281:()=>{},77611:(t,e,i)=>{i.d(e,{A:()=>s});var r=i(76506),a=i(44414);const s=t=>{var{count:e}=t;return(0,a.jsxs)("div",{className:"tb_r_view",children:[(0,a.jsx)("div",{className:"tb__icon tb-eye",children:(0,a.jsx)("div",{})}),(0,r.sl)(e)]})}}}]);