"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[629],{30629:(t,e,i)=>{i.r(e),i.d(e,{default:()=>v});var l=i(9950),o=i(48400),s=i(10300),n=i(52867),d=i(93152),a=i(66345),r=i(44414);class u extends l.PureComponent{constructor(){super(...arguments),this.handleResize=()=>this.getActiveWrapperSize(2),this.getActiveWrapperSize=t=>{var e=0,i=0,{SnapUp:l,ThemeInfo:o,sliderClass:s}=this.props,{QrCode:d,Form:r}=l;if(o.IsUser&&!(0,n.Fr)()&&(d.status||r.status))var u=setInterval((()=>{var l=document.querySelector(".".concat(s));if(l){var n=l.getBoundingClientRect(),d=parseInt(n.width),r=parseInt(n.height);if(d==e&&r==i&&d>0)clearInterval(u),this.props.updateContainerSize(d,r,1);else{e=d,i=r,this.props.updateContainerSize(d,r);var v=[80,47,16,81,60],c=[80,47,16].includes(o.id)?1e3:3e3;setTimeout((()=>{2!=t&&(a.sb||v.includes(o.id))&&this.props.updateContainerSize(d,r,2),clearInterval(u)}),c)}}else console.log("No active wrapper found"),clearInterval(u)}),10)},this.onSitePopupButton=t=>{(0,n.qK)(t)&&this.props.onSitePopup(!0)}}componentDidMount(){var{SnapUp:t,ThemeInfo:e}=this.props,{QrCode:i,Form:l}=t;e.IsUser&&!(0,n.Fr)()&&(i.status||l.status)&&(this.getActiveWrapperSize(1),window.addEventListener("resize",this.handleResize))}componentWillUnmount(){var{SnapUp:t,ThemeInfo:e}=this.props,{QrCode:i,Form:l}=t;e.IsUser&&!(0,n.Fr)()&&(i.status||l.status)&&window.removeEventListener("resize",this.handleResize)}componentDidUpdate(t){var e,i,l,o,s,n,d,r,u,v,c,p,h,b,_,m,x,w,C,g,S,y,f,j,I,L,N,q,z,B,T;if(a.sb){var{ThemeStyle:U,CardStyle:P}=this.props;((null===(e=t.CardStyle)||void 0===e||null===(i=e.style)||void 0===i?void 0:i.ratio)!=(null===P||void 0===P||null===(l=P.style)||void 0===l?void 0:l.ratio)||(null===(o=t.ThemeStyle)||void 0===o||null===(s=o.column)||void 0===s?void 0:s.desktop)!=(null===U||void 0===U||null===(n=U.column)||void 0===n?void 0:n.desktop)||(null===(d=t.ThemeStyle)||void 0===d||null===(r=d.column)||void 0===r?void 0:r.mobile)!=(null===U||void 0===U||null===(u=U.column)||void 0===u?void 0:u.mobile)||(null===(v=t.CardStyle)||void 0===v||null===(c=v.style)||void 0===c?void 0:c.size)!=(null===P||void 0===P||null===(p=P.style)||void 0===p?void 0:p.size)||(null===(h=t.CardStyle)||void 0===h||null===(b=h.author)||void 0===b?void 0:b.status)!=(null===P||void 0===P||null===(_=P.author)||void 0===_?void 0:_.status)||(null===(m=t.CardStyle)||void 0===m||null===(x=m.icon)||void 0===x?void 0:x.status)!=(null===P||void 0===P||null===(w=P.icon)||void 0===w?void 0:w.status)||(null===(C=t.CardStyle)||void 0===C||null===(g=C.content)||void 0===g?void 0:g.status)!=(null===P||void 0===P||null===(S=P.content)||void 0===S?void 0:S.status)||(null===(y=t.CardStyle)||void 0===y||null===(f=y.content)||void 0===f?void 0:f.lines)!=(null===P||void 0===P||null===(j=P.content)||void 0===j?void 0:j.lines)||(null===(I=t.CardStyle)||void 0===I?void 0:I.actionStatus)!=(null===P||void 0===P?void 0:P.actionStatus)||(null===(L=t.CardStyle)||void 0===L||null===(N=L.globalCTA)||void 0===N?void 0:N.status)!=(null===P||void 0===P||null===(q=P.globalCTA)||void 0===q?void 0:q.status)||(null===(z=t.CardStyle)||void 0===z||null===(B=z.style)||void 0===B?void 0:B.margin)!=(null===P||void 0===P||null===(T=P.style)||void 0===T?void 0:T.margin))&&this.getActiveWrapperSize(2)}}render(){var t,{SnapUp:e,ThemeInfo:i,CardStyle:l,postSize:s,isClass:d,qrCardWidth:a,qrCardHeight:u,isLoad:v}=this.props,{QrCode:c,Form:p}=e,h=null!==c&&void 0!==c&&c.position?" tb_pos-".concat(c.position):null,b=[80,81,16,47].includes(i.id),_=(null===l||void 0===l||null===(t=l.style)||void 0===t?void 0:t.margin)/2,m=(t,e)=>(0,r.jsxs)("div",{className:"tb_onsite_upload_btn_wrap ".concat(null!==i&&void 0!==i&&i.isRevieview?"tb_custom_qr_style":null,"   ").concat(h),children:[null!==i&&void 0!==i&&i.isRevieview?(0,r.jsx)("div",{className:"tb_custom_qr_heading",children:"Be the first one to review"}):null,(0,r.jsxs)("div",{tabIndex:0,role:"button","aria-label":"Open Review Hub popup",onKeyDown:t=>this.onSitePopupButton(t),onClick:()=>this.onSitePopupButton(),className:"tb_onsite_upload_btn",children:[c.text?(0,r.jsx)("div",{className:"tb_snap_btn_bg",children:(0,r.jsx)("div",{})}):null,(0,r.jsx)("div",{className:"tb_onsite_btn",children:c.status&&!(0,n.vq)("demo")?(0,r.jsxs)("div",{className:"tb_onsite_qr_btn_wrap",children:[1==c.status?(0,r.jsx)("div",{className:"tb_onsite_qr_code",children:(0,r.jsx)(o.Ay,{level:"L",size:60,value:"".concat((0,n.dq)()).concat(i.webId,"?").concat(i.webId!=i.wallId?"website=true&":"","onsite-upload"),fgColor:t,bgColor:e})}):null,c.text?(0,r.jsx)("div",{className:"tb_onsite_btn_txt tb-cTBfont-".concat(c.style.variant),children:c.text}):""]}):(0,r.jsx)("div",{className:"tb_onsite_btn_wrap_text",children:c.text?(0,r.jsxs)("div",{className:"tb_onsite_btn_txt tb-cTBfont-".concat(c.style.variant),children:[i.IsUser||(0,n.vq)("demo")||null!==i&&void 0!==i&&i.isRevieview?(0,r.jsx)("div",{className:"tb_onsite_btn_icon_list onsite_icon_vertical",children:(0,r.jsx)("div",{className:"tb__icon",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 640",fill:"#fff",width:"28",height:"28",children:(0,r.jsx)("path",{d:"M352 128C352 110.3 337.7 96 320 96C302.3 96 288 110.3 288 128L288 288L128 288C110.3 288 96 302.3 96 320C96 337.7 110.3 352 128 352L288 352L288 512C288 529.7 302.3 544 320 544C337.7 544 352 529.7 352 512L352 352L512 352C529.7 352 544 337.7 544 320C544 302.3 529.7 288 512 288L352 288L352 128z"})})})}):null,c.text]}):""})})]})]});return c.status||p.status?![20,5,19,3,83,16,47,60,79,80,81,4].includes(i.id)||!i.IsUser||null!==i&&void 0!==i&&i.isRevieview||[47,16,60,81,80].includes(i.id)&&(0,n.Fr)()?(0,r.jsx)(m,{color:"#000",background:"#fff"}):v?(0,r.jsx)("div",{tabIndex:0,role:"button","aria-label":"Open Review Hub popup",onKeyDown:t=>this.onSitePopupButton(t),onClick:()=>this.onSitePopupButton(),style:{width:a?"".concat(a,"px"):"".concat(s,"%"),height:u?"".concat([81].includes(i.id)?u-0:u,"px"):"auto",padding:_},className:" ".concat(d||null,"  ").concat([4].includes(i.id)?"":"tb_onsite_upload_btn_wrap"," tb-qr-card"),children:(0,r.jsx)("div",{className:b?"qr_relative":"w-100",children:(0,r.jsxs)("div",{className:"tb_review_hub_wrap ".concat([81,80].includes(i.id)?"tb_review_hub_wrap_slide":""," ").concat([4].includes(i.id)?"qr-padding-0":""," "),children:[c.status&&!(0,n.vq)("demo")?(0,r.jsx)("div",{className:"tb_review_hub_qr",style:{marginBottom:c.text?"20px":"0"},children:(0,r.jsx)(o.Ay,{level:"L",value:"".concat((0,n.dq)()).concat(i.webId,"?").concat(i.webId!=i.wallId?"website=true&":"","onsite-upload"),fgColor:"#000",bgColor:"#fff"})}):null,!c.status||(0,n.vq)("demo")?(0,r.jsx)("div",{className:"tb_onsite_btn_icon_list",style:{marginBottom:c.text?"20px":"0"},children:(0,r.jsx)("div",{className:"tb__icon tb-plus-svg",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 640",fill:"#fff",width:"18",height:"18",children:(0,r.jsx)("path",{d:"M352 128C352 110.3 337.7 96 320 96C302.3 96 288 110.3 288 128L288 288L128 288C110.3 288 96 302.3 96 320C96 337.7 110.3 352 128 352L288 352L288 512C288 529.7 302.3 544 320 544C337.7 544 352 529.7 352 512L352 352L512 352C529.7 352 544 337.7 544 320C544 302.3 529.7 288 512 288L352 288L352 128z"})})})}):null,c.text?(0,r.jsx)("div",{className:"tb_review_hub_txt",children:c.text}):null]})})}):(0,r.jsx)("img",{src:"https://cloud.tagbox.com/react-app/media/transparent-min.png",width:a,height:u}):null}}const v=(0,s.Ng)((t=>({modalPop:t.modalPop})),(t=>({onSitePopup:e=>t((0,d.b8)(e))})))(u)}}]);