"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[566],{50566:(e,t,i)=>{i.r(t),i.d(t,{default:()=>g});var o=i(89379),a=i(9950),r=i(66345),s=i(10300),l=i(53556),n=i(61302),d=i(21850),c=i(52867),h=i(78262),p=i(3720),_=i(15537),u=i(44414);const b=e=>{var{Post:t,ThemeInfo:i,ThemeStyle:o,CardStyle:a,ThemeRule:r,index:s,ProductSetting:l,inView:n}=e,d=81==i.id&&a.style.ratio||100,c=[3,5].includes(t.type)&&1==o.autoPlay||!1,b=!t.hotspot;return(0,u.jsxs)("div",{className:"tb_ht_media_wrap",children:[(0,u.jsx)(_.default,{Post:t,IconClass:"tb_ht_media_icon",isCenter:!1,show:b,hideVideo:c}),c?(0,u.jsx)(p.A,{VideoClass:"tb_ht_video",Post:t,size:d,isCover:!0,controls:!1,autoPlay:c,muted:!0,index:s,inView:n}):(0,u.jsx)(h.A,{ImageClass:"tb_ht_image",Post:t,size:d,hotspot:!0,ProductSetting:l,index:s,inView:n})]})};var m=i(56071),w=(0,a.lazy)(()=>Promise.resolve().then(i.bind(i,92663))),x=(0,a.lazy)(()=>i.e(7713).then(i.bind(i,47713)));const S=e=>{var{Post:t,CardStyle:i,index:o,ThemeInfo:s,onClickToCTA:l,ThemeStyle:n,ProductSetting:d,clickToShowPopUp:c,onClickPopUpSlider:h}=e,p=81!=s.id,_=r.MH?"tb_ht_color_overlay":"tb_ht_post_overlay-dark",S={backgroundColor:i.style.background},v=p?"50%":null,g=!!(i.shopText&&t.products.length&&s.isShoppable);return(0,a.useEffect)(()=>{t.isPopUp&&h(o,t)},[o,t.isPopUp,t]),(0,u.jsx)(m.A,{children:e=>{var r,{ref:l,inView:h}=e;return(0,u.jsx)("div",{id:"tb_ht_id-".concat(t.id),className:"tb_ht_post_wrapper",onClick:c(o,t),style:{padding:i.style.margin/2,opacity:h?1:0,transition:h?"opacity .5s ease-in-out":""},"tb-network":t.network.id,"tb-product":t.isShopIcon?1:t.isHotspot?2:0,"area-label":t.content.text,role:"article",ref:l,"post-id":t.referenceId?t.referenceId:t.id,"feed-id":t.feedId,children:(0,u.jsx)("div",{className:"tb_ht_post_in",style:{borderRadius:v},role:"button","aria-label":"Popup",tabIndex:"0",children:(0,u.jsxs)("div",{className:"tb_ht_post_media_wrapp",role:"button",tabIndex:"0","aria-label":"Pop Up Button",children:[(0,u.jsx)(b,{Post:t,CardStyle:i,ProductSetting:d,ThemeStyle:n,ThemeInfo:s,index:o,inView:h},o),(0,u.jsxs)("div",{className:"tb_ht_post_details",children:[null!==i&&void 0!==i&&null!==(r=i.icon)&&void 0!==r&&r.status?(0,u.jsx)("div",{className:"tb_ht_social_",children:(0,u.jsx)(a.Suspense,{fallback:(0,u.jsx)(u.Fragment,{}),children:(0,u.jsx)(w,{networkClass:"tb_ht_social_ico_",networkId:t.networkId,iconStyle:i.icon})})}):null,g?(0,u.jsx)(a.Suspense,{fallback:(0,u.jsx)(u.Fragment,{}),children:(0,u.jsx)(x,{CardStyle:i,mode:1,btnClass:"tb_ht_btn_wrap"})}):null]}),(0,u.jsx)("div",{className:"tb_ht_post_overlay ".concat(_),style:S,children:(0,u.jsx)("div",{})})]})})})}})};i(61038);class v extends a.Component{constructor(e){super(e),this.requestData=()=>{var{appendData:e,ThemeInfo:t,ThemeStyle:i,CardStyle:o,hasMoreData:a,nextData:s,containerSize:l,loaderData:n}=this.props,d=(o.minimumWidth||150)+10;a&&i.autoScrollStatus&&!n.isShowMoreLoading&&s(r.aD?t.wallId:t.webId,Math.floor(Date.now()/1e3),(0,c.Ci)(l.width,i.column,d),e.networkID,e.after,e.heightEvent)},this.autoScrollSlider=e=>{var t=e.index;e.length-t===e._o.perPage&&this.requestData()},this.inputRefs={},this.isDragging=!1}componentDidMount(){setTimeout(()=>{var e=document.querySelectorAll(".splide__slide");e&&e.forEach(e=>{e.removeAttribute("aria-hidden"),e.removeAttribute("role")})},100),this.props.loadBranding()}render(){var{postData:e,completeDataObject:t,CardStyle:i,ThemeStyle:a,ThemeInfo:r,parentID:s,onClickToCTA:d,onClickPopUpSlider:h,containerSize:p,ProductSetting:_,clickToShowPopUp:b}=this.props,m=a.slide.autoSlide,w=a.slide.slideDuration,x=a.autoScrollStatus,v=s,g={},y=(1===x||!Object.keys(g).length)&&"slide",j=(i.minimumWidth||150)+10,C=(0,c.Ci)(p.width,a.column,j),f=(0,o.A)((0,o.A)({},g),{},{grid:{rows:1},type:1!==x&&y,rewind:!0,rewindSpeed:1e3,interval:1===m&&parseInt(w)>0?1e3*parseInt(w):5e3,perPage:C,perMove:1,gap:0,autoplay:1===m,padding:0,pagination:!1,arrows:!0}),k=e.length<10?Array.from({length:10},(t,i)=>e[i%e.length]):e;return""!=s?(0,u.jsx)("div",{className:"tb_ht_post_container",children:(0,u.jsxs)(l.eB,{hasTrack:!1,className:"tb_ht_post_slider",options:f,extensions:{Grid:n.x},ref:e=>this.inputRefs[v]=e,onMove:this.autoScrollSlider,children:[(0,u.jsx)("div",{className:"splide__track",children:(0,u.jsx)("div",{className:"splide__list",children:(a.row>1&&1!==k.length&&k.length%2!==0?k.pop():k)&&k&&k.length>0&&k.map((e,o)=>{var l=t[e];return(0,u.jsx)("div",{className:"splide__slide tb_".concat(l.id),"data-id":l.id,p_id:s,children:(0,u.jsx)(S,{onClickToCTA:d,onClickPopUpSlider:h,Post:l,index:o,ProductSetting:_,clickToShowPopUp:b,CardStyle:i,ThemeStyle:a,ThemeInfo:r})},o)})})}),(0,u.jsxs)("div",{className:"splide__arrows splide__arrows--ltr tb_ht_arrow_wrapper_",children:[(0,u.jsx)("div",{className:"tb_ht_arrow splide__arrow splide__arrow--prev tb_ht_arrow tb_ht_arrow_left__ tb__icon tb-arrow-left-alt",role:"button","aria-label":"Go to previous slide",children:(0,u.jsx)("div",{})}),(0,u.jsx)("div",{className:"tb_ht_arrow splide__arrow splide__arrow--next tb_ht_arrow_right__ tb__icon tb-arrow-right-alt",role:"button","aria-label":"Go to next slide",children:(0,u.jsx)("div",{})})]})]})}):null}}const g=(0,a.memo)((0,s.Ng)(e=>({loaderData:e.loaderData}),e=>({nextData:(t,i,o,a,r,s,l,n)=>e((0,d.wF)(t,i,o,a,r,s,l,n))}))(v))}}]);