"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[629,7681],{30629:(t,e,i)=>{i.r(e),i.d(e,{default:()=>u});var s=i(9950),n=i(48400),l=i(10300),o=i(52867),d=i(93152),a=i(66345),r=i(44414);class c extends s.PureComponent{constructor(){super(...arguments),this.handleResize=()=>this.getActiveWrapperSize(2),this.getActiveWrapperSize=t=>{var e=0,i=0,{SnapUp:s,ThemeInfo:n,sliderClass:l}=this.props,{QrCode:d,Form:r}=s;if(n.IsUser&&!(0,o.Fr)()&&(d.status||r.status))var c=setInterval((()=>{var s=document.querySelector(".".concat(l));if(s){var o=s.getBoundingClientRect(),d=o.width,r=o.height;if(d==e&&r==i&&d>0)clearInterval(c),this.props.updateContainerSize(d,r,1);else{e=d,i=r,this.props.updateContainerSize(d,r);var u=[80,47,16,81,60],v=[16,80,47].includes(n.id)?1e3:3e3;setTimeout((()=>{2!=t&&(a.sb||u.includes(n.id))&&this.props.updateContainerSize(d,r,2),clearInterval(c)}),v),u.includes(n.id)&&!a.sb&&setTimeout((()=>{this.props.updateContainerSize(d,r,1),clearInterval(c)}),3e3)}}else console.log("No active wrapper found"),clearInterval(c)}),10)}}componentDidMount(){var{SnapUp:t,ThemeInfo:e}=this.props,{QrCode:i,Form:s}=t;e.IsUser&&!(0,o.Fr)()&&(i.status||s.status)&&(this.getActiveWrapperSize(1),window.addEventListener("resize",this.handleResize))}componentWillUnmount(){var{SnapUp:t,ThemeInfo:e}=this.props,{QrCode:i,Form:s}=t;e.IsUser&&!(0,o.Fr)()&&(i.status||s.status)&&window.removeEventListener("resize",this.handleResize)}componentDidUpdate(t){var e,i,s,n,l,o,d,r,c,u,v,p,h,m,_,b,C,x,w,f,S,g,j,y,z,I,L,N,T,U,q;if(a.sb){var{ThemeStyle:D,CardStyle:k}=this.props;((null===(e=t.CardStyle)||void 0===e||null===(i=e.style)||void 0===i?void 0:i.ratio)!=(null===k||void 0===k||null===(s=k.style)||void 0===s?void 0:s.ratio)||(null===(n=t.ThemeStyle)||void 0===n||null===(l=n.column)||void 0===l?void 0:l.desktop)!=(null===D||void 0===D||null===(o=D.column)||void 0===o?void 0:o.desktop)||(null===(d=t.ThemeStyle)||void 0===d||null===(r=d.column)||void 0===r?void 0:r.mobile)!=(null===D||void 0===D||null===(c=D.column)||void 0===c?void 0:c.mobile)||(null===(u=t.CardStyle)||void 0===u||null===(v=u.style)||void 0===v?void 0:v.size)!=(null===k||void 0===k||null===(p=k.style)||void 0===p?void 0:p.size)||(null===(h=t.CardStyle)||void 0===h||null===(m=h.author)||void 0===m?void 0:m.status)!=(null===k||void 0===k||null===(_=k.author)||void 0===_?void 0:_.status)||(null===(b=t.CardStyle)||void 0===b||null===(C=b.icon)||void 0===C?void 0:C.status)!=(null===k||void 0===k||null===(x=k.icon)||void 0===x?void 0:x.status)||(null===(w=t.CardStyle)||void 0===w||null===(f=w.content)||void 0===f?void 0:f.status)!=(null===k||void 0===k||null===(S=k.content)||void 0===S?void 0:S.status)||(null===(g=t.CardStyle)||void 0===g||null===(j=g.content)||void 0===j?void 0:j.lines)!=(null===k||void 0===k||null===(y=k.content)||void 0===y?void 0:y.lines)||(null===(z=t.CardStyle)||void 0===z?void 0:z.actionStatus)!=(null===k||void 0===k?void 0:k.actionStatus)||(null===(I=t.CardStyle)||void 0===I||null===(L=I.globalCTA)||void 0===L?void 0:L.status)!=(null===k||void 0===k||null===(N=k.globalCTA)||void 0===N?void 0:N.status)||(null===(T=t.CardStyle)||void 0===T||null===(U=T.style)||void 0===U?void 0:U.margin)!=(null===k||void 0===k||null===(q=k.style)||void 0===q?void 0:q.margin))&&this.getActiveWrapperSize(2)}}render(){var t,{SnapUp:e,ThemeInfo:i,CardStyle:s,postSize:l,isClass:d,qrCardWidth:a,qrCardHeight:c,isLoad:u}=this.props,{QrCode:v,Form:p}=e,h=null!==v&&void 0!==v&&v.position?" tb_pos-".concat(v.position):null,m=[80,81,16,47].includes(i.id),_=(null===s||void 0===s||null===(t=s.style)||void 0===t?void 0:t.margin)/2,b=(t,e)=>(0,r.jsx)("div",{onClick:()=>this.props.onSitePopup(!0),className:"tb_onsite_upload_btn_wrap ".concat(h),children:(0,r.jsxs)("div",{className:"tb_onsite_upload_btn",children:[v.text?(0,r.jsx)("div",{className:"tb_snap_btn_bg",children:(0,r.jsx)("div",{})}):null,(0,r.jsx)("div",{className:"tb_onsite_btn",children:v.status?(0,r.jsxs)("div",{className:"tb_onsite_qr_btn_wrap",children:[1==v.status?(0,r.jsx)("div",{className:"tb_onsite_qr_code",children:(0,r.jsx)(n.Ay,{level:"L",size:60,value:"".concat((0,o.dq)()).concat(i.webId,"?").concat(i.webId!=i.wallId?"website=true&":"","onsite-upload"),fgColor:t,bgColor:e})}):null,v.text?(0,r.jsx)("div",{className:"tb_onsite_btn_txt tb-cTBfont-".concat(v.style.variant),children:v.text}):""]}):(0,r.jsx)("div",{className:"tb_onsite_btn_wrap_text",children:v.text?(0,r.jsxs)("div",{className:"tb_onsite_btn_txt tb-cTBfont-".concat(v.style.variant),children:[i.IsUser?(0,r.jsx)("div",{className:"tb_onsite_btn_icon_list onsite_icon_vertical",children:(0,r.jsx)("div",{className:"tb__icon",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 640",fill:"#fff",width:"28",height:"28",children:(0,r.jsx)("path",{d:"M352 128C352 110.3 337.7 96 320 96C302.3 96 288 110.3 288 128L288 288L128 288C110.3 288 96 302.3 96 320C96 337.7 110.3 352 128 352L288 352L288 512C288 529.7 302.3 544 320 544C337.7 544 352 529.7 352 512L352 352L512 352C529.7 352 544 337.7 544 320C544 302.3 529.7 288 512 288L352 288L352 128z"})})})}):null,v.text]}):""})})]})});return v.status||p.status?[20,5,19,3,83,16,47,60,79,80,81,4].includes(i.id)&&i.IsUser?[47,16,60,81,80].includes(i.id)&&(0,o.Fr)()?(0,r.jsx)(b,{color:"#000",background:"#fff"}):u?(0,r.jsx)("div",{onClick:()=>this.props.onSitePopup(!0),style:{width:a?"".concat(a,"px"):"".concat(l,"%"),height:c?"".concat([81].includes(i.id)?c-0:c,"px"):"auto",padding:_,paddingLeft:[80].includes(i.id)?0:_},className:" ".concat(d||null,"  ").concat([4].includes(i.id)?"":"tb_onsite_upload_btn_wrap"," tb-qr-card"),children:(0,r.jsx)("div",{className:m?"qr_relative":"w-100",children:(0,r.jsxs)("div",{className:"tb_review_hub_wrap ".concat([81,80].includes(i.id)?"tb_review_hub_wrap_slide":""," ").concat([4].includes(i.id)?"qr-padding-0":""," "),children:[v.status?(0,r.jsx)("div",{className:"tb_review_hub_qr",style:{marginBottom:v.text?"20px":"0"},children:(0,r.jsx)(n.Ay,{level:"L",value:"".concat((0,o.dq)()).concat(i.webId,"?").concat(i.webId!=i.wallId?"website=true&":"","onsite-upload"),fgColor:"#000",bgColor:"#fff"})}):null,v.status?null:(0,r.jsx)("div",{className:"tb_onsite_btn_icon_list",style:{marginBottom:v.text?"20px":"0"},children:(0,r.jsx)("div",{className:"tb__icon tb-plus-svg",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 640",fill:"#fff",width:"18",height:"18",children:(0,r.jsx)("path",{d:"M352 128C352 110.3 337.7 96 320 96C302.3 96 288 110.3 288 128L288 288L128 288C110.3 288 96 302.3 96 320C96 337.7 110.3 352 128 352L288 352L288 512C288 529.7 302.3 544 320 544C337.7 544 352 529.7 352 512L352 352L512 352C529.7 352 544 337.7 544 320C544 302.3 529.7 288 512 288L352 288L352 128z"})})})}),v.text?(0,r.jsx)("div",{className:"tb_review_hub_txt",children:v.text}):null]})})}):null:(0,r.jsx)(b,{color:"#000",background:"#fff"}):null}}const u=(0,l.Ng)((t=>({modalPop:t.modalPop})),(t=>({onSitePopup:e=>t((0,d.b8)(e))})))(c)},87681:(t,e,i)=>{i.r(e),i.d(e,{default:()=>o});var s=i(9950),n=i(30629),l=i(44414);class o extends s.Component{constructor(t){super(t),this.state={snapBtnSize:0,sizeClass:""},this.updateDimensions=this.updateDimensions.bind(this)}componentDidMount(){window.addEventListener("resize",this.updateDimensions),this.updateDimensions()}componentWillUnmount(){window.removeEventListener("resize",this.updateDimensions)}componentDidUpdate(){this.updateDimensions()}updateDimensions(){var{className:t}=this.props,e=this.divRef.offsetWidth;e!==this.state.snapBtnSize&&(e<200&&e>150?this.setState({sizeClass:"".concat(t,"-3x")}):e<150&&e>120?this.setState({sizeClass:"".concat(t,"-2x")}):e<120&&e>0&&this.setState({sizeClass:"".concat(t,"-1x")}),this.setState({snapBtnSize:e}))}render(){var{className:t,wallId:e,webId:i,ThemeInfo:s,SnapUp:o}=this.props,{sizeClass:d}=this.state;return(0,l.jsx)("div",{className:"".concat(t," ").concat(d),ref:t=>{this.divRef=t},children:(0,l.jsx)(n.default,{ThemeInfo:s,SnapUp:o})})}}}}]);