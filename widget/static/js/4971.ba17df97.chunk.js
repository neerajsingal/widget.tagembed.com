(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[4971],{1404:(t,e,a)=>{var o=a(92130),i=a(39248);t.exports=function t(e,a,n,r,s){return e===a||(null==e||null==a||!i(e)&&!i(a)?e!==e&&a!==a:o(e,a,n,r,t,s))}},16195:(t,e,a)=>{var o=a(93660),i=Object.prototype.hasOwnProperty;t.exports=function(t,e,a,n,r,s){var l=1&a,c=o(t),d=c.length;if(d!=o(e).length&&!l)return!1;for(var h=d;h--;){var u=c[h];if(!(l?u in e:i.call(e,u)))return!1}var g=s.get(t),p=s.get(e);if(g&&p)return g==e&&p==t;var m=!0;s.set(t,e),s.set(e,t);for(var w=l;++h<d;){var v=t[u=c[h]],f=e[u];if(n)var b=l?n(f,v,u,e,t,s):n(v,f,u,t,e,s);if(!(void 0===b?v===f||r(v,f,a,n,s):b)){m=!1;break}w||(w="constructor"==u)}if(m&&!w){var _=t.constructor,y=e.constructor;_==y||!("constructor"in t)||!("constructor"in e)||"function"==typeof _&&_ instanceof _&&"function"==typeof y&&y instanceof y||(m=!1)}return s.delete(t),s.delete(e),m}},21416:(t,e,a)=>{var o=a(4635),i=a(48246),n=a(44206),r=a(49757),s=a(90943),l=a(26557),c=o?o.prototype:void 0,d=c?c.valueOf:void 0;t.exports=function(t,e,a,o,c,h,u){switch(a){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!h(new i(t),new i(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return n(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var g=s;case"[object Set]":var p=1&o;if(g||(g=l),t.size!=e.size&&!p)return!1;var m=u.get(t);if(m)return m==e;o|=2,u.set(t,e);var w=r(g(t),g(e),o,c,h,u);return u.delete(t),w;case"[object Symbol]":if(d)return d.call(t)==d.call(e)}return!1}},24971:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>h});var o=a(9950),i=a(38092),n=a.n(i),r=a(76506),s=a(59418),l=a.n(s),c=a(44414);class d extends o.Component{constructor(t){super(t),this.handlePlay=()=>{this.setState({isPlaying:!0})},this.onMediaLoad=async t=>{const{mediaHeight:e,mediaWidth:a,postFile:o}=t;if(e&&a)this.setState({mediaSize:{height:e,width:a}});else try{const{width:t,height:e}=await(0,r.TW)(o);this.setState({mediaSize:{height:e,width:t}})}catch(i){this.setState({mediaSize:{height:100,width:100}})}},this.state={imageError:!1,windowWidth:window.innerWidth,windowHeight:window.innerHeight,mediaSize:{height:400,width:400},animate:!1,item:null,isPlaying:!1}}componentDidMount(){this.onLoadAnimation()}componentDidUpdate(t){l()(t.item,this.props.item)||(this.setState({item:this.props.item,animate:!1}),this.onLoadAnimation())}onLoadAnimation(){setTimeout((()=>{this.setState({animate:!0}),this.onMediaLoad(this.props.item)}),1e3)}render(){var t,e,a,o;const{item:i}=this.props;let r="".concat(null===i||void 0===i||null===(t=i.media)||void 0===t||null===(e=t.image)||void 0===e?void 0:e.large);const{windowHeight:s,windowWidth:l,mediaSize:d,animate:h,isPlaying:u}=this.state,g=1!=i.type,p=3==i.type||5==i.type,m=Math.min(l/d.width,s/d.height),w=d.height*m,v=d.width*m,f={paddingBottom:"".concat(100*w/v,"%")};return(0,c.jsxs)("div",{id:"spotlight__",className:"sl_container",children:[(0,c.jsx)("div",{className:"sl_overlay_ ".concat(h?"sl_media_ani":""),style:{backgroundImage:"url(".concat(r,")")}}),(0,c.jsx)("div",{className:"sl_wrap",children:(0,c.jsx)("div",{className:"sl_wrap_row sl_only_text",children:g?(0,c.jsx)("div",{className:"sl_media_wrap ".concat(h?"sl_media_ani":""),style:{maxWidth:v},children:p?(0,c.jsxs)("div",{className:"sl_media_wrap_",style:f,children:[!u&&(0,c.jsx)("img",{src:r,alt:"Video Poster",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",cursor:"pointer",zIndex:1},onLoad:this.handlePlay}),(0,c.jsx)(n(),{url:(b=null===i||void 0===i||null===(a=i.media)||void 0===a||null===(o=a.video)||void 0===o?void 0:o.full,_=i.networkId,25===_?String(b).replace("https://w.soundcloud.com/player/?url=",""):b),config:{facebook:{appId:"117029975354072",attributes:{"data-width":"auto",muted:!0,poster:r}},file:{forceVideo:!0,attributes:{muted:!0,poster:r}}},className:"sl_media_",loop:!0,autoPlay:!0,muted:!0,volume:1,playsinline:!0,playing:!0,height:"100%",width:"100%",controls:!1})]}):(0,c.jsx)("div",{className:"sl_media_wrap_",style:f,children:(0,c.jsx)("img",{className:"sl_media_",src:r,height:w,width:v})})}):null})})]});var b,_}}const h=(0,o.memo)(d)},26557:t=>{t.exports=function(t){var e=-1,a=Array(t.size);return t.forEach((function(t){a[++e]=t})),a}},36669:(t,e,a)=>{var o=a(54467),i=a(62274),n=a(69757);function r(t){var e=-1,a=null==t?0:t.length;for(this.__data__=new o;++e<a;)this.add(t[e])}r.prototype.add=r.prototype.push=i,r.prototype.has=n,t.exports=r},49757:(t,e,a)=>{var o=a(36669),i=a(56010),n=a(63445);t.exports=function(t,e,a,r,s,l){var c=1&a,d=t.length,h=e.length;if(d!=h&&!(c&&h>d))return!1;var u=l.get(t),g=l.get(e);if(u&&g)return u==e&&g==t;var p=-1,m=!0,w=2&a?new o:void 0;for(l.set(t,e),l.set(e,t);++p<d;){var v=t[p],f=e[p];if(r)var b=c?r(f,v,p,e,t,l):r(v,f,p,t,e,l);if(void 0!==b){if(b)continue;m=!1;break}if(w){if(!i(e,(function(t,e){if(!n(w,e)&&(v===t||s(v,t,a,r,l)))return w.push(e)}))){m=!1;break}}else if(v!==f&&!s(v,f,a,r,l)){m=!1;break}}return l.delete(t),l.delete(e),m}},56010:t=>{t.exports=function(t,e){for(var a=-1,o=null==t?0:t.length;++a<o;)if(e(t[a],a,t))return!0;return!1}},59418:(t,e,a)=>{var o=a(1404);t.exports=function(t,e){return o(t,e)}},62274:t=>{t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},63445:t=>{t.exports=function(t,e){return t.has(e)}},69757:t=>{t.exports=function(t){return this.__data__.has(t)}},76506:(t,e,a)=>{"use strict";a.d(e,{C9:()=>m,Cq:()=>p,HI:()=>u,Ph:()=>y,S2:()=>b,TW:()=>S,Uy:()=>d,fF:()=>w,hZ:()=>v,hz:()=>g,p5:()=>x,pD:()=>M,pj:()=>j,sl:()=>_,um:()=>h,wG:()=>f});var o=a(66345),i=a(80415),n=a(296),r=a(86961);let s=[],l=!1;const c=new Headers({"Content-Type":"application/json",Authorization:"Bearer ".concat(o.$x),Productdomain:o.QR}),d=t=>{var e;return null===(e=document.getElementById("tb_onsite_btn_id"))||void 0===e?void 0:e.classList.toggle("tb_onsite_btn_disabled",1===t)},h=t=>{var e;if(o.aD)return window.parent.postMessage(t,"*");const a={1:()=>window.onShowDemoPost(1),2:()=>window.hendleFeeds("addFeeds"),3:()=>window.hendleFeeds("manageFeeds")};null===(e=a[t])||void 0===e||e.call(a)},u=t=>{try{s.push(t)}catch(e){console.log(e)}},g=t=>t&&""!==t&&!t.includes("ui-avatars"),p=t=>{if(!t)return"0 Byte";const e=Math.floor(Math.log(t)/Math.log(1024));return{size:Math.round(t/Math.pow(1024,e),2),sizeText:["Bytes","KB","MB","GB","TB"][e]}},m=t=>t.startsWith("http://")||t.startsWith("https://")?t:"https://"+t,w=t=>{if(!t||isNaN(t))return"invalid date";const e=Date.now()-1e3*t;if(isNaN(e)||e<0)return"invalid date";if(e<6e4)return"just now";const a=[{label:"year",ms:31536e6},{label:"month",ms:2592e6},{label:"week",ms:6048e5},{label:"day",ms:864e5},{label:"hour",ms:36e5},{label:"minute",ms:6e4}].find((t=>{let{ms:a}=t;return e>=a}));if(!a)return"just now";const o=Math.floor(e/a.ms);return"".concat(o," ").concat(a.label).concat(o>1?"s":""," ago")},v=()=>["".concat(i.om),"Website Widget"],f=t=>t&&String(t)?unescape(t).split("/").pop().split("/").slice(-1).join().split(".").shift():"",b=["localhost","widget","wall_id="].every((t=>(0,o.vq)(t)))?"taggbox_main":["".concat(o.Xg,".").concat(o.IF),"".concat(o.Xg).concat(o.t6).concat(o.IF),"".concat(o.Xg,"s.").concat(o.IF)].some((t=>(0,o.vq)(t)))?"tag_main__root":o.HY?"taggShopRoot":"taggbox_main",_=t=>{const e=Math.floor(Math.log10(t)/3)||0;return e&&t?+(t/Math.pow(1e3,e)).toFixed(0)+["","K","M","B","T"][e]:t},y=t=>o.MH?t:atob(t),x=(t,e,a)=>t&&t.length>0?t.findIndex((t=>t.id===e)):a,j=()=>{try{const{wall:t}=n.A.getState().appData,{webId:e,wallId:a,ownerId:i}=t.ThemeInfo;l||(window.addEventListener("beforeunload",(()=>{if(0===s.length)return;const t=s.reduce(((t,e)=>t+e),0);t>0?fetch(o.KQ,{method:"POST",headers:c,body:JSON.stringify({action:1,model:null!==r.Ex&&void 0!==r.Ex&&r.Ex.includes("website")?"website":"wall",playCount:s.length,wall:o.aD?a:e,playTime:t,owner:i}),keepalive:!0}).finally((()=>(s=[],l=!1))):(s=[],l=!1)})),l=!0)}catch(t){console.error(t)}},S=t=>new Promise(((e,a)=>Object.assign(new Image,{onload:function(){e({width:this.naturalWidth,height:this.naturalHeight})},onerror:t=>a(new Error("Image loading error: ".concat(t.message))),src:t}))),M=function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{let o=0,i=0,r="",s=0,l="",c=[];if(e)return t.map((t=>{o+=t.averageReviews*t.totalReviews,i+=t.totalReviews,r="Overall",s=0,l=t.color,c=(null===t||void 0===t?void 0:t.reviewList)||[]})),{network:{name:r,avgRate:isNaN(o/i)?0:(o/i).toFixed(1),totalReviews:i,color:l,reviewList:c},activeId:s};{var a;const{wall:e}=n.A.getState().appData;let l=null===e||void 0===e||null===(a=e.Banner)||void 0===a?void 0:a.title_font_color;return t.map((a=>{var n;o+=a.averageReviews*a.totalReviews,i+=a.totalReviews,r=t.length>1?"Overall":a.name,s=t.length>1?0:a.id,l=t.length>1?null===e||void 0===e||null===(n=e.Banner)||void 0===n?void 0:n.title_font_color:a.color,c=t.length>1?(t=>{try{let e=new Map;return t.forEach((t=>{t.Network.reviewList.forEach((t=>{e.set(t.rating,(e.get(t.rating)||0)+t.count)}))})),Array.from(e,(t=>{let[e,a]=t;return{rating:e,count:a}}))}catch(e){}})(t):(null===a||void 0===a?void 0:a.reviewList)||[]})),{network:{name:r,avgRate:isNaN(o/i)?0:(o/i).toFixed(1),totalReviews:i,color:l,reviewList:c},activeId:s}}}catch(o){console.log("ex",o)}}},80415:(t,e,a)=>{"use strict";a.d(e,{$R:()=>p,Bo:()=>r,Fc:()=>f,Fp:()=>m,GR:()=>c,UM:()=>d,Vy:()=>x,ZQ:()=>h,bW:()=>u,fZ:()=>j,g5:()=>g,gX:()=>y,gc:()=>b,hX:()=>v,iP:()=>l,om:()=>s,qF:()=>_,th:()=>n,vr:()=>i,xX:()=>w});var o=a(66345);const i=!String(window.location.href).includes("tagbox=true")&&String(window.location.href).includes("widgets.tagembed")?"https://cdn.tagembed.com/":o.HY?"https://cloud.tagshop.ai/":"https://cloud.tagbox.com/",n="".concat(i,"react-app/"),r="https://app.taggbox.com/widget/",s=o.HY?"https://tagshop.ai/":window.location.href.includes("widget.tagembed")||"https://taggbox.com/",l="https://taggbox.com/widget/",c="https://display.socialwalls.com",d="https://display-test.socialwalls.com",h="https://widget.socialwalls.com",u="https://test.taggbox.com/embed-widget/react/",g="https://widget-test.tagembed.com/",p="https://widget.tagshop.ai",m=[20,5,19,3,4,50,53,85,49,83,79],w=[20,5,19,3,4,53,79,83,85,49],v=[20,5,19,3,4,53,63,64],f=[20,5,19,3,4,53,63,64,50],b=[62,63,65,78,66,67,69,64,68],_="".concat(n,"media/error/no-product.svg"),y="".concat(n,"media/error/no-image.svg"),x="".concat("https://cloud.taggbox.com/","uploaded/"),j=window.location.href.includes("tagembed")},90943:t=>{t.exports=function(t){var e=-1,a=Array(t.size);return t.forEach((function(t,o){a[++e]=[o,t]})),a}},92130:(t,e,a)=>{var o=a(25535),i=a(49757),n=a(21416),r=a(16195),s=a(25531),l=a(12279),c=a(6794),d=a(71641),h="[object Arguments]",u="[object Array]",g="[object Object]",p=Object.prototype.hasOwnProperty;t.exports=function(t,e,a,m,w,v){var f=l(t),b=l(e),_=f?u:s(t),y=b?u:s(e),x=(_=_==h?g:_)==g,j=(y=y==h?g:y)==g,S=_==y;if(S&&c(t)){if(!c(e))return!1;f=!0,x=!1}if(S&&!x)return v||(v=new o),f||d(t)?i(t,e,a,m,w,v):n(t,e,_,a,m,w,v);if(!(1&a)){var M=x&&p.call(t,"__wrapped__"),N=j&&p.call(e,"__wrapped__");if(M||N){var I=M?t.value():t,L=N?e.value():e;return v||(v=new o),w(I,L,a,m,v)}}return!!S&&(v||(v=new o),r(t,e,a,m,w,v))}}}]);