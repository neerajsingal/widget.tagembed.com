"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[1906],{41906:(e,t,n)=>{n.r(t),n.d(t,{default:()=>x});var i=n(9950),l=n(53556),o=(n(61038),n(89379)),s=n(17857),d=n(56071),a=n(44414);const r=i.lazy(()=>n.e(7154).then(n.bind(n,67154))),c=i.lazy(()=>Promise.all([n.e(8740),n.e(2466),n.e(5757)]).then(n.bind(n,71320))),p=e=>{let{Post:t,postSize:n,clickToShowPopUp:l,index:p,ThemeInfo:h,CardStyle:v,ThemeStyle:u,onClickPopUpSlider:m,contentActive:S}=e;const x=(0,i.useRef)(null),I=1!==(null===t||void 0===t?void 0:t.type),w=!(!v.author.status&&!v.timeStatus);return(0,i.useEffect)(()=>{t.isPopUp&&m(p,t)},[p,null===t||void 0===t?void 0:t.isPopUp,t]),(0,a.jsx)(d.A,{children:e=>{var d,m,g;let{ref:f,inView:_}=e;return(0,a.jsx)("div",{id:"tb-sp-post-".concat(null===t||void 0===t?void 0:t.id),className:"tb_gf_post_wrapper",style:{width:"".concat(n,"%"),padding:v.style.margin/2,float:"left"},"tb-network":null===t||void 0===t||null===(d=t.network)||void 0===d?void 0:d.id,tabIndex:"0",role:"article","aria-label":"Post ".concat(parseInt(p)+1,",").concat(t.content.text),ref:x,"post-id":null!==t&&void 0!==t&&t.referenceId?null===t||void 0===t?void 0:t.referenceId:null===t||void 0===t?void 0:t.id,"feed-id":null===t||void 0===t?void 0:t.feedId,children:(0,a.jsxs)("div",{className:"tb_gf_post_in ".concat(S?"tb_active":""," "),onClick:l(p,t),children:[(0,a.jsx)("div",{className:"tb_gf_post_media_wrapp",children:I?(0,a.jsx)(i.Suspense,{fallback:(0,a.jsx)(a.Fragment,{}),children:(0,a.jsx)(r,{Post:(0,o.A)((0,o.A)({},t),{},{postFileNew:null===t||void 0===t||null===(m=t.media)||void 0===m||null===(g=m.image)||void 0===g?void 0:g.small}),CardStyle:v,ThemeStyle:u,ThemeInfo:h,inView:!0},"img".concat(p,"_").concat(t.id))}):""}),(0,a.jsxs)("div",{className:"tb_gf_post_details",children:[(0,a.jsx)("div",{className:"tb_gf_contant_wrapper",children:v.content.status||1==t.type?(0,a.jsx)(c,{contentClass:"tb_gf_content",Content:t.content,CardStyle:v,Lines:v.content.lines}):""}),(0,a.jsx)(i.Suspense,{fallback:(0,a.jsx)(a.Fragment,{}),children:(0,a.jsx)(s.default,{className:"tb_gf",Post:t,CardStyle:v,ThemeStyle:u,mediaType:I,ThemeInfo:h,inView:!0})})]}),!v.content.status||w?(0,a.jsx)("div",{className:"tb_gf_post_overlay tb_gf_post_overlay-dark",children:(0,a.jsx)("div",{})}):null]})})}})};var h=n(66345);class v extends i.Component{constructor(e){super(e),this.intervalId=null,this.updateIndex=()=>{const{Post:e,handleSlideChange:t}=this.props;let n=this.state.currentActiveIndex+1;n>=e.length&&(n=0,t()),this.setState({currentActiveIndex:n})},this.state={currentActiveIndex:-1}}componentDidMount(){const{currentIndex:e,intervalTime:t,index:n}=this.props;e!=n||h.Vn||(this.intervalId=setInterval(this.updateIndex,1e3*t))}componentWillUnmount(){clearInterval(this.intervalId)}UNSAFE_componentWillReceiveProps(e){const{index:t}=this.props;e.currentIndex!=t&&(clearInterval(this.intervalId),this.setState({currentActiveIndex:-1})),e.currentIndex!=t||h.Vn||(this.intervalId=setInterval(this.updateIndex,1e3*e.intervalTime))}render(){const{ThemeStyle:e,CardStyle:t,ThemeInfo:n,largeDiv:i,smallDiv:l,Post:o,completeDataObject:s,index:d,clickToShowPopUp:r,onClickToCTA:c,postSizeInPx:v,postSize:u,onClickPopUpSlider:m}=this.props,{currentActiveIndex:S}=this.state,x=e.direction||"left",I=h.Vn?d%2:0,w={width:i+"%",float:"0"==I?"right"==x?"right":"left":"right"==x?"left":"right"},g={width:l+"%",float:"right"==x?"left":"right"};return o&&o.length>0?(0,a.jsxs)("div",{className:"ts_gf_post_row",children:[(0,a.jsx)("div",{className:"ts_gf_post_large",style:w,children:(0,a.jsx)(p,{ownerId:null===n||void 0===n?void 0:n.ownerId,Post:s[o[0]],index:d,postSize:100,CardStyle:t,ThemeStyle:e,wallID:null===n||void 0===n?void 0:n.wallId,clickToShowPopUp:r,onClickToCTA:c,postSizeInPx:v,completeDataObject:s,onClickPopUpSlider:m,contentActive:0==S},"sqr_crd_".concat(0,"_",s[o[0]].id))}),(0,a.jsxs)("div",{className:"ts_gf_post_small",style:g,children:[o&&o.length>0?o.map((i,l)=>{const o=s[i];return 0!=l?(0,a.jsx)(p,{ownerId:null===n||void 0===n?void 0:n.ownerId,Post:o,index:l,postSize:u,CardStyle:t,ThemeStyle:e,wallID:null===n||void 0===n?void 0:n.wallId,clickToShowPopUp:r,onClickToCTA:c,postSizeInPx:v,completeDataObject:s,onClickPopUpSlider:m,contentActive:S==l},"sqr_crd_".concat(l,"_").concat(i.id)):null}):null," "]})]}):null}}const u=v;var m=n(52867);class S extends i.Component{constructor(e){super(e),this.myRef=i.createRef(),this.handleSlideChange=this.handleSlideChange.bind(this),this.state={postData:[],windowWidth:window.innerWidth,currentIndex:0}}componentDidMount(){const{renderId:e}=this.props;e.renderId&&this.setState({windowWidth:document.getElementById(e.renderId).clientWidth})}handleSlideChange(){if(this.myRef.current){const e=this.myRef.current.splide,t=(e.index+1)%e.length;e.go(t)}}shouldComponentUpdate(e,t){return this.props.postData!==e.postData||this.props.ThemeStyle!==e.ThemeStyle||this.props.CardStyle!==e.CardStyle||this.props.containerSize!==e.containerSize||this.state.windowWidth!==t.windowWidth||this.state.currentIndex!==t.currentIndex}render(){var e;const{postData:t,completeDataObject:n,CardStyle:i,ThemeStyle:o,ThemeInfo:s,clickToShowPopUp:d,onClickToCTA:r,postSizeInPx:c,onClickPopUpSlider:p,containerSize:v}=this.props,{windowWidth:S}=this.state,x=(0,m.Ci)(v.width,o.column,310),I=o.column.desktop,{cardWidth:w,largeDiv:g,smallDiv:f}=(0,m.jO)(S,x),_=S<768?3:I||1,C=S<768?3:x,T=(null===o||void 0===o||null===(e=o.slide)||void 0===e?void 0:e.slideDuration)||5,y=[];for(let l=0;l<t.length;l+=_)y.push(t.slice(l,l+_));return(0,a.jsx)("div",{tabIndex:"0","aria-label":"There are ".concat((null===t||void 0===t?void 0:t.length)||0," posts in the feed"),role:"feed",className:"tb_gf_post_container",children:h.Vn?(0,a.jsx)("div",{className:"tb_gf_slider_wrappper",children:y.map((e,t)=>e.length===C&&(0,a.jsx)(u,{postSize:w,ownerId:s.ownerId,Post:e,index:t,CardStyle:i,ThemeStyle:o,wallID:s.wallId,clickToShowPopUp:d,onClickToCTA:r,postSizeInPx:c,completeDataObject:n,largeDiv:g,smallDiv:f,onClickPopUpSlider:p,intervalTime:T,currentIndex:this.state.currentIndex,handleSlideChange:this.handleSlideChange},t))}):(0,a.jsx)(l.eB,{hasTrack:!1,className:"tb_gf_slider_wrappper",options:{type:"fade",rewind:!1,speed:1e3,perPage:1,perMove:1,gap:0,autoplay:!1,pauseOnHover:!1,padding:0,pagination:!1,arrows:!1},ref:this.myRef,onActive:e=>this.setState({currentIndex:e.index}),children:(0,a.jsx)(l.v9,{children:y.map((e,t)=>e.length===C&&(0,a.jsx)(l.Nn,{children:(0,a.jsx)(u,{ownerId:s.ownerId,postSize:w,Post:e,index:t,CardStyle:i,ThemeStyle:o,wallID:s.wallId,clickToShowPopUp:d,onClickToCTA:r,postSizeInPx:c,completeDataObject:n,largeDiv:g,smallDiv:f,onClickPopUpSlider:p,intervalTime:T,currentIndex:this.state.currentIndex,handleSlideChange:this.handleSlideChange})},t))})})})}}const x=S}}]);