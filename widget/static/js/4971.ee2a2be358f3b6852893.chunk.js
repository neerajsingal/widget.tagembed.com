(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[4971],{24971:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>h});var i=a(10467),r=a(9950),n=a(38092),o=a.n(n),s=a(76506),l=a(59418),d=a.n(l),u=a(44414);class c extends r.Component{constructor(e){var t;super(e),t=this,this.handlePlay=()=>{this.setState({isPlaying:!0})},this.onMediaLoad=function(){var e=(0,i.A)((function*(e){var{mediaHeight:a,mediaWidth:i,postFile:r}=e;if(a&&i)t.setState({mediaSize:{height:a,width:i}});else try{var{width:n,height:o}=yield(0,s.TW)(r);t.setState({mediaSize:{height:o,width:n}})}catch(l){t.setState({mediaSize:{height:100,width:100}})}}));return function(t){return e.apply(this,arguments)}}(),this.state={imageError:!1,windowWidth:window.innerWidth,windowHeight:window.innerHeight,mediaSize:{height:400,width:400},animate:!1,item:null,isPlaying:!1}}componentDidMount(){this.onLoadAnimation()}componentDidUpdate(e){d()(e.item,this.props.item)||(this.setState({item:this.props.item,animate:!1}),this.onLoadAnimation())}onLoadAnimation(){setTimeout((()=>{this.setState({animate:!0}),this.onMediaLoad(this.props.item)}),1e3)}render(){var e,t,a,i,r,n,{item:s}=this.props,l="".concat(null===s||void 0===s||null===(e=s.media)||void 0===e||null===(t=e.image)||void 0===t?void 0:t.large),{windowHeight:d,windowWidth:c,mediaSize:h,animate:v,isPlaying:p}=this.state,m=1!=s.type,f=3==s.type||5==s.type,w=Math.min(c/h.width,d/h.height),g=h.height*w,y=h.width*w,_={paddingBottom:"".concat(100*g/y,"%")};return(0,u.jsxs)("div",{id:"spotlight__",className:"sl_container",children:[(0,u.jsx)("div",{className:"sl_overlay_ ".concat(v?"sl_media_ani":""),style:{backgroundImage:"url(".concat(l,")")}}),(0,u.jsx)("div",{className:"sl_wrap",children:(0,u.jsx)("div",{className:"sl_wrap_row sl_only_text",children:m?(0,u.jsx)("div",{className:"sl_media_wrap ".concat(v?"sl_media_ani":""),style:{maxWidth:y},children:f?(0,u.jsxs)("div",{className:"sl_media_wrap_",style:_,children:[!p&&(0,u.jsx)("img",{src:l,alt:"Video Poster",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",cursor:"pointer",zIndex:1},onLoad:this.handlePlay}),(0,u.jsx)(o(),{url:(r=null===s||void 0===s||null===(a=s.media)||void 0===a||null===(i=a.video)||void 0===i?void 0:i.full,n=s.networkId,25===n?String(r).replace("https://w.soundcloud.com/player/?url=",""):r),config:{facebook:{appId:"117029975354072",attributes:{"data-width":"auto",muted:!0,poster:l}},file:{forceVideo:!0,attributes:{muted:!0,poster:l}}},className:"sl_media_",loop:!0,autoPlay:!0,muted:!0,volume:1,playsinline:!0,playing:!0,height:"100%",width:"100%",controls:!1})]}):(0,u.jsx)("div",{className:"sl_media_wrap_",style:_,children:(0,u.jsx)("img",{className:"sl_media_",src:l,height:g,width:y})})}):null})})]})}}const h=(0,r.memo)(c)},76506:(e,t,a)=>{"use strict";a.d(t,{C9:()=>m,Cq:()=>p,HI:()=>h,Ph:()=>b,S2:()=>y,TW:()=>N,Uy:()=>u,fF:()=>f,hZ:()=>w,hz:()=>v,p5:()=>x,pD:()=>S,pj:()=>j,sl:()=>_,um:()=>c,wG:()=>g});var i=a(66345),r=a(80415),n=a(296),o=a(68553),s=[],l=!1,d=new Headers({"Content-Type":"application/json",Authorization:"Bearer ".concat(i.$x),Productdomain:i.QR}),u=e=>{var t;return null===(t=document.getElementById("tb_onsite_btn_id"))||void 0===t?void 0:t.classList.toggle("tb_onsite_btn_disabled",1===e)},c=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(i.aD||"reviewHub"==e)return window.parent.postMessage({type:e,owerId:a},"*");var r={1:()=>window.onShowDemoPost(1),2:()=>window.hendleFeeds("addFeeds"),3:()=>window.hendleFeeds("manageFeeds")};null===(t=r[e])||void 0===t||t.call(r)},h=e=>{try{s.push(e)}catch(t){console.log(t)}},v=e=>e&&""!==e&&!e.includes("ui-avatars"),p=e=>{if(!e)return"0 Byte";var t=Math.floor(Math.log(e)/Math.log(1024));return{size:Math.round(e/Math.pow(1024,t),2),sizeText:["Bytes","KB","MB","GB","TB"][t]}},m=e=>e.startsWith("http://")||e.startsWith("https://")?e:"https://"+e,f=e=>{var t,{wall:a}=n.A.getState().appData,i=[1778189].includes(null===a||void 0===a||null===(t=a.ThemeInfo)||void 0===t?void 0:t.ownerId)?"fr":"en";if(!e||isNaN(e))return"fr"===i?"date invalide":"invalid date";var r=new Date(1e3*e),o=new Date-r;if(isNaN(o)||o<0)return"fr"===i?"date invalide":"invalid date";var s={en:{justNow:"just now",year:"year",years:"years",month:"month",months:"months",week:"week",weeks:"weeks",day:"day",days:"days",hour:"hour",hours:"hours",minute:"minute",minutes:"minutes",prefix:"",suffix:" ago"},fr:{justNow:"\xe0 l\u2019instant",year:"an",years:"ans",month:"mois",months:"mois",week:"semaine",weeks:"semaines",day:"jour",days:"jours",hour:"heure",hours:"heures",minute:"minute",minutes:"minutes",prefix:"il y a ",suffix:""}},l=s[i]||s.en,d=[{single:l.year,plural:l.years,ms:31536e6},{single:l.month,plural:l.months,ms:2592e6},{single:l.week,plural:l.weeks,ms:6048e5},{single:l.day,plural:l.days,ms:864e5},{single:l.hour,plural:l.hours,ms:36e5},{single:l.minute,plural:l.minutes,ms:6e4}];if(o<6e4)return l.justNow;var u=d.find((e=>{var{ms:t}=e;return o>=t})),c=Math.floor(o/u.ms);return"".concat(l.prefix).concat(c," ").concat(c>1?u.plural:u.single).concat(l.suffix)},w=e=>3==e?r.lY:r.TF,g=e=>e&&String(e)?unescape(e).split("/").pop().split("/").slice(-1).join().split(".").shift():"",y=["localhost","widget","wall_id="].every((e=>(0,i.vq)(e)))?"taggbox_main":["".concat(i.Xg,".").concat(i.IF),"".concat(i.Xg).concat(i.t6).concat(i.IF),"".concat(i.Xg,"s.").concat(i.IF)].some((e=>(0,i.vq)(e)))?"tag_main__root":i.HY?"taggShopRoot":"taggbox_main",_=e=>{e=e||0;var t=Math.floor(Math.log10(e)/3)||0;if(0===t)return e.toString();var a=(e/Math.pow(1e3,t)).toFixed(2),i=parseFloat(a)+["","K","M","B","T"][t];return a&&"NaN"!=a?i:0},b=e=>i.MH?e:atob(e),x=(e,t,a)=>e&&e.length>0?e.findIndex((e=>e.id===t)):a,j=()=>{try{var{wall:e}=n.A.getState().appData,{webId:t,wallId:a,ownerId:r}=e.ThemeInfo;l||(window.addEventListener("beforeunload",(()=>{if(0!==s.length){var e=s.reduce(((e,t)=>e+t),0);e>0?fetch(i.KQ,{method:"POST",headers:d,body:JSON.stringify({action:1,model:null!==o.Ex&&void 0!==o.Ex&&o.Ex.includes("website")?"website":"wall",playCount:s.length,wall:i.aD?a:t,playTime:e,owner:r}),keepalive:!0}).finally((()=>(s=[],l=!1))):(s=[],l=!1)}})),l=!0)}catch(u){console.error(u)}},N=e=>new Promise(((t,a)=>Object.assign(new Image,{onload:function(){t({width:this.naturalWidth,height:this.naturalHeight})},onerror:e=>a(new Error("Image loading error: ".concat(e.message))),src:e}))),S=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{var a=0,i=0,r="",o=0,s="",l=[];if(t)return e.map((e=>{a+=e.averageReviews*e.totalReviews,i+=e.totalReviews,r="Overall",o=0,s=e.color,l=(null===e||void 0===e?void 0:e.reviewList)||[]})),{network:{name:r,avgRate:isNaN(a/i)?0:(a/i).toFixed(1),totalReviews:i,color:s,reviewList:l},activeId:o};var d,{wall:u}=n.A.getState().appData,c=null===u||void 0===u||null===(d=u.Banner)||void 0===d?void 0:d.title_font_color;return e.map((t=>{var n;a+=t.averageReviews*t.totalReviews,i+=t.totalReviews,r=e.length>1?"Overall":t.name,o=e.length>1?0:t.id,c=e.length>1?null===u||void 0===u||null===(n=u.Banner)||void 0===n?void 0:n.title_font_color:t.color,l=e.length>1?(e=>{try{var t=new Map;return e.forEach((e=>{e.Network.reviewList.forEach((e=>{t.set(e.rating,(t.get(e.rating)||0)+e.count)}))})),Array.from(t,(e=>{var[t,a]=e;return{rating:t,count:a}}))}catch(a){}})(e):(null===t||void 0===t?void 0:t.reviewList)||[]})),{network:{name:r,avgRate:isNaN(a/i)?0:(a/i).toFixed(1),totalReviews:i,color:c,reviewList:l},activeId:o}}catch(h){console.log("ex",h)}}},36669:(e,t,a)=>{var i=a(54467),r=a(62274),n=a(69757);function o(e){var t=-1,a=null==e?0:e.length;for(this.__data__=new i;++t<a;)this.add(e[t])}o.prototype.add=o.prototype.push=r,o.prototype.has=n,e.exports=o},56010:e=>{e.exports=function(e,t){for(var a=-1,i=null==e?0:e.length;++a<i;)if(t(e[a],a,e))return!0;return!1}},1404:(e,t,a)=>{var i=a(92130),r=a(39248);e.exports=function e(t,a,n,o,s){return t===a||(null==t||null==a||!r(t)&&!r(a)?t!==t&&a!==a:i(t,a,n,o,e,s))}},92130:(e,t,a)=>{var i=a(25535),r=a(49757),n=a(21416),o=a(16195),s=a(25531),l=a(12279),d=a(6794),u=a(71641),c="[object Arguments]",h="[object Array]",v="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,a,m,f,w){var g=l(e),y=l(t),_=g?h:s(e),b=y?h:s(t),x=(_=_==c?v:_)==v,j=(b=b==c?v:b)==v,N=_==b;if(N&&d(e)){if(!d(t))return!1;g=!0,x=!1}if(N&&!x)return w||(w=new i),g||u(e)?r(e,t,a,m,f,w):n(e,t,_,a,m,f,w);if(!(1&a)){var S=x&&p.call(e,"__wrapped__"),k=j&&p.call(t,"__wrapped__");if(S||k){var I=S?e.value():e,M=k?t.value():t;return w||(w=new i),f(I,M,a,m,w)}}return!!N&&(w||(w=new i),o(e,t,a,m,f,w))}},63445:e=>{e.exports=function(e,t){return e.has(t)}},49757:(e,t,a)=>{var i=a(36669),r=a(56010),n=a(63445);e.exports=function(e,t,a,o,s,l){var d=1&a,u=e.length,c=t.length;if(u!=c&&!(d&&c>u))return!1;var h=l.get(e),v=l.get(t);if(h&&v)return h==t&&v==e;var p=-1,m=!0,f=2&a?new i:void 0;for(l.set(e,t),l.set(t,e);++p<u;){var w=e[p],g=t[p];if(o)var y=d?o(g,w,p,t,e,l):o(w,g,p,e,t,l);if(void 0!==y){if(y)continue;m=!1;break}if(f){if(!r(t,(function(e,t){if(!n(f,t)&&(w===e||s(w,e,a,o,l)))return f.push(t)}))){m=!1;break}}else if(w!==g&&!s(w,g,a,o,l)){m=!1;break}}return l.delete(e),l.delete(t),m}},21416:(e,t,a)=>{var i=a(4635),r=a(48246),n=a(44206),o=a(49757),s=a(90943),l=a(26557),d=i?i.prototype:void 0,u=d?d.valueOf:void 0;e.exports=function(e,t,a,i,d,c,h){switch(a){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!c(new r(e),new r(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return n(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var v=s;case"[object Set]":var p=1&i;if(v||(v=l),e.size!=t.size&&!p)return!1;var m=h.get(e);if(m)return m==t;i|=2,h.set(e,t);var f=o(v(e),v(t),i,d,c,h);return h.delete(e),f;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},16195:(e,t,a)=>{var i=a(93660),r=Object.prototype.hasOwnProperty;e.exports=function(e,t,a,n,o,s){var l=1&a,d=i(e),u=d.length;if(u!=i(t).length&&!l)return!1;for(var c=u;c--;){var h=d[c];if(!(l?h in t:r.call(t,h)))return!1}var v=s.get(e),p=s.get(t);if(v&&p)return v==t&&p==e;var m=!0;s.set(e,t),s.set(t,e);for(var f=l;++c<u;){var w=e[h=d[c]],g=t[h];if(n)var y=l?n(g,w,h,t,e,s):n(w,g,h,e,t,s);if(!(void 0===y?w===g||o(w,g,a,n,s):y)){m=!1;break}f||(f="constructor"==h)}if(m&&!f){var _=e.constructor,b=t.constructor;_==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof _&&_ instanceof _&&"function"==typeof b&&b instanceof b||(m=!1)}return s.delete(e),s.delete(t),m}},90943:e=>{e.exports=function(e){var t=-1,a=Array(e.size);return e.forEach((function(e,i){a[++t]=[i,e]})),a}},62274:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},69757:e=>{e.exports=function(e){return this.__data__.has(e)}},26557:e=>{e.exports=function(e){var t=-1,a=Array(e.size);return e.forEach((function(e){a[++t]=e})),a}},59418:(e,t,a)=>{var i=a(1404);e.exports=function(e,t){return i(e,t)}}}]);