(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[342,531,629,2685,2802,5757],{30629:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>h});var n=i(9950),s=i(48400),a=i(10300),o=i(52867),l=i(93152),r=i(66345),d=i(44414);class c extends n.PureComponent{constructor(){super(...arguments),this.handleResize=()=>this.getActiveWrapperSize(),this.getActiveWrapperSize=e=>{var t=0,i=0,{SnapUp:n,ThemeInfo:s,sliderClass:a}=this.props,{QrCode:l,Form:d}=n;if(s.IsUser&&!(0,o.Fr)()&&(l.status||d.status))var c=setInterval((()=>{var e=document.querySelector(".".concat(a));if(e){var n=e.getBoundingClientRect(),o=n.width,l=n.height;o==t&&l==i&&o>0?(clearInterval(c),this.props.updateContainerSize(o,l,1)):(t=o,i=l,this.props.updateContainerSize(o,l),setTimeout((()=>{(r.sb||[80,47,16,81,60].includes(s.id))&&this.props.updateContainerSize(o,l,2),clearInterval(c)}),[16,80,47].includes(s.id)?1e3:3e3),[80,47,16,81,60].includes(s.id)&&setTimeout((()=>{this.props.updateContainerSize(o,l,1),clearInterval(c)}),3e3))}else console.log("No active wrapper found"),clearInterval(c)}),10)}}componentDidMount(){var{SnapUp:e,ThemeInfo:t}=this.props,{QrCode:i,Form:n}=e;t.IsUser&&!(0,o.Fr)()&&(i.status||n.status)&&(this.getActiveWrapperSize(1),window.addEventListener("resize",this.handleResize))}componentWillUnmount(){var{SnapUp:e,ThemeInfo:t}=this.props,{QrCode:i,Form:n}=e;t.IsUser&&!(0,o.Fr)()&&(i.status||n.status)&&window.removeEventListener("resize",this.handleResize)}render(){var e,{SnapUp:t,ThemeInfo:i,CardStyle:n,postSize:a,isClass:l,qrCardWidth:c,qrCardHeight:h,isLoad:u}=this.props,{QrCode:p,Form:v}=t,_=null!==p&&void 0!==p&&p.position?" tb_pos-".concat(p.position):null,m=[80,81,16,47].includes(i.id),b=(null===n||void 0===n||null===(e=n.style)||void 0===e?void 0:e.margin)/2,x=(e,t)=>(0,d.jsx)("div",{onClick:()=>this.props.onSitePopup(!0),className:"tb_onsite_upload_btn_wrap ".concat(_),children:(0,d.jsxs)("div",{className:"tb_onsite_upload_btn",children:[p.text?(0,d.jsx)("div",{className:"tb_snap_btn_bg",children:(0,d.jsx)("div",{})}):null,(0,d.jsx)("div",{className:"tb_onsite_btn",children:p.status&&!r.eg?(0,d.jsxs)("div",{className:"tb_onsite_qr_btn_wrap",children:[1==p.status?(0,d.jsx)("div",{className:"tb_onsite_qr_code",children:(0,d.jsx)(s.Ay,{level:"L",size:60,value:"".concat((0,o.dq)()).concat(i.webId,"?").concat(i.webId!=i.wallId?"website=true&":"","onsite-upload"),fgColor:e,bgColor:t})}):null,p.text?(0,d.jsx)("div",{className:"tb_onsite_btn_txt tb-cTBfont-".concat(p.style.variant),children:p.text}):""]}):(0,d.jsx)("div",{className:"tb_onsite_btn_wrap_text",children:p.text?(0,d.jsxs)("div",{className:"tb_onsite_btn_txt tb-cTBfont-".concat(p.style.variant),children:[i.IsUser?(0,d.jsx)("div",{className:"tb_onsite_btn_icon_list onsite_icon_vertical",children:(0,d.jsx)("div",{className:"tb__icon",children:(0,d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 640",fill:"#fff",width:"28",height:"28",children:(0,d.jsx)("path",{d:"M352 128C352 110.3 337.7 96 320 96C302.3 96 288 110.3 288 128L288 288L128 288C110.3 288 96 302.3 96 320C96 337.7 110.3 352 128 352L288 352L288 512C288 529.7 302.3 544 320 544C337.7 544 352 529.7 352 512L352 352L512 352C529.7 352 544 337.7 544 320C544 302.3 529.7 288 512 288L352 288L352 128z"})})})}):null,p.text]}):""})})]})});return p.status||v.status?[20,5,19,3,83,16,47,60,79,80,81,4].includes(i.id)&&i.IsUser?[47,16,60,81,80].includes(i.id)&&(0,o.Fr)()?(0,d.jsx)(x,{color:"#000",background:"#fff"}):u?(0,d.jsx)("div",{onClick:()=>this.props.onSitePopup(!0),style:{width:c?"".concat(c,"px"):"".concat(a,"%"),height:h?"".concat([81].includes(i.id)?h-0:h,"px"):"auto",padding:b,paddingLeft:[80].includes(i.id)?0:b},className:" ".concat(l||null,"  ").concat([4].includes(i.id)?"":"tb_onsite_upload_btn_wrap"," tb-qr-card"),children:(0,d.jsx)("div",{className:m?"qr_relative":"w-100",children:(0,d.jsxs)("div",{className:"tb_review_hub_wrap ".concat([60,81,80].includes(i.id)?"tb_review_hub_wrap_slide":""," ").concat([4].includes(i.id)?"qr-padding-0":""," "),children:[p.status&&!r.eg?(0,d.jsx)("div",{className:"tb_review_hub_qr",style:{marginBottom:p.text?"20px":"0"},children:(0,d.jsx)(s.Ay,{level:"L",value:"".concat((0,o.dq)()).concat(i.webId,"?").concat(i.webId!=i.wallId?"website=true&":"","onsite-upload"),fgColor:"#000",bgColor:"#fff"})}):null,!p.status||r.eg?(0,d.jsx)("div",{className:"tb_onsite_btn_icon_list",style:{marginBottom:p.text?"20px":"0"},children:(0,d.jsx)("div",{className:"tb__icon tb-plus-svg",children:(0,d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 640",fill:"#fff",width:"18",height:"18",children:(0,d.jsx)("path",{d:"M352 128C352 110.3 337.7 96 320 96C302.3 96 288 110.3 288 128L288 288L128 288C110.3 288 96 302.3 96 320C96 337.7 110.3 352 128 352L288 352L288 512C288 529.7 302.3 544 320 544C337.7 544 352 529.7 352 512L352 352L512 352C529.7 352 544 337.7 544 320C544 302.3 529.7 288 512 288L352 288L352 128z"})})})}):null,p.text?(0,d.jsx)("div",{className:"tb_review_hub_txt",children:p.text}):null]})})}):null:(0,d.jsx)(x,{color:"#000",background:"#fff"}):null}}const h=(0,a.Ng)((e=>({modalPop:e.modalPop})),(e=>({onSitePopup:t=>e((0,l.b8)(t))})))(c)},60531:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>o});var n=i(9950),s=i(44414);class a extends n.PureComponent{render(){var{Post:e,cta:t,ctaClass:i,onClickToCTA:n}=this.props,a={color:null===t||void 0===t?void 0:t.color,backgroundColor:null===t||void 0===t?void 0:t.background};return t.status?(0,s.jsxs)("div",{className:i,style:a,role:"button",tabIndex:"0","aria-label":"CTA Button",onClick:i=>{i.stopPropagation(),n(e),window.open("".concat(t.url),"_blank")},children:[" ",t.text]}):null}}const o=a},14250:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});i(9950);var n=i(44414);const s=e=>{var t,{aiSummary:i,type:s}=e;return 1===s?(0,n.jsx)("div",{className:"tb_ai_content",children:null===i||void 0===i||null===(t=i.bullet_points)||void 0===t?void 0:t.map(((e,t)=>(0,n.jsx)("div",{className:"tb_ai_list_item",children:e},t)))}):(0,n.jsx)("div",{className:"tb_ai_content",children:null===i||void 0===i?void 0:i.text})}},71320:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>l});var n=i(9950),s=i(96241),a=i(14250),o=i(44414);class l extends n.PureComponent{constructor(e){super(e),this.toggleExpand=e=>{e.stopPropagation(),this.setState({isExpanded:!this.state.isExpanded})},this.state={isExpanded:!1},this.toggleExpand=this.toggleExpand.bind(this),this.contentRef=n.createRef()}componentDidMount(){setTimeout((()=>{var e,t;if(null!==(e=this.contentRef)&&void 0!==e&&null!==(t=e.current)&&void 0!==t&&t.clientHeight){var i,n,s=(null===(i=this.contentRef)||void 0===i||null===(n=i.current)||void 0===n?void 0:n.clientHeight)||0;this.props.contentRefCallBack&&this.props.contentRefCallBack(s)}}),100)}render(){var{CardStyle:e,contentClass:t,Content:i,Lines:n,isReadMore:l,item:r,ThemeStyle:d,Post:c}=this.props,h={WebkitLineClamp:this.state.isExpanded?void 0:n,textAlign:e.style.textAlign};return(0,o.jsxs)("div",{className:"".concat("".concat(t," ").concat(e.style.variant?" tb-cTBfont-".concat(e.style.variant):"")),children:[(0,o.jsx)("div",{className:"tb_content_text ".concat(n>0?"tb_content_trim":""),ref:this.contentRef,style:h,children:null!==c&&void 0!==c&&c.aiStatus?(0,o.jsx)(a.A,{aiSummary:null===c||void 0===c?void 0:c.aiSummary,type:null===d||void 0===d?void 0:d.aiSummaryStatus}):(0,o.jsx)(s.A,{networkId:null===c||void 0===c?void 0:c.networkId,Content:i,CardStyle:e})}),l?(0,o.jsxs)("div",{onClick:this.toggleExpand,className:"tb_read_more_",children:[" ","Read More"]}):null]})}}},96241:(e,t,i)=>{"use strict";i.d(t,{A:()=>b});var n=i(89379),s=i(9950),a=i(88740),o=i(42083),l=i(70804),r=i(44414),d=function(e){return"string"===typeof e},c=(e,t,i)=>{if(!d(e)&&!s.isValidElement(e))return e;d(t)&&(t=function(e){var t=/[\\^$.*+?()[\]{}|]/g,i=RegExp(t.source);return e&&i.test(e)?e.replace(t,"\\$&"):e}(t)),t instanceof RegExp||(t=new RegExp(t,"g"));for(var n,a=[],o=0,l=[];null!==(n=t.exec(e));)l.push(n);if(t.lastIndex=0,0===l.length)return e;l.forEach(((t,n)=>{var s=e.slice(o,t.index);s&&a.push(s);var l=i(...t,n,o);a.push(l),o=t.index+t[0].length}));var r=e.slice(o);return r&&a.push(r),function(e){var t=[];return e.forEach((function(e){Array.isArray(e)?t=t.concat(e):t.push(e)})),t}(a)},h=e=>{var{Content:t,children:i}=e;return(0,r.jsxs)(r.Fragment,{children:[t.title?(0,r.jsx)("div",{className:"tb_bold_txt__",children:(0,a.Ay)(t.title)}):null,i]})},u=/(https?:\/\/[^\s]+)/g,p=e=>(0,r.jsx)(o.default,{children:(0,l.Ay)(e)}),v=(e,t)=>{var i;return"string"===typeof e?c(e,/#(\w+)/g,((e,i)=>(0,r.jsxs)("span",{className:"tb_highlight",style:t,children:["#",e]},"tag-".concat(e,"-").concat(i)))):Array.isArray(e)?e.map(((e,i)=>v(e,t))):s.isValidElement(e)&&null!==(i=e.props)&&void 0!==i&&i.children?s.cloneElement(e,(0,n.A)((0,n.A)({},e.props),{},{children:v(e.props.children,t)})):e},_=e=>e&&"string"===typeof e?e=(e=e.replace(/<([^|>]+)\|([^>]+)>/g,'<a href="$1" target="_blank" rel="noopener noreferrer">$2</a>')).replace(/<((https?:\/\/)[^>|]+)>/g,'<a href="$1" target="_blank" rel="noopener noreferrer">$1</a>'):e,m=e=>{var t,i,n,s,{Content:o,CardStyle:l,networkId:d}=e,m={color:null===l||void 0===l||null===(t=l.hashtag)||void 0===t?void 0:t.color,backgroundColor:1===(null===l||void 0===l||null===(i=l.hashtag)||void 0===i?void 0:i.backgroundStatus)?null===l||void 0===l||null===(n=l.hashtag)||void 0===n?void 0:n.background:null},b=(null===o||void 0===o?void 0:o.feedName)||null;if(20===d&&window.slackdown){var x,f=null===o||void 0===o?void 0:o.text;try{x=p(window.slackdown.parse(f))}catch(j){console.error("Slackdown parsing error:",j);var w=_(f);x=p(w)}return(0,r.jsx)(h,{Content:o,children:x})}var g,C,y=(0,a.Ay)(_(20===d?null===o||void 0===o?void 0:o.text:(e=>String(e).replace(/\\n\\n/g,"<br /><br />").replace(/\\n/g,"<br />"))(null===o||void 0===o?void 0:o.text)));(y=c(y,u,((e,t)=>(0,r.jsx)("a",{href:e,target:"_blank",rel:"noopener noreferrer",style:{color:"#0645AD"},children:e},"url-".concat(t)))),null!==l&&void 0!==l&&null!==(s=l.hashtag)&&void 0!==s&&s.colorStatus)&&(1===(null===l||void 0===l||null===(g=l.hashtag)||void 0===g?void 0:g.allHashtag)?y=v(y,m):1===(null===l||void 0===l||null===(C=l.hashtag)||void 0===C?void 0:C.feedHashtag)&&b&&(y=c(y,b,((e,t)=>(0,r.jsx)("span",{className:"tb_highlight",style:m,children:e},"feed-".concat(t,"-").concat((e=>Math.floor(Math.random()*(e.length?e.length:1)))(t)))))));return(0,r.jsx)(h,{Content:o,children:y})};const b=(0,s.memo)(m)},72685:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>o});var n=i(9950),s=i(21850),a=i(44414);class o extends n.PureComponent{constructor(){super(...arguments),this.onClickData=e=>t=>{var{Post:i,ThemeInfo:n}=this.props;t.stopPropagation(),(0,s.hq)({type:2,action:2,wall:n.webId,feed:i.feedId,post:i.referenceId?i.referenceId:i.id,owner:n.ownerId}),(0,s.x9)("Tagbox","shareUrl","shareUrl",e),window.open(e,"_blank")}}render(){var{shareClass:e,Post:t}=this.props,{facebook:i,twitter:n,linkedin:s}=null===t||void 0===t?void 0:t.share;return(0,a.jsx)("div",{role:"button",tabindex:t.id,className:"tb_share_wrapper ".concat(e)})}}},60342:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>r});var n=i(9950),s=i(76506),a=i(91697),o=i(44414),l=e=>{var{label:t,hrefClick:i,Icon:n,count:a,itemId:l=0,type:r}=e,d=a>0?(0,s.sl)(a):"";return(0,o.jsx)("div",{className:"tb_social_action__list",role:"listitem","aria-roledescription":"post social action links",children:(0,o.jsxs)("div",{onClick:e=>{e.stopPropagation(),window.open(i,"_blank")},className:"tb_social_action__ico_wrap tb_social_action__ico_wrap_".concat(l),"aria-label":"".concat(t," post ").concat(r," count ").concat(d),role:"button",tabIndex:"0",children:[(0,o.jsx)("div",{className:"tb_social_action_ico__ tb__icon tb-".concat(n),children:"  "}),d?(0,o.jsx)("div",{className:"tb_social_action_counts__",children:d}):""]})})};class r extends n.PureComponent{componentDidMount(){try{var e,{Post:t}=this.props,i=".tb_social_action__ico_wrap_".concat(null===t||void 0===t?void 0:t.id);null===(e=document.querySelector(i))||void 0===e||e.addEventListener("keydown",(function(e){"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),this.click())}))}catch(n){console.log(n)}}render(){var{Post:e,CardStyle:t,actionClass:i}=this.props,{icon:n,style:s}=t,r={color:1==n.default?n.color:s.color},d=e.networkId,{comment:c,like:h}=e.count,u=[3,10,7].includes(d)?"like":"heart-outline",p=[1,2,3,7,8,9,10,18].includes(d),v=![29,19].includes(d),_=(0,a.Oi)(d);return[29,26,23,6,5,11,12,15,20,21].includes(d)?null:(0,o.jsx)("div",{className:i,onClick:e=>e.stopPropagation(),children:(0,o.jsxs)("div",{className:"tb_social_action__",role:"list",children:[p&&(0,o.jsx)(l,{itemId:e.id,label:_,hrefClick:e.link,Icon:u,iconStyle:r,count:h,type:"like"}),v&&(0,o.jsx)(l,{itemId:e.id,label:_,hrefClick:e.link,Icon:"comment",iconStyle:r,count:c,type:"comment"}),1===d&&(0,o.jsx)(l,{itemId:e.id,label:_,hrefClick:e.link,Icon:"retweet",iconStyle:r,count:c,type:"share"}),(0,o.jsx)(l,{label:_,itemId:e.id,hrefClick:e.link,Icon:"eye",iconStyle:r,count:0,type:"view"})]})})}}},49769:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>T});var n=i(89379),s=i(9950),a=i(10300),o=i(53556),l=i(66345),r=i(52867),d=i(3720),c=i(78262),h=i(15537),u=i(44414);const p=e=>{var{Post:t,ThemeInfo:i,ThemeStyle:n,CardStyle:s,index:a,inView:o}=e,r=!(![3,5].includes(t.type)||1!=n.autoPlay),p=s.style.ratio||100,v=!t.hotspot;return(0,u.jsxs)("div",{className:"tb_hc_media_wrap",children:[v?(0,u.jsx)(h.default,{Post:t,IconClass:"tb_hc_media_icon",show:v,isCenter:!1,hideVideo:r}):null,r?(0,u.jsx)(d.A,{VideoClass:"tb_hc_video",Post:t,size:p,isCover:!0,controls:!1,ThemeInfo:i,autoPlay:r,muted:!0,observer:!1,index:a,inView:o}):(0,u.jsx)(c.A,{ImageClass:"tb_hc_image",Post:t,size:p,hotspot:!0,blurBG:!l.aD,observer:!1,index:a,inView:o})]})};var v=i(60531),_=i(55507),m=i(60342),b=i(71320),x=i(72685),f=i(56071),w=i(37949),g=i(6723),C=i(78167),y=(0,s.lazy)((()=>Promise.resolve().then(i.bind(i,92663))));const j=e=>{var t,i,n,{className:a,Post:o,CardStyle:l,inView:d,size:c,Reviews:h}=e,{author:p,networkId:v}=o,_=p.username&&p.username.length>0?"@".concat(p.username):"",m=(0,r.zK)(p.name),b=!(!l.author.status||!l.timeStatus||p.isInstaUser),x=!(!l.author.status||m);return(0,u.jsxs)("div",{className:"".concat(a,"_author_wrapper"),"aria-label":"Author details","aria-roledescription":"post author details",children:[x?(0,u.jsx)(C.default,{network:o.network,alt:o.createdAt,author:p,authorClass:"".concat(a,"_author_profile"),size:c,inView:d}):"",(0,u.jsxs)("div",{className:"".concat(a,"_author_info"),children:[x?(0,u.jsx)("div",{className:"".concat(a,"_authorname tb-cTBfont-").concat(l.author.variant),children:p.name}):"",(0,u.jsx)("div",{className:"".concat(a,"_post_info"),children:null!==p&&void 0!==p&&p.aiStatus?(0,u.jsxs)("div",{className:"tb_mc_username",children:[null===h||void 0===h||null===(t=h.reviewDetails)||void 0===t?void 0:t.avgRating," Based on ",null===h||void 0===h||null===(i=h.reviewDetails)||void 0===i?void 0:i.totalReviewGiven," reviews"]}):(0,u.jsxs)(u.Fragment,{children:[x?(0,u.jsx)("div",{className:"".concat(a,"_username"),children:_}):"",b?(0,u.jsx)(w.default,{sepClass:"".concat(a,"_seprator")}):"",l.timeStatus?(0,u.jsx)(g.default,{createdAt:o.createdAt,timeClass:"".concat(a,"_time tb-cTBfont-").concat(l.author.variant)}):""]})})]}),null!==l&&void 0!==l&&null!==(n=l.icon)&&void 0!==n&&n.status?(0,u.jsx)("div",{className:"".concat(a,"_social_"),children:(0,u.jsx)(s.Suspense,{fallback:(0,u.jsx)("div",{style:{minWidth:20}}),children:(0,u.jsx)(y,{networkClass:"".concat(a,"_social_ico"),networkId:v,iconStyle:l.icon})})}):null]})};class S extends s.PureComponent{constructor(){super(...arguments),this.handleKeyDown=(e,t)=>i=>{"Enter"!==i.key&&" "!==i.key||(i.preventDefault(),this.props.clickToShowPopUp(e,t)(i))}}render(){var{Post:e,CardStyle:t,index:i,ThemeInfo:n,onClickToCTA:a,ThemeStyle:o,clickToShowPopUp:r,Reviews:d}=this.props,c=1!==e.type,h=e.rating>0?"tb_hc_rating_content":"tb_hc_content",w=1===e.type?"tb_hc_text_post":"",g=1===e.type&&String(e.content).length>0&&t.style.textDecoration?"tb_hc_text_decoration":"",C=null!==e&&void 0!==e&&e.aiStatus&&1==(null===o||void 0===o?void 0:o.aiSummaryStatus)?" tb_ai_summarizer_list":"";return(0,u.jsx)(f.A,{children:f=>{var{ref:y,inView:S}=f;return(0,u.jsx)("div",{id:"tb_hc_id-".concat(e.id),className:"tb_hc_post_wrapper".concat(null!==e&&void 0!==e&&e.aiStatus?" tb_ai_summarizer":"").concat(C),ref:y,style:{padding:t.style.margin/2},role:"article","aria-label":e.content.text,"post-id":e.referenceId?e.referenceId:e.id,"feed-id":e.feedId,children:(0,u.jsxs)("div",{onKeyDown:this.handleKeyDown(i,e),role:"button",tabindex:e.id,className:"tb_hc_post_in ".concat("1533063"==n.ownerId?"tb_hc_post_in_custom":""),onClick:r(i,e),"aria-label":"Popup",children:[t.shareStatus&&![1533063].includes(n.ownerId)?(0,u.jsx)(x.default,{share:e.share,shareClass:"tb_hc_share_container",Post:e,ThemeInfo:n}):"",c?(0,u.jsx)(p,{Post:e,CardStyle:t,ThemeInfo:n,ThemeStyle:o,index:i,inView:S}):null,(0,u.jsxs)("div",{className:"tb_hc_contant_wrapper ".concat(w),children:[(0,u.jsx)(j,{className:"tb_hc",Post:e,CardStyle:t,inView:S,size:46,Reviews:d}),!t.globalCTA.status&&!Object.keys(e.cta).length||l.aD?"":(0,u.jsx)(s.Suspense,{fallback:(0,u.jsx)(u.Fragment,{}),children:(0,u.jsx)("div",{className:"tb_hc_post_cta",onClick:e=>{e.stopPropagation()},children:(0,u.jsx)(v.default,{ctaClass:"tb_hc_post_cta_btn",Post:e,cta:null!==e&&void 0!==e&&e.cta&&Object.keys(e.cta).length?e.cta:t.globalCTA,onClickToCTA:a})})}),e.rating&&e.rating>0?(0,u.jsx)(s.Suspense,{fallback:(0,u.jsx)(u.Fragment,{}),children:(0,u.jsx)(_.default,{className:"tb_hc_rating",rating:e.rating,networkId:e.networkId})}):null,t.content.status||1==e.type?(0,u.jsx)("div",{className:"tb_hc_content_wrapper__",children:(0,u.jsx)(b.default,{contentClass:"".concat(h," ").concat(g),Content:e.content,CardStyle:t,Lines:t.content.lines,ThemeStyle:o,Post:e})}):null]}),t.actionStatus?(0,u.jsx)(m.default,{Post:e,CardStyle:t,actionClass:"tb_hc_social_action__"}):""]})})}})}}i(61038);var k=i(21850),I=i(30629);class N extends s.Component{constructor(e){super(e),this.requestData=()=>{var{containerSize:e,ThemeStyle:t,appendData:i,ThemeInfo:n,hasMoreData:s,loaderData:a,nextData:o}=this.props;s&&t.autoScrollStatus&&!a.isShowMoreLoading&&o(l.aD?n.wallId:n.webId,Math.floor(Date.now()/1e3),(0,r.Ci)(e.width,t.column,280),i.networkID,i.after,i.heightEvent)},this.updateContainerSize=(e,t,i)=>{if(this.containerRef.current){var s=0,a=0;Object.values(this.inputRefs).forEach((e=>{var t,i=null===e||void 0===e||null===(t=e.splide)||void 0===t?void 0:t.root;if(i){var n=i.querySelector(".splide__slide");s=n?n.offsetHeight:0,a=n?n.offsetWidth:0}})),this.setState({containerWidth:this.containerRef.current.offsetWidth,qrcardSize:(0,n.A)((0,n.A)({},this.state.qrcardSize),{},{width:a||e,height:s||this.containerRef.current.offsetHeight||t})})}i&&this.setState({isLoad:!0})},this.lastScrollTime=0,this.handleWheel=e=>t=>{var i=Date.now();if(0!==t.deltaY||0!==t.deltaX){var n,s;if(t.preventDefault(),i-this.lastScrollTime<1200)return;t.preventDefault(),this.lastScrollTime=i;var a=Math.abs(t.deltaX)>Math.abs(t.deltaY)?t.deltaX:t.deltaY,o=null===e||void 0===e?void 0:e.splide,l=null===o||void 0===o?void 0:o.index;null===o||void 0===o||null===(n=o.Components)||void 0===n||null===(s=n.Controller)||void 0===s||s.getEnd();if(a<0&&l<=0)return;a>0?o.go(">"):o.go("<")}},this.pauseOnKeypress=e=>{try{var{ThemeStyle:t}=this.props;if(1==t.slide.autoSlide)if(!["INPUT","TEXTAREA"].includes(e.target.tagName)&&"Space"===e.code&&Object.values(this.inputRefs).length>0){var i;e.preventDefault();var n=null===(i=Object.values(this.inputRefs)[0])||void 0===i?void 0:i.splide;if(n){var s=n.Components.Autoplay;s.isPaused()?s.play():s.pause()}}}catch(a){console.warn(a)}},this.onSliderMove=e=>{var t=e.index;e.length-t===e._o.perPage&&this.requestData()},this.state={loadData:!1,intreval:0,qrcardSize:{width:0,height:0},containerWidth:0,isLoad:!1},this.inputRefs={},this.splideRef=(0,s.createRef)(),this.isDragging=!1,this.handleKeyDown=this.handleKeyDown.bind(this),this.containerRef=s.createRef()}componentDidMount(){var e=document.querySelector(".tb_hc_post_slider"),t=e?e.offsetHeight:this.state.height;setTimeout((()=>{var e,i;this.setState({sliderHeight:t});var n=document.querySelectorAll(".splide__slide");n&&n.forEach((e=>{e.removeAttribute("aria-hidden"),e.removeAttribute("role")})),1767696===(null===(e=this.props.ThemeInfo)||void 0===e?void 0:e.ownerId)&&Object.values(this.inputRefs).forEach((e=>{var t,i=null===e||void 0===e||null===(t=e.splide)||void 0===t?void 0:t.root;i&&i.addEventListener("wheel",this.handleWheel(e),{passive:!1})})),1533063===(null===(i=this.props.ThemeInfo)||void 0===i?void 0:i.ownerId)&&Object.values(this.inputRefs).forEach((e=>{var t,i=null===e||void 0===e||null===(t=e.splide)||void 0===t?void 0:t.root;i&&i.addEventListener("keydown",this.handleKeyDown)}))}),100),window.addEventListener("keydown",this.pauseOnKeypress),this.props.loadBranding()}componentWillUnmount(){var e;window.removeEventListener("keydown",this.pauseOnKeypress),1767696===(null===(e=this.props.ThemeInfo)||void 0===e?void 0:e.ownerId)&&Object.values(this.inputRefs).forEach((e=>{var t,i,n=null===e||void 0===e||null===(t=e.splide)||void 0===t?void 0:t.root;n&&(n.removeEventListener("wheel",this.handleWheel(e)),1533063===(null===(i=this.props.ThemeInfo)||void 0===i?void 0:i.ownerId)&&n.removeEventListener("keydown",this.handleKeyDown))}))}handleKeyDown(e){"Tab"===e.key&&this.props.modalPop.isShowPopUp&&(e.preventDefault(),console.log("Tab key press prevented!"))}render(){var{postData:e,completeDataObject:t,Reviews:i,CardStyle:n,ThemeStyle:s,ThemeInfo:a,parentID:l,onClickToCTA:d,containerSize:c,clickToShowPopUp:h,SnapUp:p}=this.props,{QrCode:v,Form:_}=p,{qrcardSize:m,containerWidth:b,isLoad:x}=this.state,f=s.slide.autoSlide,w=s.slide.slideDuration,g=s.autoScrollStatus,C=!!(1===n.content.trimcontent),y={type:1!==g&&"slide",role:"article",easing:"ease-in-out",label:"social widget",rewind:1774774!=a.ownerId,speed:1e3,loop:1!==g,interval:f?1e3*w:5e3,perPage:(0,r.Ci)(c.width,s.column,280),gap:0,perMove:1767696===(null===a||void 0===a?void 0:a.ownerId)&&(0,r.Ci)(c.width,s.column,280),autoplay:!!f,pagination:!1,arrows:e.length>=(0,r.Ci)(c.width,s.column,280),fixedHeight:C,padding:1767696===(null===a||void 0===a?void 0:a.ownerId)?{right:"8rem"}:"0",pauseOnHover:!0,pauseOnFocus:!0},j=a.IsUser&&!(0,r.Fr)()&&(v.status||_.status);return""!=l?(0,u.jsxs)("div",{ref:this.containerRef,className:"tb_hc_post_container  ".concat(j?"tb_post_container_qr":null," ").concat(1767696===(null===a||void 0===a?void 0:a.ownerId)?"custom_hc_post_container":""),children:[j?(0,u.jsx)("div",{style:{width:m.width},children:(0,u.jsx)("div",{className:"fixed-qr-card",children:(0,u.jsx)(I.default,{updateContainerSize:this.updateContainerSize,CardStyle:n,ThemeInfo:a,SnapUp:p,postSize:100,isLoad:x,qrCardWidth:m.width,qrCardHeight:m.height,sliderClass:"tb_hc_post_in "})})}):null,(0,u.jsx)("div",{style:{width:j?"".concat(b-m.width,"px"):"100%"},children:(0,u.jsxs)(o.eB,{hasTrack:!1,className:"tb_hc_post_slider  ".concat(j?"tb_post_slider_qr":"","  ").concat(1767696===(null===a||void 0===a?void 0:a.ownerId)?"custom-splide":""," ").concat(C?"tb_hc_fixed_height":""),ref:e=>{this.inputRefs[e]=e},options:y,tag:"section",onMove:this.onSliderMove,children:[(0,u.jsx)("div",{className:"splide__track",children:(0,u.jsx)("div",{className:"splide__list",children:e&&e.length>0&&e.map(((e,o)=>{var r=t[e];return e?(0,u.jsx)("div",{className:"splide__slide tb_".concat(r.id),"data-id":r.id,p_id:l,children:(0,u.jsx)(S,{onClickToCTA:d,Post:r,Reviews:i,index:o,CardStyle:n,ThemeStyle:s,ThemeInfo:a,clickToShowPopUp:h})},o):(0,u.jsx)("div",{className:"splide__slide tb_".concat(0),"data-id":0,p_id:0},o)}))})}),(0,u.jsx)("div",{className:"splide__arrows splide__arrows--ltr tb_hc_arrow_wrapper_","aria-label":"Slider Navigation Wrapper",children:(0,u.jsxs)("div",{style:{display:x||!j?"flex":"none"},children:[(0,u.jsx)("button",{type:"button",className:"tb_hc_arrow splide__arrow splide__arrow--prev tb_hc_arrow_left__ tb__icon tb-arrow-left-alt ".concat(j?"left-arrow-wrapper":null),"aria-labelledby":"Navigation Previous Slide",children:" "}),(0,u.jsx)("button",{type:"button",className:"tb_hc_arrow splide__arrow splide__arrow--next tb_hc_arrow_right__ tb__icon tb-arrow-right-alt","aria-labelledby":"Navigation Next Slide",onClick:this.requestData,children:" "})]})})]})})]}):null}}const T=(0,s.memo)((0,a.Ng)((e=>({modalPop:e.modalPop,loaderData:e.loaderData})),(e=>({nextData:(t,i,n,s,a,o,l,r)=>e((0,k.wF)(t,i,n,s,a,o,l,r))})))(N))},95098:()=>{}}]);