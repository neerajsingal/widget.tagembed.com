"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[566],{50566:(e,t,o)=>{o.r(t),o.d(t,{default:()=>v});var i=o(89379),s=o(9950),a=o(66345),r=o(10300),l=o(53556),n=o(61302),d=o(21850),c=o(52867),h=o(78262),p=o(3720),_=o(15537),u=o(44414);const b=e=>{let{Post:t,ThemeInfo:o,ThemeStyle:i,CardStyle:s,ThemeRule:a,index:r,ProductSetting:l,inView:n}=e;const d=81==o.id&&s.style.ratio||100,c=[3,5].includes(t.type)&&1==i.autoPlay||!1,b=!t.hotspot;return(0,u.jsxs)("div",{className:"tb_ht_media_wrap",children:[(0,u.jsx)(_.default,{Post:t,IconClass:"tb_ht_media_icon",isCenter:!1,show:b,hideVideo:c}),c?(0,u.jsx)(p.A,{VideoClass:"tb_ht_video",Post:t,size:d,isCover:!0,controls:!1,autoPlay:c,muted:!0,index:r,inView:n}):(0,u.jsx)(h.A,{ImageClass:"tb_ht_image",Post:t,size:d,hotspot:!0,ProductSetting:l,index:r,inView:n})]})};var m=o(56071);const w=(0,s.lazy)((()=>Promise.resolve().then(o.bind(o,92663)))),x=(0,s.lazy)((()=>o.e(7713).then(o.bind(o,47713)))),S=e=>{let{Post:t,CardStyle:o,index:i,ThemeInfo:r,onClickToCTA:l,ThemeStyle:n,ProductSetting:d,clickToShowPopUp:c,onClickPopUpSlider:h}=e;const p=81!=r.id,_=a.MH?"tb_ht_color_overlay":"tb_ht_post_overlay-dark",S={backgroundColor:o.style.background},g=p?"50%":null,v=!!(o.shopText&&t.products.length&&r.isShoppable);return(0,s.useEffect)((()=>{t.isPopUp&&h(i,t)}),[i,t.isPopUp,t]),(0,u.jsx)(m.A,{children:e=>{var a;let{ref:l,inView:h}=e;return(0,u.jsx)("div",{id:"tb_ht_id-".concat(t.id),className:"tb_ht_post_wrapper",onClick:c(i,t),style:{padding:o.style.margin/2,opacity:h?1:0,transition:h?"opacity .5s ease-in-out":""},"tb-network":t.network.id,"tb-product":t.isShopIcon?1:t.isHotspot?2:0,"area-label":t.content.text,role:"article",ref:l,"post-id":t.referenceId?t.referenceId:t.id,"feed-id":t.feedId,children:(0,u.jsx)("div",{className:"tb_ht_post_in",style:{borderRadius:g},role:"button","aria-label":"Popup",tabIndex:"0",children:(0,u.jsxs)("div",{className:"tb_ht_post_media_wrapp",role:"button",tabIndex:"0","aria-label":"Pop Up Button",children:[(0,u.jsx)(b,{Post:t,CardStyle:o,ProductSetting:d,ThemeStyle:n,ThemeInfo:r,index:i,inView:h},i),(0,u.jsxs)("div",{className:"tb_ht_post_details",children:[null!==o&&void 0!==o&&null!==(a=o.icon)&&void 0!==a&&a.status?(0,u.jsx)("div",{className:"tb_ht_social_",children:(0,u.jsx)(s.Suspense,{fallback:(0,u.jsx)(u.Fragment,{}),children:(0,u.jsx)(w,{networkClass:"tb_ht_social_ico_",networkId:t.networkId,iconStyle:o.icon})})}):null,v?(0,u.jsx)(s.Suspense,{fallback:(0,u.jsx)(u.Fragment,{}),children:(0,u.jsx)(x,{CardStyle:o,mode:1,btnClass:"tb_ht_btn_wrap"})}):null]}),(0,u.jsx)("div",{className:"tb_ht_post_overlay ".concat(_),style:S,children:(0,u.jsx)("div",{})})]})})})}})};o(61038);class g extends s.Component{constructor(e){super(e),this.requestData=()=>{const{appendData:e,ThemeInfo:t,ThemeStyle:o,CardStyle:i,hasMoreData:s,nextData:r,containerSize:l,loaderData:n}=this.props,d=(i.minimumWidth||150)+10;s&&o.autoScrollStatus&&!n.isShowMoreLoading&&r(a.aD?t.wallId:t.webId,Math.floor(Date.now()/1e3),(0,c.Ci)(l.width,o.column,d),e.networkID,e.after,e.heightEvent)},this.autoScrollSlider=e=>{const t=e.index;e.length-t===e._o.perPage&&this.requestData()},this.inputRefs={},this.isDragging=!1}componentDidMount(){setTimeout((()=>{const e=document.querySelectorAll(".splide__slide");e&&e.forEach((e=>{e.removeAttribute("aria-hidden"),e.removeAttribute("role")}))}),100),this.props.loadBranding()}render(){const{postData:e,completeDataObject:t,CardStyle:o,ThemeStyle:s,ThemeInfo:a,parentID:r,onClickToCTA:d,onClickPopUpSlider:h,containerSize:p,ProductSetting:_,clickToShowPopUp:b}=this.props,m=s.slide.autoSlide,w=s.slide.slideDuration,x=s.autoScrollStatus,g=r,v={},y=(1===x||!Object.keys(v).length)&&"slide",j=(o.minimumWidth||150)+10,C=(0,c.Ci)(p.width,s.column,j),f=(0,i.A)((0,i.A)({},v),{},{grid:{rows:1},type:1!==x&&y,rewind:!0,rewindSpeed:1e3,interval:1===m&&parseInt(w)>0?1e3*parseInt(w):5e3,perPage:C,perMove:1,gap:0,autoplay:1===m,padding:0,pagination:!1,arrows:!0});let k=e.length<10?Array.from({length:10},((t,o)=>e[o%e.length])):e;return""!=r?(0,u.jsx)("div",{className:"tb_ht_post_container",children:(0,u.jsxs)(l.eB,{hasTrack:!1,className:"tb_ht_post_slider",options:f,extensions:{Grid:n.x},ref:e=>this.inputRefs[g]=e,onMove:this.autoScrollSlider,children:[(0,u.jsx)("div",{className:"splide__track",children:(0,u.jsx)("div",{className:"splide__list",children:(s.row>1&&1!==k.length&&k.length%2!==0?k.pop():k)&&k&&k.length>0&&k.map(((e,i)=>{const l=t[e];return(0,u.jsx)("div",{className:"splide__slide tb_".concat(l.id),"data-id":l.id,p_id:r,children:(0,u.jsx)(S,{onClickToCTA:d,onClickPopUpSlider:h,Post:l,index:i,ProductSetting:_,clickToShowPopUp:b,CardStyle:o,ThemeStyle:s,ThemeInfo:a})},i)}))})}),(0,u.jsxs)("div",{className:"splide__arrows splide__arrows--ltr tb_ht_arrow_wrapper_",children:[(0,u.jsx)("div",{className:"tb_ht_arrow splide__arrow splide__arrow--prev tb_ht_arrow tb_ht_arrow_left__ tb__icon tb-arrow-left-alt",role:"button","aria-label":"Go to previous slide",children:(0,u.jsx)("div",{})}),(0,u.jsx)("div",{className:"tb_ht_arrow splide__arrow splide__arrow--next tb_ht_arrow_right__ tb__icon tb-arrow-right-alt",role:"button","aria-label":"Go to next slide",children:(0,u.jsx)("div",{})})]})]})}):null}}const v=(0,s.memo)((0,r.Ng)((e=>({loaderData:e.loaderData})),(e=>({nextData:(t,o,i,s,a,r,l,n)=>e((0,d.wF)(t,o,i,s,a,r,l,n))})))(g))}}]);