"use strict";(self.webpackChunkwebsite_editor=self.webpackChunkwebsite_editor||[]).push([[111],{5111:(e,t,l)=>{l.r(t),l.d(t,{default:()=>n});var d=l(9950),i=l(300),s=l(6345),a=l(4414);const n=(0,d.memo)((e=>{let{noFdCrt:t,isMobile:l=!1}=e;const[n,o]=(0,d.useState)(!1),[r,m]=(0,d.useState)(0),u=0==t,{selectedTheme:v,Personalization:c,postData:h,reviewFilters:w,Banner:p}=(0,i.d4)((e=>e.themeReducer),i.bN),g=v.wallId?v.wallId:null,b=e=>{e&&e.data&&"reloadWebsite"===e.data.type&&o(!0)};return(0,d.useEffect)((()=>(window.addEventListener("message",b),()=>{window.removeEventListener("message",b)})),[]),(0,d.useEffect)((()=>{u&&g&&r!=g&&m(g),n&&!u&&(()=>{let e=setTimeout((()=>{var t;const d=document.getElementById("themePreviewWebsite"),i={data:{wall:{Banner:82==(null===v||void 0===v?void 0:v.themeId)?{}:p,Wall:{id:"addfeedload",name:""},Personalization:Object.keys(c).length>0?{...c,widgetTheme:null===v||void 0===v?void 0:v.themeId,signageTheme:null===v||void 0===v?void 0:v.themeId}:{widgetTheme:null===v||void 0===v?void 0:v.themeId,signageTheme:null===v||void 0===v?void 0:v.themeId},ThemeRule:{...v,...l&&s.l_?{postFeatured:0}:{}}},postData:h,reviewFilters:w},type:"reloadTheme"};null===d||void 0===d||null===(t=d.contentWindow)||void 0===t||t.postMessage(i,"*"),clearTimeout(e)}),100)})()}),[t,v,n]),(0,a.jsxs)("div",{className:"mi-preview "+(["49","52","85"].includes(String(null===v||void 0===v?void 0:v.themeId))?"singleTheme":""),style:{width:`calc(100% - ${u?350:422}px)`},children:[0!=r?(0,a.jsx)("iframe",{src:`${s.Rt}/${r}`,style:{display:u?"block":"none"},title:"preview-default"}):null,(0,a.jsx)("iframe",{id:"themePreviewWebsite",src:`${s.QF}?addfeedload=load`,style:{display:u?"none":"block"},title:"preview-user"})]})}))}}]);