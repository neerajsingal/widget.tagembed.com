"use strict";(self.webpackChunkwebsite_editor=self.webpackChunkwebsite_editor||[]).push([[475],{4313:(e,t,s)=>{s.d(t,{A:()=>o});var n=s(9246),i=s(6345),l=s(2867);const a=e=>{const t=(0,l.yN)("accessToken"),s={guestid:(0,l.yN)("referenceId"),authorization:`Bearer ${t}`};return{...e,headers:{...s,...e.headers}}};const o=class{constructor(){const e={baseURL:i.nC},t=n.A.create(e);return t.interceptors.request.use(a),n.A.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e)})),t}}},7722:(e,t,s)=>{s.d(t,{s:()=>d,y:()=>c});var n=s(3271),i=s(2867),l=s(6345),a=s(4313);const o=[{type:6,title:{text:"",style:{size:24,color:"#000000",font:"Open Sans",variant:"regular",fontLink:"Open+Sans"}},subTitle:{text:"",style:{size:16,color:"#fdb023",font:"Default",variant:"Follow",fontLink:"Default"}},button:{text:"Write a Review",followLink:"",style:{background:"#1895F6",color:"#ffffff",size:14,font:"Default",variant:"Follow",fontLink:"Default"}},star:{color:"#fdb023"},background:{url:null,primaryColor:"#ffffff",secondaryColor:"#1895F6"},position:1,height:100,status:1}],r={reviewFilters:[],reviewDetails:{totalReviewGiven:0,avgRating:0},headerStatus:1,themeStatus:1,headerType:1},d=()=>(new a.A).get(`${l.mi}?v=1.0.2`),c=(e,t,s,d)=>c=>{let h=(0,i.yN)("referenceId");h||(h=`TGB-${Date.now()}-${Math.floor(1e4*Math.random())}`,(0,i.UW)("referenceId",h)),c({type:n.zh,payload:h}),(e=>(new a.A).get(`${l.hH}?networkId=${e}`))(e).then((a=>{if(null!==a&&void 0!==a&&a.data){const{data:m,statusCode:p}=a.data;if(200==p&&Object.keys(m||{}).length>0){const{themes:a,CardStyle:p,Error:u,ThemeInfo:f,ThemeStyle:v,token:y}=m;let g;(0,i.UW)("accessToken",y);let b={themes:[],Personalization:{CardStyle:{...p||{}},Error:u,ThemeInfo:f,ThemeStyle:v,ProductSetting:{},Reviews:4==e?r:{},aiSummary:{},Banner:4==e?o:[],webFilters:[],Background:{},SnapUp:{}}};if((null===a||void 0===a?void 0:a.length)>0){if(l.l_){var h;(0,i.UW)("selectLayout",1),g=null===(h=a[0])||void 0===h?void 0:h.theme[0],b.themes=a}else{const e=(0,i.v4)(t,a);g=e.find((e=>e.themeId==s)),b.themes=e}(0,i.UW)(`widgetThemes-${e}`,b),c({type:n.Vp,payload:{...b,token:y}}),setTimeout((()=>c({type:n.H$,payload:{selectedTheme:g,networkId:e}})),100)}d&&d(!0)}else d&&d(!1)}})).catch((e=>{d&&d(!1)}))}},5402:(e,t,s)=>{s.d(t,{A:()=>l});var n=s(6345),i=s(4414);const l=e=>{const{altTxt:t,clsname:s,path:l,isPrefix:a}=e;return(0,i.jsx)("img",{src:`${a?"":n.ZU}${l}`,alt:t,className:s,...e})}},7475:(e,t,s)=>{s.r(t),s.d(t,{default:()=>T});var n=s(9950),i=s(300),l=s(6345),a=s(7836),o=s(2867),r=s(7722),d=s(3271),c=s(5402),h=s(4414);const m=(0,n.lazy)((()=>Promise.all([s.e(901),s.e(752)]).then(s.bind(s,4752)))),p=(0,n.lazy)((()=>s.e(893).then(s.bind(s,2893)))),u=(0,n.lazy)((()=>s.e(616).then(s.bind(s,9616)))),f=(0,n.lazy)((()=>Promise.all([s.e(695),s.e(901),s.e(204)]).then(s.bind(s,6204)))),v=(0,n.lazy)((()=>s.e(111).then(s.bind(s,5111)))),y=(0,n.lazy)((()=>s.e(195).then(s.bind(s,3195)))),g=(0,n.lazy)((()=>Promise.all([s.e(695),s.e(370)]).then(s.bind(s,1370)))),b={step:l.l_?1:0,noFdCrt:0,networkId:0,netName:"",isMobile:!1,mbOpt:!0,request:!1};class S extends n.Component{constructor(e){var t;super(e),t=this,this.getAppCNT=()=>{(0,r.s)().then((e=>{if(null!==e&&void 0!==e&&e.data){const t=e.data;if(this.props.stCNT(t),t.dummyThemes){const{id:e,name:s}=(0,o.zD)(),n=()=>this.setState({networkId:e,netName:s},(()=>this.checkStep(t.dummyThemes)));4==e?(0,o.Wx)(`https://maps.googleapis.com/maps/api/js?key=${(0,o.af)(a.i0)}&libraries=places`,n):n()}}})).catch((e=>console.error("ex content",e)))},this.getDWidth=()=>{const e=document.querySelector(".micro-main");e&&this.setState({isMobile:e.offsetWidth<768})},this.checkStep=e=>{var t,s,n,i,l;const{networkId:a}=this.state,{stTH:r,stSelTH:d,stRfId:c,stPost:h}=this.props;let m=this.state.step,p=0;const u=(0,o.yN)("referenceId"),f=(0,o.yN)("accessToken"),v=(0,o.yN)(`widgetThemes-${a}`),y=(0,o.yN)(`feedCreated-${a}`),g=(0,o.yN)(`postCreated-${a}`),b=null!==(t=(0,o.yN)(`reviewFilters-${a}`))&&void 0!==t?t:[],S=(0,o.yN)(`selectedTheme-${a}`);u&&f&&(null===v||void 0===v||null===(s=v.themes)||void 0===s?void 0:s.length)>0&&null!==v&&void 0!==v&&null!==(n=v.Personalization)&&void 0!==n&&null!==(i=n.ThemeInfo)&&void 0!==i&&i.id&&(m=1,g&&(p=y||0,m=2));let T=[];T=0==m?e&&Object.keys(e).length>0?e[a]:[]:null===v||void 0===v?void 0:v.themes,c(u),r({themes:T,Personalization:(null===v||void 0===v?void 0:v.Personalization)||{},token:null!==f&&void 0!==f?f:null}),(null===(l=T)||void 0===l?void 0:l.length)>0&&d(S||T[0],a),2==m&&setTimeout((()=>h({posts:g,reviewFilters:b})),100),this.setState({step:m,noFdCrt:p})},this.resetState=()=>{const{networkId:e,netName:t}=this.state;this.setState({...b,networkId:e,netName:t})},this.moveStep=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const{step:s,networkId:n,noFdCrt:i}=t.state,{getThemes:l,themeData:a}=t.props;if(0==s){const{selectedTheme:e,themes:s}=a;t.setState({request:!0}),l(n,s,e.themeId,(e=>{t.setState({request:!1,step:e?1:0})}))}else if(1==s){const s=e?i+1:i;t.setState({step:2,noFdCrt:s},(()=>{(0,o.UW)(`feedCreated-${n}`,s)}))}else t.setState({step:3})},this.setActiveTab=e=>this.setState({step:e}),this.state={...b}}componentDidMount(){this.getAppCNT(),this.getDWidth(),window.addEventListener("resize",this.getDWidth)}componentWillUnmount(){window.removeEventListener("resize",this.getDWidth)}render(){const{step:e,networkId:t,isMobile:s,mbOpt:i,netName:a,noFdCrt:o}=this.state,{content:r,themeData:d}=this.props;return(0,h.jsx)("div",{className:l.l_?`sw_microTheme ${i?"":"aside_open"} ${3==e?"no_sidebar":""}`:"",children:(0,h.jsx)("div",{className:`micro-main website-${l.bl}`,children:l.l_?(0,h.jsx)("div",{className:"micro-inn",children:1==e?t?(0,h.jsx)(m,{...this.state,moveStep:this.moveStep}):"":(0,h.jsxs)(h.Fragment,{children:[s?(0,h.jsxs)("div",{className:"mi-mobile-gear "+(i?"":"open"),onClick:()=>this.setState({mbOpt:!i}),children:[(0,h.jsx)(c.A,{path:"/micro/gear.svg",altTxt:"gear",clsname:"img-fluid"}),(0,h.jsx)(c.A,{path:"/micro/close.svg",altTxt:"close",clsname:"img-fluid"})]}):null,(0,h.jsx)(n.Suspense,{fallback:null,children:(0,h.jsx)(g,{...this.state,moveStep:this.moveStep,setActiveTab:this.setActiveTab})}),(0,h.jsx)(n.Suspense,{fallback:null,children:(0,h.jsx)(v,{noFdCrt:o,isMobile:s})}),3==e?(0,h.jsx)(n.Suspense,{fallback:null,children:(0,h.jsx)(y,{selectedTheme:d.selectedTheme,networkId:t,content:r,resetState:this.resetState,backAction:()=>this.setState({step:2})})}):null]})}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(n.Suspense,{fallback:null,children:(0,h.jsx)(p,{title:`${a} Widget`,step:e,backAction:()=>this.setState({step:2})})}),(0,h.jsxs)("div",{className:"micro-inn",children:[s?(0,h.jsxs)("div",{className:"mi-mobile-gear "+(i?"":"open"),onClick:()=>this.setState({mbOpt:!i}),children:[(0,h.jsx)(c.A,{path:"/micro/gear.svg",altTxt:"gear",clsname:"img-fluid"}),(0,h.jsx)(c.A,{path:"/micro/close.svg",altTxt:"close",clsname:"img-fluid"})]}):null,e>2?(0,h.jsx)(n.Suspense,{fallback:null,children:(0,h.jsx)(y,{selectedTheme:d.selectedTheme,networkId:t,content:r,resetState:this.resetState})}):(0,h.jsxs)(h.Fragment,{children:[s&&i?null:(0,h.jsxs)(h.Fragment,{children:[0==e?null:(0,h.jsx)(n.Suspense,{fallback:null,children:(0,h.jsx)(u,{...this.state,setActiveTab:this.setActiveTab})}),(0,h.jsx)(n.Suspense,{fallback:null,children:(0,h.jsx)(f,{...this.state,moveStep:this.moveStep})})]}),(0,h.jsx)(n.Suspense,{fallback:null,children:(0,h.jsx)(v,{noFdCrt:o})})]})]})]})})})}}const T=(0,i.Ng)((e=>({themeData:e.themeReducer,content:e.contentReducer.sCNT})),(e=>({stTH:t=>e({type:d.Vp,payload:t}),stSelTH:(t,s)=>e({type:d.H$,payload:{selectedTheme:t,networkId:s}}),stPost:t=>e({type:d.xg,payload:t}),stRfId:t=>e({type:d.zh,payload:t}),stCNT:t=>e({type:d.gZ,payload:t}),getThemes:(t,s,n,i)=>e((0,r.y)(t,s,n,i))})))((0,n.memo)(S))}}]);