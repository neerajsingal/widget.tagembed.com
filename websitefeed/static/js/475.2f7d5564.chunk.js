"use strict";(self.webpackChunkwebsite_editor=self.webpackChunkwebsite_editor||[]).push([[475],{4313:(e,t,s)=>{s.d(t,{A:()=>o});var n=s(9246),i=s(6345),a=s(2867);const l=e=>{const t=(0,a.yN)("accessToken"),s={guestid:(0,a.yN)("referenceId"),authorization:`Bearer ${t}`};return{...e,headers:{...s,...e.headers}}};const o=class{constructor(){const e={baseURL:i.nC},t=n.A.create(e);return t.interceptors.request.use(l),n.A.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e)})),t}}},7722:(e,t,s)=>{s.d(t,{s:()=>c,y:()=>d});var n=s(3271),i=s(2867),a=s(6345),l=s(4313);const o=[{type:6,title:{text:"",style:{size:24,color:"#000000",font:"Open Sans",variant:"regular",fontLink:"Open+Sans"}},subTitle:{text:"",style:{size:16,color:"#fdb023",font:"Default",variant:"Follow",fontLink:"Default"}},button:{text:"Write a Review",followLink:"",style:{background:"#1895F6",color:"#ffffff",size:14,font:"Default",variant:"Follow",fontLink:"Default"}},star:{color:"#fdb023"},background:{url:null,primaryColor:"#ffffff",secondaryColor:"#1895F6"},position:1,height:100,status:1}],r={reviewFilters:[],reviewDetails:{totalReviewGiven:0,avgRating:0},headerStatus:1,themeStatus:1,headerType:1},c=()=>(new l.A).get(`${a.mi}?v=1.0.5`),d=(e,t,s,c)=>d=>{let h=(0,i.yN)("referenceId");h||(h=`TGB-${Date.now()}-${Math.floor(1e4*Math.random())}`,(0,i.UW)("referenceId",h)),d({type:n.zh,payload:h}),(e=>(new l.A).get(`${a.hH}?networkId=${e}`))(e).then((l=>{if(null!==l&&void 0!==l&&l.data){const{data:m,statusCode:p}=l.data;if(200==p&&Object.keys(m||{}).length>0){const{themes:l,CardStyle:p,Error:u,ThemeInfo:f,ThemeStyle:v,token:g}=m;let w;(0,i.UW)("accessToken",g);let b={themes:[],Personalization:{CardStyle:{...p||{}},Error:u,ThemeInfo:f,ThemeStyle:v,ProductSetting:{},Reviews:4==e?r:{},aiSummary:{},Banner:4==e?o:[],webFilters:[],Background:{},SnapUp:{}}};if((null===l||void 0===l?void 0:l.length)>0){if(a.l_){var h;(0,i.UW)("selectLayout",1),w=null===(h=l[0])||void 0===h?void 0:h.theme[0],b.themes=l}else{const e=(0,i.v4)(t,l);w=e.find((e=>e.themeId==s)),b.themes=e}(0,i.UW)(`widgetThemes-${e}`,b),d({type:n.Vp,payload:{...b,token:g}}),setTimeout((()=>d({type:n.H$,payload:{selectedTheme:w,networkId:e}})),100)}c&&c(!0)}else c&&c(!1)}})).catch((e=>{c&&c(!1)}))}},5402:(e,t,s)=>{s.d(t,{A:()=>a});var n=s(6345),i=s(4414);const a=e=>{const{altTxt:t,clsname:s,path:a,isPrefix:l,...o}=e;return(0,i.jsx)("img",{src:`${l?"":n.ZU}${a}`,alt:t,className:s,...o})}},7475:(e,t,s)=>{s.r(t),s.d(t,{default:()=>x});var n=s(9950),i=s(300),a=s(6345),l=s(7836),o=s(1225),r=s(2867),c=s(7722),d=s(3271),h=s(5402),m=s(4414);const p=(0,n.lazy)((()=>Promise.all([s.e(901),s.e(964)]).then(s.bind(s,6964)))),u=(0,n.lazy)((()=>s.e(893).then(s.bind(s,2893)))),f=(0,n.lazy)((()=>s.e(616).then(s.bind(s,9616)))),v=(0,n.lazy)((()=>Promise.all([s.e(695),s.e(901),s.e(204)]).then(s.bind(s,6204)))),g=(0,n.lazy)((()=>s.e(111).then(s.bind(s,5111)))),w=(0,n.lazy)((()=>s.e(472).then(s.bind(s,7472)))),b=(0,n.lazy)((()=>Promise.all([s.e(695),s.e(370)]).then(s.bind(s,1370)))),S={step:a.l_?1:0,noFdCrt:0,networkId:0,netName:"",isMobile:!1,mbOpt:!0,request:!1,isRwGen:!1};class k extends n.Component{constructor(e){var t;super(e),t=this,this.getAppCNT=()=>{(0,c.s)().then((e=>{if(null!==e&&void 0!==e&&e.data){const t=e.data;if(this.props.stCNT(t),t.dummyThemes){const{id:e,name:s}=(0,r.zD)(),n=()=>this.setState({networkId:e,netName:s},(()=>this.checkStep(t.dummyThemes)));4==e?(0,r.Wx)(`https://maps.googleapis.com/maps/api/js?key=${(0,r.af)(l.i0)}&libraries=places`,n):n()}}})).catch((e=>console.error("ex content",e)))},this.getDWidth=()=>{const e=document.querySelector(".micro-main");e&&this.setState({isMobile:e.offsetWidth<991})},this.checkStep=e=>{var t;const{networkId:s,isRwGen:n}=this.state,{stTH:i,stSelTH:a,stRfId:l,stPost:c}=this.props;let d=this.state.step,h=0;const m=(0,r.yN)("referenceId"),p=(0,r.yN)("accessToken"),u=(0,r.yN)(`widgetThemes-${s}`),f=(0,r.yN)(`feedCreated-${s}`),v=(0,r.yN)(`postCreated-${s}`),g=null!==(t=(0,r.yN)(`reviewFilters-${s}`))&&void 0!==t?t:[],w=(0,r.yN)(`selectedTheme-${s}`);if(n){(0,o.j)(s);const t=(null===e||void 0===e?void 0:e[s])||[];i({themes:t,Personalization:{},token:null}),(null===t||void 0===t?void 0:t.length)>0&&a((null===t||void 0===t?void 0:t[0])||{},s),this.setState({step:0,noFdCrt:0},this.moveStep)}else{var b,S,k,x;m&&p&&(null===u||void 0===u||null===(b=u.themes)||void 0===b?void 0:b.length)>0&&null!==u&&void 0!==u&&null!==(S=u.Personalization)&&void 0!==S&&null!==(k=S.ThemeInfo)&&void 0!==k&&k.id&&(d=1,v&&(h=f||0,d=2));let t=[];t=0==d?e&&Object.keys(e).length>0?e[s]:[]:null===u||void 0===u?void 0:u.themes,l(m),i({themes:t,Personalization:(null===u||void 0===u?void 0:u.Personalization)||{},token:null!==p&&void 0!==p?p:null}),(null===(x=t)||void 0===x?void 0:x.length)>0&&a(w||t[0],s),2==d&&setTimeout((()=>c({posts:v,reviewFilters:g})),100),this.setState({step:d,noFdCrt:h})}(0,r.UW)("isRwGen",n)},this.resetState=()=>{const{networkId:e,netName:t}=this.state;this.setState({...S,networkId:e,netName:t})},this.moveStep=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const{step:s,networkId:n,noFdCrt:i,isRwGen:a}=t.state,{getThemes:l,themeData:o}=t.props;if(a&&1==s&&3==e)return t.setState({step:3});if(0==s){const{selectedTheme:e,themes:s}=o;t.setState({request:!0}),l(n,s,e.themeId,(e=>{t.setState({request:!1,step:e?1:0})}))}else if(1==s){const s=e?i+1:i;t.setState({step:2,noFdCrt:s},(()=>{(0,r.UW)(`feedCreated-${n}`,s)}))}else t.setState({step:3})},this.setActiveTab=e=>this.setState({step:e}),this.state={...S}}componentDidMount(){const e=(0,r.ex)();e&&(0,r.zb)(`${a.u0}/react-app/font-awesome/css/all.css`),this.setState({isRwGen:e},(()=>{this.getAppCNT(),this.getDWidth()})),window.addEventListener("resize",this.getDWidth)}componentWillUnmount(){window.removeEventListener("resize",this.getDWidth)}render(){const{step:e,networkId:t,isMobile:s,mbOpt:i,netName:l,noFdCrt:o,isRwGen:r}=this.state,{content:c,themeData:d}=this.props;return(0,m.jsx)("div",{className:a.l_?`sw_microTheme ${i?"":"aside_open"} ${3==e?"no_sidebar":""}`:""+(r?"isRwGen":""),children:(0,m.jsx)("div",{className:`micro-main website-${a.bl}`,children:r?t?3==e?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(u,{title:`${l} Widget`,step:e,backAction:()=>this.setState({step:0==o?1:2})}),(0,m.jsx)(n.Suspense,{fallback:null,children:(0,m.jsx)(w,{selectedTheme:d.selectedTheme,networkId:t,content:c,resetState:this.resetState,backAction:()=>this.setState({step:2})})})]}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(p,{...this.state,moveStep:this.moveStep}),(0,m.jsxs)("div",{className:"mi-main-wrap d-flex",children:[s?(0,m.jsxs)("div",{className:"mi-mobile-gear "+(i?"":"open"),onClick:()=>this.setState({mbOpt:!i}),children:[(0,m.jsx)("i",{className:"fa fa-cog"}),(0,m.jsx)("i",{class:"fa-regular fa-xmark"})]}):null,(0,m.jsx)(n.Suspense,{fallback:null,children:(0,m.jsx)(b,{...this.state,moveStep:this.moveStep,setActiveTab:this.setActiveTab})}),(0,m.jsx)(n.Suspense,{fallback:null,children:(0,m.jsx)(g,{noFdCrt:o,isMobile:s})})]})]}):null:a.l_?(0,m.jsx)("div",{className:"micro-inn",children:1==e?t?(0,m.jsx)(p,{...this.state,moveStep:this.moveStep}):null:(0,m.jsxs)(m.Fragment,{children:[s?(0,m.jsxs)("div",{className:"mi-mobile-gear "+(i?"":"open"),onClick:()=>this.setState({mbOpt:!i}),children:[(0,m.jsx)(h.A,{path:"/micro/gear.svg",altTxt:"gear",clsname:"img-fluid"}),(0,m.jsx)(h.A,{path:"/micro/close.svg",altTxt:"close",clsname:"img-fluid"})]}):null,(0,m.jsx)(n.Suspense,{fallback:null,children:(0,m.jsx)(b,{...this.state,moveStep:this.moveStep,setActiveTab:this.setActiveTab})}),(0,m.jsx)(n.Suspense,{fallback:null,children:(0,m.jsx)(g,{noFdCrt:o,isMobile:s})}),3==e?(0,m.jsx)(n.Suspense,{fallback:null,children:(0,m.jsx)(w,{selectedTheme:d.selectedTheme,networkId:t,content:c,resetState:this.resetState,backAction:()=>this.setState({step:2})})}):null]})}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(n.Suspense,{fallback:null,children:(0,m.jsx)(u,{title:`${l} Widget`,step:e,backAction:()=>this.setState({step:2})})}),(0,m.jsxs)("div",{className:"micro-inn",children:[s?(0,m.jsxs)("div",{className:"mi-mobile-gear "+(i?"":"open"),onClick:()=>this.setState({mbOpt:!i}),children:[(0,m.jsx)(h.A,{path:"/micro/gear.svg",altTxt:"gear",clsname:"img-fluid"}),(0,m.jsx)(h.A,{path:"/micro/close.svg",altTxt:"close",clsname:"img-fluid"})]}):null,e>2?(0,m.jsx)(n.Suspense,{fallback:null,children:(0,m.jsx)(w,{selectedTheme:d.selectedTheme,networkId:t,content:c,resetState:this.resetState})}):(0,m.jsxs)(m.Fragment,{children:[s&&i?null:(0,m.jsxs)(m.Fragment,{children:[0==e?null:(0,m.jsx)(n.Suspense,{fallback:null,children:(0,m.jsx)(f,{...this.state,setActiveTab:this.setActiveTab})}),(0,m.jsx)(n.Suspense,{fallback:null,children:(0,m.jsx)(v,{...this.state,moveStep:this.moveStep})})]}),(0,m.jsx)(n.Suspense,{fallback:null,children:(0,m.jsx)(g,{noFdCrt:o})})]})]})]})})})}}const x=(0,i.Ng)((e=>({themeData:e.themeReducer,content:e.contentReducer.sCNT})),(e=>({stTH:t=>e({type:d.Vp,payload:t}),stSelTH:(t,s)=>e({type:d.H$,payload:{selectedTheme:t,networkId:s}}),stPost:t=>e({type:d.xg,payload:t}),stRfId:t=>e({type:d.zh,payload:t}),stCNT:t=>e({type:d.gZ,payload:t}),getThemes:(t,s,n,i)=>e((0,c.y)(t,s,n,i))})))((0,n.memo)(k))},1225:(e,t,s)=>{s.d(t,{f:()=>i,j:()=>a});var n=s(7836);const i=e=>{let t="";e.includes("google")?t=(e=>`https://accounts.google.com/o/oauth2/auth/oauthchooseaccount?response_type=code&redirect_uri=${n.qk}&client_id=${n.kd}&scope=https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fplus.login%20https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email%20https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fplus.business.manage&access_type=offline&approval_prompt=force&state=${e}&service=lso&o2v=1&flowName=GeneralOAuthFlow`)(e):e.includes("facebook")?t=(e=>`https://www.facebook.com/v15.0/dialog/oauth?client_id=${n.vW}&redirect_uri=${n.jK}&state=${e}&scope=user_posts,pages_show_list,pages_manage_metadata,pages_read_engagement,pages_read_user_content,email,pages_manage_posts,public_profile,business_management`)(e):e.includes("linkedin")&&(t=(e=>`https://www.linkedin.com/oauth/v2/authorization?response_type=code&client_id=${n.ft}&redirect_uri=${n.zl}&scope=r_liteprofile r_emailaddress&state=${e}`)(e)),window.open(t,"_self")},a=e=>{const t=["referenceId","accessToken",`widgetThemes-${e}`,`feedCreated-${e}`,`postCreated-${e}`,`selectedTheme-${e}`,`selectedFilter-${e}`,`selectedWall-${e}`,"isRwGen"];for(let s of t)localStorage.removeItem(s)}}}]);