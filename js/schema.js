const TagembedSocialSchema = { gSD(e, t, a) { let r = JSON.parse(a.innerHTML); fetch(`https://api.taggbox.com/api/v1/walls/google-schema/${e}/${t}`, { headers: { "Content-Type": "application/json", productdomain: "taggbox.com" } }).then(e => e.ok ? e.json() : Promise.reject(`HTTP error! Status: ${e.status}`)).then(({ data: e }) => { e?.rating && (r.aggregateRating.ratingValue = e.rating.rating, r.aggregateRating.reviewCount = e.rating.count, a.innerHTML = JSON.stringify(r)) }).catch(e => console.error("Fetch error:", e)) } }; document.querySelectorAll(".tagembed-schema-code").forEach(e => TagembedSocialSchema.gSD(e.getAttribute("data-ref"), e.getAttribute("data-feed-ref"), e));